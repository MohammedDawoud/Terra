(self.webpackChunkterra_cloud=self.webpackChunkterra_cloud||[]).push([[601],{9053:(k,P,c)=>{"use strict";c.d(P,{t:()=>C});var h=c(4327),l=c(4650),Z=c(9383);let C=(()=>{class g{constructor(b){this.translatService=b}exportExcel(b,A,u){c.e(574).then(c.bind(c,574)).then(m=>{const d=m.utils.json_to_sheet(b);let t=[];t.push(u),m.utils.sheet_add_aoa(d,t);const y=m.write({Sheets:{data:d},SheetNames:["data"]},{bookType:"xlsx",type:"array"});this.saveAsExcelFile(y,A)})}exportExcelRTL(b,A,u){c.e(574).then(c.bind(c,574)).then(m=>{const d=m.utils.json_to_sheet(b);d["!dir"]="ltr";let t=[];t.push(u),m.utils.sheet_add_aoa(d,t,{origin:"A1"});const y=m.write({Sheets:{data:d},SheetNames:["data"]},{bookType:"xlsx",type:"array"});this.saveAsExcelFile(y,A)})}saveAsExcelFile(b,A){Promise.resolve().then(c.t.bind(c,4327,23)).then(u=>{const t=new Blob([b],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});(0,h.saveAs)(t,A+"_export_"+(new Date).getTime()+".xlsx")})}}return g.\u0275fac=function(b){return new(b||g)(l.LFG(Z.sK))},g.\u0275prov=l.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()},9601:(k,P,c)=>{"use strict";c.r(P),c.d(P,{ControlPanelModule:()=>Pn});var h=c(6895),N=c(9116),l=c(4006),Z=c(9798),C=c(6308),g=c(671),x=c(4045),b=c(1366),A=c(9585),u=c(1135),m=c(5899),d=c(2340),t=c(4650),v=c(4761),y=c(7185),M=c(9383),F=c(5253),w=c(7536),E=c(1745),O=c(3683),L=c(9241),J=c(8796);const K=["optToggleActivationModal"];function R(n,i){1&n&&(t.TgZ(0,"div",63),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"This field is required")," "))}function $(n,i){1&n&&(t.TgZ(0,"div",63),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"This field is required")," "))}function V(n,i){1&n&&(t.TgZ(0,"div",63),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"This field is required")," "))}function W(n,i){1&n&&(t.TgZ(0,"div",63),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"This field is required")," "))}function X(n,i){1&n&&(t.TgZ(0,"div",63),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"This field is required")," "))}function tt(n,i){if(1&n&&(t.TgZ(0,"ng-option",64),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function et(n,i){1&n&&(t.TgZ(0,"div",63),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"This field is required")," "))}function nt(n,i){1&n&&(t.TgZ(0,"div",63),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"This field is required")," "))}function ot(n,i){1&n&&(t.TgZ(0,"div",63),t._uU(1," Invalid pattern. "),t.qZA())}function rt(n,i){1&n&&(t.TgZ(0,"div")(1,"div",66),t.O4$(),t.TgZ(2,"svg",67),t._UZ(3,"path",68),t.qZA()(),t.kcU(),t.TgZ(4,"div",69),t._uU(5),t.ALo(6,"translate"),t.qZA()()),2&n&&(t.xp6(5),t.hij(" ",t.lcZ(6,1,"Add Image")," "))}function at(n,i){if(1&n&&(t.O4$(),t.kcU(),t._UZ(0,"img",75)),2&n){const e=t.oxw(3);t.s9C("src",e.environmenturl+e.mainInfoForm.controls.logoUrl.value,t.LSH)}}function it(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",70)(1,"span",71),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return r.control.clear(),t.KtG(r.mainInfoForm.controls.logoUrl.setValue(null))}),t.O4$(),t.TgZ(2,"svg",72),t._UZ(3,"path",73),t.qZA()(),t.YNc(4,at,1,1,"img",74),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(4),t.Q6J("ngIf",null!=e.mainInfoForm.controls.logoUrl.value)}}function st(n,i){if(1&n&&(t.YNc(0,rt,7,3,"div",39),t.YNc(1,it,5,1,"div",65)),2&n){const e=t.oxw();t.Q6J("ngIf",0===e.control.size&&null==e.mainInfoForm.controls.logoUrl.value),t.xp6(1),t.Q6J("ngIf",null!=e.mainInfoForm.controls.logoUrl.value)}}function lt(n,i){if(1&n&&(t.O4$(),t.kcU(),t._UZ(0,"img",75),t.ALo(1,"async")),2&n){const e=t.oxw(3);t.Q6J("src",t.lcZ(1,1,e.uploadedFile),t.LSH)}}function ct(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",70)(1,"span",71),t.NdJ("click",function(){const a=t.CHM(e).control;return t.KtG(a.clear())}),t.O4$(),t.TgZ(2,"svg",72),t._UZ(3,"path",73),t.qZA()(),t.YNc(4,lt,2,3,"img",74),t.qZA()}if(2&n){const e=i.control;t.xp6(4),t.Q6J("ngIf",e.valid)}}function ut(n,i){1&n&&t.YNc(0,ct,5,1,"ng-template",null,76,t.W1O)}function pt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",77),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(),a=t.MAs(129);return t.KtG(r.open(a,null,"EncryptValue"))}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"\u062a\u062d\u0648\u064a\u0644 \u0627\u0644\u0628\u0627\u0633\u0648\u0631\u062f")," "))}function mt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",78),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.saveMainInfo())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("disabled",null==e.mainInfoForm.controls.organizationId.value||null==e.mainInfoForm.controls.nameAr.value||null==e.mainInfoForm.controls.nameEn.value||null==e.mainInfoForm.controls.mobile.value||null==e.mainInfoForm.controls.fax.value||null==e.mainInfoForm.controls.cityId.value||null==e.mainInfoForm.controls.taxCode.value||null==e.mainInfoForm.controls.email.value),t.xp6(1),t.hij(" ",t.lcZ(2,2,"Save")," ")}}function dt(n,i){1&n&&(t.TgZ(0,"th",79)(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"\u0643\u0648\u062f \u0627\u0644\u0641\u0631\u0639")))}function ht(n,i){if(1&n&&(t.TgZ(0,"td",80)(1,"span"),t._uU(2),t.qZA()()),2&n){const e=i.$implicit;t.xp6(2),t.Oqu(null==e?null:e.code)}}function gt(n,i){1&n&&(t.TgZ(0,"th",79)(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"\u0627\u0633\u0645 \u0627\u0644\u0641\u0631\u0639")))}function _t(n,i){if(1&n&&(t.TgZ(0,"td",80)(1,"span"),t._uU(2),t.qZA()()),2&n){const e=i.$implicit;t.xp6(2),t.Oqu(null==e?null:e.nameAr)}}function ft(n,i){1&n&&(t.TgZ(0,"th",79)(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"\u0627\u0633\u0645 \u0627\u0644\u0641\u0631\u0639 English")))}function xt(n,i){if(1&n&&(t.TgZ(0,"td",80)(1,"span"),t._uU(2),t.qZA()()),2&n){const e=i.$implicit;t.xp6(2),t.Oqu(null==e?null:e.nameEn)}}function bt(n,i){1&n&&(t.TgZ(0,"th",81),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"operations")," "))}function vt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",84),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().$implicit,a=t.oxw(),s=t.MAs(131);return t.KtG(a.open(s,r,"editBranch"))}),t._UZ(1,"i",85),t.qZA()}}function Ct(n,i){if(1&n&&(t.TgZ(0,"td",80)(1,"div",82),t.YNc(2,vt,2,0,"button",83),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",null==e.userG?null:e.userG.userPrivileges.includes(16000102))}}function Zt(n,i){1&n&&t._UZ(0,"tr",86)}function At(n,i){1&n&&t._UZ(0,"tr",87)}function Tt(n,i){if(1&n&&(t.TgZ(0,"tr",88)(1,"td",89),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n){t.oxw();const e=t.MAs(106);t.xp6(2),t.AsE(" ",t.lcZ(3,2,"noResult"),' "',e.value,'" ')}}function Ut(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",90)(1,"h4",91),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"button",92),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.KtG(a.dismiss("Cross click"))}),t._UZ(5,"i",93),t.qZA()(),t.TgZ(6,"div",94)(7,"div",95)(8,"div",96)(9,"div",8)(10,"label",97),t._uU(11),t.ALo(12,"translate"),t.qZA()()(),t.TgZ(13,"div",98)(14,"div",8)(15,"button",77),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.MaintenanceFunc(1))}),t._uU(16),t.ALo(17,"translate"),t.qZA()()()(),t.TgZ(18,"div",95)(19,"div",96)(20,"div",8)(21,"label",97),t._uU(22),t.ALo(23,"translate"),t.qZA()()(),t.TgZ(24,"div",98)(25,"div",8)(26,"button",77),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.MaintenanceFunc(2))}),t._uU(27),t.ALo(28,"translate"),t.qZA()()()()()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,5,"Maintenance")," "),t.xp6(9),t.hij(" ",t.lcZ(12,7,"(1) - Modify IsMain in Accounts")," "),t.xp6(5),t.hij(" ",t.lcZ(17,9,"maintenance")," "),t.xp6(6),t.hij(" ",t.lcZ(23,11,"(2) - Modifying the order of codes in the accounts")," "),t.xp6(5),t.hij(" ",t.lcZ(28,13,"maintenance")," "))}const z=function(){return{standalone:!0}};function It(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",90)(1,"h4",91),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"button",92),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.KtG(a.dismiss("Cross click"))}),t._UZ(5,"i",93),t.qZA()(),t.TgZ(6,"div",94)(7,"div",95)(8,"div",98)(9,"div",8)(10,"label",97),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"input",99),t.NdJ("ngModelChange",function(r){t.CHM(e);const a=t.oxw();return t.KtG(a.PasswordBefore=r)}),t.qZA()()(),t.TgZ(14,"div",98)(15,"div",8)(16,"label",97),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"input",100),t.NdJ("ngModelChange",function(r){t.CHM(e);const a=t.oxw();return t.KtG(a.PasswordAfter=r)}),t.qZA()()(),t.TgZ(20,"div",101)(21,"div",8)(22,"button",77),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.EncryptPassword())}),t._uU(23),t.ALo(24,"translate"),t.qZA()()()()()}if(2&n){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,8,"Encrypt Password")," "),t.xp6(9),t.hij(" ",t.lcZ(12,10,"\u0623\u062f\u062e\u0644 \u0627\u0644\u0628\u0627\u0633\u0648\u0631\u062f \u0627\u0644\u0630\u064a \u062a\u0631\u064a\u062f \u062a\u062d\u0648\u064a\u0644\u0647")," "),t.xp6(2),t.Q6J("ngModel",e.PasswordBefore)("ngModelOptions",t.DdM(16,z)),t.xp6(4),t.hij(" ",t.lcZ(18,12,"\u0627\u0644\u062a\u062d\u0648\u064a\u0644")," "),t.xp6(2),t.Q6J("ngModel",e.PasswordAfter)("ngModelOptions",t.DdM(17,z)),t.xp6(4),t.hij(" ",t.lcZ(24,14,"\u062a\u062d\u0648\u064a\u0644")," ")}}function Nt(n,i){1&n&&(t.TgZ(0,"div",63),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"This field is required")," "))}function Mt(n,i){1&n&&(t.TgZ(0,"div",63),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"This field is required")," "))}function Pt(n,i){1&n&&(t.TgZ(0,"div",63),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"This field is required")," "))}function yt(n,i){1&n&&(t.TgZ(0,"div",63),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"This field is required")," "))}function Ot(n,i){1&n&&(t.TgZ(0,"div",63),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"This field is required")," "))}function Ft(n,i){1&n&&(t.TgZ(0,"div",63),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"This field is required")," "))}function wt(n,i){if(1&n&&(t.TgZ(0,"ng-option",64),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function Et(n,i){1&n&&(t.TgZ(0,"div",63),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"This field is required")," "))}function kt(n,i){if(1&n&&(t.TgZ(0,"ng-option",64),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function St(n,i){1&n&&(t.TgZ(0,"div",63),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"This field is required")," "))}function qt(n,i){if(1&n&&(t.TgZ(0,"ng-option",64),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function Jt(n,i){1&n&&(t.TgZ(0,"div",63),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"This field is required")," "))}function Dt(n,i){1&n&&(t.TgZ(0,"div")(1,"div",66),t.O4$(),t.TgZ(2,"svg",126),t._UZ(3,"path",68),t.qZA()(),t.kcU(),t.TgZ(4,"div",69),t._uU(5),t.ALo(6,"translate"),t.qZA()()),2&n&&(t.xp6(5),t.hij(" ",t.lcZ(6,1,"\u0631\u0641\u0639 \u0635\u0648\u0631\u0629 \u0644\u0644\u0641\u0631\u0639")," "))}function Bt(n,i){if(1&n&&(t.O4$(),t.kcU(),t._UZ(0,"img",75)),2&n){const e=t.oxw(4);t.s9C("src",e.environmenturl+e.BranchInfoForm.controls.uploadedFile.value,t.LSH)}}function Lt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",70)(1,"span",71),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(3);return r.controlImgUrlfile.clear(),t.KtG(r.BranchInfoForm.controls.uploadedFile.setValue(null))}),t.O4$(),t.TgZ(2,"svg",72),t._UZ(3,"path",73),t.qZA()(),t.YNc(4,Bt,1,1,"img",74),t.qZA()}if(2&n){const e=t.oxw(3);t.xp6(4),t.Q6J("ngIf",null!=e.BranchInfoForm.controls.uploadedFile.value)}}function Gt(n,i){if(1&n&&(t.YNc(0,Dt,7,3,"div",39),t.YNc(1,Lt,5,1,"div",65)),2&n){const e=t.oxw(2);t.Q6J("ngIf",0===e.controlImgUrlfile.size&&null==e.BranchInfoForm.controls.uploadedFile.value),t.xp6(1),t.Q6J("ngIf",null!=e.BranchInfoForm.controls.uploadedFile.value)}}function zt(n,i){if(1&n&&(t.O4$(),t.kcU(),t._UZ(0,"img",75),t.ALo(1,"async")),2&n){const e=t.oxw(4);t.Q6J("src",t.lcZ(1,1,e.uploadedFileOutputImg),t.LSH)}}function jt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",70)(1,"span",71),t.NdJ("click",function(){const a=t.CHM(e).control,s=t.oxw(3);return a.clear(),t.KtG(s.BranchInfoForm.controls.uploadedFile.setValue(null))}),t.O4$(),t.TgZ(2,"svg",72),t._UZ(3,"path",73),t.qZA()(),t.YNc(4,zt,2,3,"img",74),t.qZA()}if(2&n){const e=i.control;t.xp6(4),t.Q6J("ngIf",e.valid)}}function Yt(n,i){1&n&&t.YNc(0,jt,5,1,"ng-template",null,76,t.W1O)}function Qt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",90)(1,"h4",91),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"button",92),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.KtG(a.dismiss("Cross click"))}),t._UZ(5,"i",93),t.qZA()(),t.TgZ(6,"div",94)(7,"form",102)(8,"div",95)(9,"div",103)(10,"div",8)(11,"label",104),t._uU(12),t.ALo(13,"translate"),t.TgZ(14,"span",10),t._uU(15,"*"),t.qZA()(),t._UZ(16,"input",105),t.YNc(17,Nt,3,3,"div",12),t.qZA()(),t.TgZ(18,"div",103)(19,"div",8)(20,"label",13),t._uU(21),t.ALo(22,"translate"),t.TgZ(23,"span",10),t._uU(24,"*"),t.qZA()(),t._UZ(25,"input",106),t.YNc(26,Mt,3,3,"div",12),t.qZA()(),t.TgZ(27,"div",103)(28,"div",8)(29,"label",107),t._uU(30),t.ALo(31,"translate"),t.TgZ(32,"span",10),t._uU(33,"*"),t.qZA()(),t._UZ(34,"input",108),t.YNc(35,Pt,3,3,"div",12),t.qZA()(),t.TgZ(36,"div",103)(37,"div",8)(38,"label",109),t._uU(39),t.ALo(40,"translate"),t.TgZ(41,"span",10),t._uU(42,"*"),t.qZA()(),t._UZ(43,"input",110),t.YNc(44,yt,3,3,"div",12),t.qZA()(),t.TgZ(45,"div",103)(46,"div",8)(47,"label",111),t._uU(48),t.ALo(49,"translate"),t.TgZ(50,"span",10),t._uU(51,"*"),t.qZA()(),t._UZ(52,"input",112),t.YNc(53,Ot,3,3,"div",12),t.qZA()(),t.TgZ(54,"div",103)(55,"div",8)(56,"label",113),t._uU(57),t.ALo(58,"translate"),t.TgZ(59,"span",10),t._uU(60,"*"),t.qZA()(),t._UZ(61,"input",114),t.YNc(62,Ft,3,3,"div",12),t.qZA()(),t.TgZ(63,"div",103)(64,"div",8)(65,"label",115),t._uU(66),t.ALo(67,"translate"),t.TgZ(68,"span",10),t._uU(69,"*"),t.qZA()(),t.TgZ(70,"ng-select",116),t.YNc(71,wt,2,2,"ng-option",27),t.qZA(),t.YNc(72,Et,3,3,"div",12),t.qZA()(),t.TgZ(73,"div",103)(74,"div",8)(75,"label",117),t._uU(76),t.ALo(77,"translate"),t.TgZ(78,"span",10),t._uU(79,"*"),t.qZA()(),t.TgZ(80,"ng-select",118),t.YNc(81,kt,2,2,"ng-option",27),t.qZA(),t.YNc(82,St,3,3,"div",12),t.qZA()(),t.TgZ(83,"div",103)(84,"div",8)(85,"label",119),t._uU(86),t.ALo(87,"translate"),t.TgZ(88,"span",10),t._uU(89,"*"),t.qZA()(),t.TgZ(90,"ng-select",120),t.YNc(91,qt,2,2,"ng-option",27),t.qZA(),t.YNc(92,Jt,3,3,"div",12),t.qZA()(),t.TgZ(93,"div",103)(94,"div",121)(95,"label",122),t._uU(96),t.ALo(97,"translate"),t.qZA(),t.TgZ(98,"div",36)(99,"file-upload",123),t.YNc(100,Gt,2,2,"ng-template",null,38,t.W1O),t.YNc(102,Yt,2,0,null,39),t.qZA()()()()()()(),t.TgZ(103,"div",124)(104,"button",125),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.KtG(a.dismiss("Cross click"))}),t._uU(105),t.ALo(106,"translate"),t.qZA(),t.TgZ(107,"button",78),t.NdJ("click",function(){const a=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.saveBranchInfoForm(a))}),t._uU(108),t.ALo(109,"translate"),t.qZA()()}if(2&n){const e=t.oxw();let o,r,a;t.xp6(2),t.hij(" ",t.lcZ(3,29,"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0641\u0631\u0639")," "),t.xp6(5),t.Q6J("formGroup",e.BranchInfoForm),t.xp6(5),t.hij(" ",t.lcZ(13,31,"Branch name (Arabic)")," "),t.xp6(5),t.Q6J("ngIf",(null==e.BranchInfoForm.controls.NameAr?null:e.BranchInfoForm.controls.NameAr.hasError("required"))&&e.BranchInfoForm.controls.NameAr.touched),t.xp6(4),t.hij(" ",t.lcZ(22,33,"Branch name (English)")," "),t.xp6(5),t.Q6J("ngIf",(null==e.BranchInfoForm.controls.NameEn?null:e.BranchInfoForm.controls.NameEn.hasError("required"))&&e.BranchInfoForm.controls.NameEn.touched),t.xp6(4),t.hij(" ",t.lcZ(31,35,"\u0623\u0633\u0645 \u0627\u0644\u0641\u0631\u0639 \u0641\u064a \u0627\u0644\u0637\u0628\u0627\u0639\u0629")," "),t.xp6(5),t.Q6J("ngIf",(null==e.BranchInfoForm.controls.BranchNamePrint?null:e.BranchInfoForm.controls.BranchNamePrint.hasError("required"))&&e.BranchInfoForm.controls.BranchNamePrint.touched),t.xp6(4),t.hij(" ",t.lcZ(40,37,"\u0631\u0642\u0645 \u062e\u062f\u0645\u0629 \u0627\u0644\u0639\u0645\u0644\u0627\u0621")," "),t.xp6(5),t.Q6J("ngIf",(null==e.BranchInfoForm.controls.CustomerPhone?null:e.BranchInfoForm.controls.CustomerPhone.hasError("required"))&&e.BranchInfoForm.controls.CustomerPhone.touched),t.xp6(4),t.hij(" ",t.lcZ(49,39,"\u0631\u0642\u0645 \u062e\u062f\u0645\u0629 \u0627\u0644\u0639\u0645\u0644\u0627\u06212")," "),t.xp6(5),t.Q6J("ngIf",(null==e.BranchInfoForm.controls.CustomerPhone2?null:e.BranchInfoForm.controls.CustomerPhone2.hasError("required"))&&e.BranchInfoForm.controls.CustomerPhone2.touched),t.xp6(4),t.hij(" ",t.lcZ(58,41,"\u0631\u0642\u0645 \u0627\u0644\u0634\u0643\u0627\u0648\u064a")," "),t.xp6(5),t.Q6J("ngIf",(null==e.BranchInfoForm.controls.ComplaintsNumber?null:e.BranchInfoForm.controls.ComplaintsNumber.hasError("required"))&&e.BranchInfoForm.controls.ComplaintsNumber.touched),t.xp6(4),t.hij(" ",t.lcZ(67,43,"\u062d\u0633\u0627\u0628 \u0627\u0644\u062e\u0632\u0646\u0629")," "),t.xp6(5),t.Q6J("ngForOf",e.branchesAcc),t.xp6(1),t.Q6J("ngIf",(null==(o=e.BranchInfoForm.get("BoxAccId"))?null:o.hasError("required"))&&(null==(o=e.BranchInfoForm.get("BoxAccId"))?null:o.touched)),t.xp6(4),t.hij(" ",t.lcZ(77,45,"\u062d\u0633\u0627\u0628 \u0627\u0644\u0639\u0645\u0644\u0627\u0621")," "),t.xp6(5),t.Q6J("ngForOf",e.branchesAcc),t.xp6(1),t.Q6J("ngIf",(null==(r=e.BranchInfoForm.get("CustomersAccId"))?null:r.hasError("required"))&&(null==(r=e.BranchInfoForm.get("CustomersAccId"))?null:r.touched)),t.xp6(4),t.hij(" ",t.lcZ(87,47,"\u062d\u0633\u0627\u0628 \u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646")," "),t.xp6(5),t.Q6J("ngForOf",e.branchesAcc),t.xp6(1),t.Q6J("ngIf",(null==(a=e.BranchInfoForm.get("EmployeesAccId"))?null:a.hasError("required"))&&(null==(a=e.BranchInfoForm.get("EmployeesAccId"))?null:a.touched)),t.xp6(4),t.hij(" ",t.lcZ(97,49,"\u0644\u0648\u062c\u0648 \u0627\u0644\u0641\u0631\u0639"),""),t.xp6(3),t.Q6J("control",e.controlImgUrlfile),t.xp6(3),t.Q6J("ngIf",null==e.BranchInfoForm.controls.uploadedFile.value),t.xp6(3),t.hij(" ",t.lcZ(106,51,"close")," "),t.xp6(2),t.Q6J("disabled",null==e.BranchInfoForm.controls.NameAr.value||null==e.BranchInfoForm.controls.NameEn.value||null==e.BranchInfoForm.controls.BranchNamePrint.value||null==e.BranchInfoForm.controls.BoxAccId.value||null==e.BranchInfoForm.controls.CustomersAccId.value||null==e.BranchInfoForm.controls.EmployeesAccId.value),t.xp6(1),t.hij(" ",t.lcZ(109,53,"Save")," ")}}const Ht=function(n){return{logoUrlchange:n}},Kt=function(){return[10,25]};let Rt=(()=>{class n{constructor(e,o,r,a,s,p,f,_,I,U){this.modalService=e,this.api=o,this.toast=r,this.translate=a,this.router=s,this.datePipe=p,this.organizationService=f,this._sharedService=_,this.formBuilder=I,this.authenticationService=U,this.submitted=!1,this.title={main:{name:{ar:"\u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645",en:"Control Panel"},link:"/controlpanel"},sub:{ar:"\u062a\u062c\u0647\u064a\u0632 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0646\u0634\u0623\u0629",en:"Building Data"}},this.isEditable={},this.rows=[],this.temp=[],this.uploadedFile=new u.X(""),this.uploadedFileOutputImg=new u.X(""),this.uploadedFileImgNewsModal=new u.X(""),this.control=new x.LK({listVisible:!0,accept:["image/*"],discardInvalid:!0,multiple:!1},[x.Fz.filesLimit(1)]),this.controlImgUrlfile=new x.LK({listVisible:!0,discardInvalid:!0,multiple:!1},[x.Fz.filesLimit(1)]),this.displayedColumns=["code","nameAr","nameEn","operations"],this.newsDisplayedColumns=["nameAr","nameEn","operations"],this.news=[],this.options={mode:m.Ci.MultiSelect,checkboxes:!0,alwaysEmitSelected:!1},this.today=new Date,this.userG={},this.lang="ar",this.CityList=[],this.editeBransh=!1,this.imageFileOutput=null,this.imageFileOutputreq=!1,this.otp=this.formBuilder.control(""),this.PasswordBefore=null,this.PasswordAfter=null,this.imageFileOutputImgUrlfile=null,this.dataSource=new g.by([{}]),this.newsDataSource=new g.by([{}]),this.environmenturl=d.N.PhotoURL,this.subscription=this.control.valueChanges.subscribe(T=>{this.getImage(T[0])}),this.subscription=this.controlImgUrlfile.valueChanges.subscribe(T=>{this.controlImgUrlfilegetImage(T[0])}),o.lang.subscribe(T=>{this.lang=T}),this.userG=this.authenticationService.userGlobalObj,this.useradmin=this.userG.userName}FillCitySelect(){this.organizationService.FillCitySelect().subscribe(e=>{this.CityList=e})}GetOrganizationData(){this.organizationService.GetBranchOrganization().subscribe(e=>{e.result.logoUrl=""==e.result.logoUrl?null:e.result.logoUrl,e.result.oRGlogoUrl=""==e.result.logoUrl?null:e.result.logoUrl,this.mainInfoForm.setValue(e.result)})}ngOnInit(){this.intialModel(),this.intialModelBranchInfoForm(),this.GetOrganizationData(),this.FillCitySelect(),this.GetAllBranches(),this.FillAllAccountsSelectAll(),this.branches=[],this.dataSource=new g.by(this.branches),this.news=[],this.newsDataSource=new g.by(this.news)}isValidDate(e){return e instanceof Date&&!isNaN(e.getTime())}open(e,o,r,a){this.modalService.open(e,{ariaLabelledBy:"modal-basic-title",size:r?"xl":"lg",centered:!0}).result.then(s=>{this.closeResult=`Closed with: ${s}`},s=>{this.closeResult=`Dismissed ${this.getDismissReason(s)}`}),o&&"editBranch"==r&&(this.setBranchData(o),this.editeBransh=!0,this.branchname=o?.branchName),o&&"citydeleted"==r&&(this.cityiddelete=o.cityId)}getDismissReason(e,o){return e===b.If.ESC?"by pressing ESC":e===b.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${e}`}updateFilter(e){const o=e.target.value.toLowerCase(),r=this.temp.filter(function(a){return-1!==a.name_ar.toLowerCase().indexOf(o)||!o});this.rows=r,this.table&&(this.table.offset=0)}save(e,o){this.isEditable[o]=!this.isEditable[o],console.log("Row saved: "+o),console.log(e)}delete(e,o){this.isEditable[o]=!this.isEditable[o],this.rows.splice(o,1),console.log("Row deleted: "+o)}getImage(e){if(FileReader&&e){const o=new FileReader;o.onload=r=>{this.mainInfoForm.controls.logoUrl.setValue(null),this.uploadedFile.next(r.target.result)},this.imageFileOutput=e,o.readAsDataURL(e),this.imageFileOutputreq=!1}else this.imageFileOutput=null,this.uploadedFile.next(""),this.imageFileOutputreq=!1}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase()}intialModel(){this.mainInfoForm=this.formBuilder.group({organizationId:[0,[l.kI.required]],nameAr:[null,[l.kI.required]],nameEn:[null,[l.kI.required]],code:[null,[]],previewPath:[null,[]],mobile:[null,[l.kI.required]],fax:[null,[l.kI.required]],cityId:[null,[l.kI.required]],taxCode:[null,[l.kI.required,l.kI.minLength(15),l.kI.maxLength(15)]],email:[null,[l.kI.required]],address:[null,[]],webSite:[null,[]],oRGlogoUrl:[null,[]],logoUrl:[null,[]]})}get f(){return this.mainInfoForm.controls}saveMainInfo(){const e=new FormData;null==this.mainInfoForm.controls.logoUrl.value&&null!=this.imageFileOutput&&e.append("UploadedFile",this.imageFileOutput),e.append("OrganizationId",this.mainInfoForm.controls.organizationId.value??0),e.append("NameAr",this.mainInfoForm.controls.nameAr.value),e.append("NameEn",this.mainInfoForm.controls.nameEn.value),e.append("Mobile",this.mainInfoForm.controls.mobile.value),e.append("Fax",this.mainInfoForm.controls.fax.value),e.append("CityId",this.mainInfoForm.controls.cityId.value??0),e.append("Email",this.mainInfoForm.controls.email.value),e.append("Address",this.mainInfoForm.controls.address.value),e.append("WebSite",this.mainInfoForm.controls.webSite.value),e.append("TaxCode",this.mainInfoForm.controls.taxCode.value),this.organizationService.SaveOrganizations(e).subscribe(o=>{200==o.statusCode?this.toast.success(this.translate.instant(o.reasonPhrase),this.translate.instant("Message")):this.toast.error(this.translate.instant(o.reasonPhrase),this.translate.instant("Message"))})}MaintenanceFunc(e){this.organizationService.MaintenanceFunc(e).subscribe(o=>{this.toast.success(this.translate.instant(o.reasonPhrase),this.translate.instant("Message"))})}GetAllBranches(){this.organizationService.GetAllBranches().subscribe(e=>{this.dataSource=new g.by(e.result)})}goDash(){this.router.navigate(["/dash/home"])}openModal(e){e&&this.modalService.open(this.optToggleActivationModal)}confiremOtp(){console.log(this.otp?.value)}addBranch(e){}ngOnDestroy(){this.subscription?.unsubscribe()}EncryptPassword(){""==this.PasswordBefore||null==this.PasswordBefore||this.organizationService.EncryptPassword(this.PasswordBefore).subscribe(e=>{this.PasswordAfter=e.reasonPhrase})}setBranchData(e){this.controlImgUrlfile.clear(),this.BranchInfoForm.controls.BranchId.setValue(e?.branchId),this.BranchInfoForm.controls.NameAr.setValue(e?.nameAr),this.BranchInfoForm.controls.NameEn.setValue(e?.nameEn),this.BranchInfoForm.controls.BranchNamePrint.setValue(e?.branchNamePrint),this.BranchInfoForm.controls.BoxAccId.setValue(e?.boxAccId),this.BranchInfoForm.controls.CustomersAccId.setValue(e?.customersAccId),this.BranchInfoForm.controls.EmployeesAccId.setValue(e?.employeesAccId),this.BranchInfoForm.controls.CustomerPhone.setValue(e?.customerPhone),this.BranchInfoForm.controls.CustomerPhone2.setValue(e?.customerPhone2),this.BranchInfoForm.controls.ComplaintsNumber.setValue(e?.complaintsNumber),this.BranchInfoForm.controls.uploadedFile.setValue(""==e.logoUrl||null==e.logoUrl?null:e?.logoUrl)}FillAllAccountsSelectAll(){this.organizationService.FillAllAccountsSelectAll().subscribe(e=>{this.branchesAcc=e})}intialModelBranchInfoForm(){this.BranchInfoForm=this.formBuilder.group({BranchId:[null,[]],NameAr:[null,[l.kI.required]],NameEn:[null,[l.kI.required]],BranchNamePrint:[null,[l.kI.required]],BoxAccId:[null,[l.kI.required]],CustomersAccId:[null,[l.kI.required]],EmployeesAccId:[null,[l.kI.required]],CustomerPhone:[null,[]],CustomerPhone2:[null,[]],ComplaintsNumber:[null,[]],uploadedFile:[null,[]]})}controlImgUrlfilegetImage(e){if(FileReader&&e){const o=new FileReader;o.onload=r=>{this.BranchInfoForm.controls.uploadedFile.setValue(null),this.uploadedFileOutputImg.next(r.target.result)},this.imageFileOutputImgUrlfile=e,o.readAsDataURL(e)}else this.uploadedFileOutputImg.next(""),this.imageFileOutputImgUrlfile=null}saveBranchInfoForm(e){const o=new FormData;null==this.BranchInfoForm.controls.uploadedFile.value&&null!=this.imageFileOutputImgUrlfile&&o.append("UploadedFile",this.imageFileOutputImgUrlfile),o.append("BranchId",this.BranchInfoForm.controls.BranchId.value),o.append("NameAr",this.BranchInfoForm.controls.NameAr.value),o.append("NameEn",this.BranchInfoForm.controls.NameEn.value),o.append("BranchNamePrint",this.BranchInfoForm.controls.BranchNamePrint.value),o.append("BoxAccId",this.BranchInfoForm.controls.BoxAccId.value),o.append("CustomersAccId",this.BranchInfoForm.controls.CustomersAccId.value),o.append("EmployeesAccId",this.BranchInfoForm.controls.EmployeesAccId.value),o.append("CustomerPhone",this.BranchInfoForm.controls.CustomerPhone.value),o.append("CustomerPhone2",this.BranchInfoForm.controls.CustomerPhone2.value),o.append("ComplaintsNumber",this.BranchInfoForm.controls.ComplaintsNumber.value),this.organizationService.SaveBranchPart(o).subscribe(r=>{200==r.statusCode?(this.toast.success(this.translate.instant(r.reasonPhrase),this.translate.instant("Message")),e.dismiss(),this.GetAllBranches()):this.toast.error(this.translate.instant(r.reasonPhrase),this.translate.instant("Message"))})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(b.FF),t.Y36(v.e),t.Y36(y._W),t.Y36(M.sK),t.Y36(N.F0),t.Y36(h.uU),t.Y36(F.M),t.Y36(w.F1),t.Y36(l.qu),t.Y36(E.$))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-organization"]],viewQuery:function(e,o){if(1&e&&(t.Gf(A.nE,5),t.Gf(Z.NW,5),t.Gf(C.YE,5),t.Gf(K,5)),2&e){let r;t.iGM(r=t.CRH())&&(o.table=r.first),t.iGM(r=t.CRH())&&(o.paginator=r.first),t.iGM(r=t.CRH())&&(o.sort=r.first),t.iGM(r=t.CRH())&&(o.optToggleActivationModal=r.first)}},features:[t._Bn([h.uU])],decls:132,vars:62,consts:[[1,"organization"],[1,"container-fluid"],[3,"title"],[1,"info","mt-4"],[3,"heading"],[1,"content"],[1,"row",3,"formGroup"],[1,"col-md-6","col-lg-4","mb-3"],[1,"form-group"],["for","nameAr",1,"text-right","col-form-label","block","mx-2"],[1,"text-danger"],["formControlName","nameAr","autocomplete","off","type","text","id","nameAr","name","nameAr",1,"form-control"],["class","fieldrequired",4,"ngIf"],["for","nameEn",1,"text-right","col-form-label","block","mx-2"],["formControlName","nameEn","autocomplete","off","type","text","id","nameEn","name","nameEn",1,"form-control"],[1,"col-md-6","col-lg-2","mb-3"],["for","mobile",1,"text-right","col-form-label","block","mx-2"],["formControlName","mobile","autocomplete","off","type","text","id","mobile","name","mobile",1,"form-control"],["for","fax",1,"text-right","col-form-label","block","mx-2"],["formControlName","fax","autocomplete","off","type","text","id","fax","name","fax",1,"form-control"],["for","email",1,"text-right","col-form-label","block","mx-2"],[1,"flex"],["formControlName","email","autocomplete","off","type","email","id","email","name","email",1,"form-control"],[1,"row","p-0"],[1,"col-12"],[1,"col-form-label","mx-2"],["name","cityId","formControlName","cityId",1,"w-full","p-0",2,"min-width","unset !important",3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],[1,"col-lg-6"],["for","taxCode",1,"text-right","col-form-label","block","mx-2"],["formControlName","taxCode","autocomplete","off","type","text","id","taxCode","name","taxCode",1,"form-control"],["for","address",1,"text-right","col-form-label","block","mx-2"],["formControlName","address","autocomplete","off","type","text","id","address","name","address",1,"form-control"],[1,"col-12","my-3"],[1,"row","p-0","items-center"],[1,"col-md-8"],[1,"upload"],[1,"logoUrlfile-uploadORG",3,"control","ngClass"],["placeholder",""],[4,"ngIf"],[1,"modal-footer","justify-content-end","my-3",2,"border-top","none"],["type","button","class","btn submit-btn bg-base text-white py-2 px-3 mt-0",3,"click",4,"ngIf"],["type","button",1,"btn","submit-btn","bg-red","text-white","py-2","px-3","mt-0",3,"click"],["type","button","class","btn submit-btn bg-base text-white py-2 px-3 mt-0",3,"disabled","click",4,"ngIf"],[1,"tables-data","mt-3","overflow-hidden"],[1,"form-control","mb-3",2,"max-width","300px",3,"placeholder","keyup"],["input",""],[1,"overflow-auto"],["mat-table","","matSort","",1,"mat-elevation-z8","rounded-t-lg","overflow-hidden","w-max",3,"dataSource"],["matColumnDef","code"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nameAr"],["matColumnDef","nameEn"],["matColumnDef","operations"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","duration-300 hover:bg-slate-100",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],[3,"pageSizeOptions"],["Maintenance",""],["EncryptValue",""],["BranchModal",""],[1,"fieldrequired"],[3,"value"],["class","overlay",4,"ngIf"],[1,"icon"],["xmlns","http://www.w3.org/2000/svg","height","1em","viewBox","0 0 640 512"],["d","M144 480C64.5 480 0 415.5 0 336c0-62.8 40.2-116.2 96.2-135.9c-.1-2.7-.2-5.4-.2-8.1c0-88.4 71.6-160 160-160c59.3 0 111 32.2 138.7 80.2C409.9 102 428.3 96 448 96c53 0 96 43 96 96c0 12.2-2.3 23.8-6.4 34.6C596 238.4 640 290.1 640 352c0 70.7-57.3 128-128 128H144zm79-217c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l39-39V392c0 13.3 10.7 24 24 24s24-10.7 24-24V257.9l39 39c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-80-80c-9.4-9.4-24.6-9.4-33.9 0l-80 80z"],[1,"upload-text"],[1,"overlay"],[1,"delete-button",3,"click"],["viewBox","0 0 448 512"],["d","M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"],[3,"src",4,"ngIf"],[3,"src"],["item",""],["type","button",1,"btn","submit-btn","bg-base","text-white","py-2","px-3","mt-0",3,"click"],["type","button",1,"btn","submit-btn","bg-base","text-white","py-2","px-3","mt-0",3,"disabled","click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],[1,"flex","gap-1","justify-center","py-2"],["class","p-2 bg-green-100 hover:bg-green-500 rounded-lg duration-300 hover:text-white w-10",3,"click",4,"ngIf"],[1,"p-2","bg-green-100","hover:bg-green-500","rounded-lg","duration-300","hover:text-white","w-10",3,"click"],[1,"fa","fa-edit"],["mat-header-row",""],["mat-row","",1,"duration-300","hover:bg-slate-100"],[1,"mat-row"],["colspan","4",1,"mat-cell"],[1,"modal-header","bg-base","text-white"],["id","modal-basic-title",1,"modal-title","mb-0"],["type","button",1,"m-0",3,"click"],[1,"fa","fa-close"],[1,"modal-body"],[1,"row"],[1,"col-9","mb-3"],[1,"text-right","col-form-label","block"],[1,"col-3","mb-3"],[1,"form-control","mb-3",2,"max-width","300px",3,"ngModel","ngModelOptions","ngModelChange"],["disabled","",1,"form-control","mb-3",2,"max-width","300px",3,"ngModel","ngModelOptions","ngModelChange"],[1,"col-3","mb-3",2,"margin-top","3%"],[3,"formGroup"],[1,"col-lg-4"],["for","NameAr",1,"text-right","col-form-label","block","mx-2"],["formControlName","NameAr","autocomplete","off","type","text","id","NameAr","name","NameAr",1,"form-control"],["formControlName","NameEn","autocomplete","off","type","text","id","NameEn","name","NameEn",1,"form-control"],["for","BranchNamePrint",1,"text-right","col-form-label","block","mx-2"],["formControlName","BranchNamePrint","autocomplete","off","type","text","id","BranchNamePrint","name","BranchNamePrint",1,"form-control"],["for","CustomerPhone",1,"text-right","col-form-label","block","mx-2"],["formControlName","CustomerPhone","autocomplete","off","type","text","id","CustomerPhone","name","CustomerPhone",1,"form-control"],["for","CustomerPhone2",1,"text-right","col-form-label","block","mx-2"],["formControlName","CustomerPhone2","autocomplete","off","type","text","id","CustomerPhone2","name","CustomerPhone2",1,"form-control"],["for","ComplaintsNumber",1,"text-right","col-form-label","block","mx-2"],["formControlName","ComplaintsNumber","autocomplete","off","type","text","id","ComplaintsNumber","name","ComplaintsNumber",1,"form-control"],["for","BoxAccId",1,"text-right","col-form-label","block","mx-2"],["formControlName","BoxAccId","id","BoxAccId","name","BoxAccId"],["for","CustomersAccId",1,"text-right","col-form-label","block","mx-2"],["formControlName","CustomersAccId","id","CustomersAccId","name","CustomersAccId"],["for","EmployeesAccId",1,"text-right","col-form-label","block","mx-2"],["formControlName","EmployeesAccId","id","EmployeesAccId","name","EmployeesAccId"],[1,"form-group","col-span-1","md:col-span-2"],["for","formFile",1,"form-label"],[3,"control"],[1,"modal-footer","justify-content-end",2,"border-top","none"],["type","button",1,"btn","btn-light","py-2","px-3","mt-0",3,"click"],["xmlns","http://www.w3.org/2000/svg","height","0.5em","viewBox","0 0 640 512"]],template:function(e,o){if(1&e){const r=t.EpF();t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"app-navigator",2),t.TgZ(3,"div",3)(4,"tabset")(5,"tab",4),t.ALo(6,"translate"),t.TgZ(7,"div",5)(8,"form",6)(9,"div",7)(10,"div",8)(11,"label",9),t._uU(12),t.ALo(13,"translate"),t.TgZ(14,"span",10),t._uU(15,"*"),t.qZA()(),t._UZ(16,"input",11),t.YNc(17,R,3,3,"div",12),t.qZA()(),t.TgZ(18,"div",7)(19,"div",8)(20,"label",13),t._uU(21),t.ALo(22,"translate"),t.TgZ(23,"span",10),t._uU(24,"*"),t.qZA()(),t._UZ(25,"input",14),t.YNc(26,$,3,3,"div",12),t.qZA()(),t.TgZ(27,"div",15)(28,"div",8)(29,"label",16),t._uU(30),t.ALo(31,"translate"),t.TgZ(32,"span",10),t._uU(33,"*"),t.qZA()(),t._UZ(34,"input",17),t.YNc(35,V,3,3,"div",12),t.qZA()(),t.TgZ(36,"div",15)(37,"div",8)(38,"label",18),t._uU(39),t.ALo(40,"translate"),t.TgZ(41,"span",10),t._uU(42,"*"),t.qZA()(),t._UZ(43,"input",19),t.YNc(44,W,3,3,"div",12),t.qZA()(),t.TgZ(45,"div",7)(46,"div",8)(47,"label",20),t._uU(48),t.ALo(49,"translate"),t.TgZ(50,"span",10),t._uU(51,"*"),t.qZA()(),t.TgZ(52,"div",21),t._UZ(53,"input",22),t.YNc(54,X,3,3,"div",12),t.qZA()()(),t.TgZ(55,"div",7)(56,"div",23)(57,"div",24)(58,"div",8)(59,"label",25),t._uU(60),t.ALo(61,"translate"),t.TgZ(62,"span",10),t._uU(63,"*"),t.qZA()(),t.TgZ(64,"div",21)(65,"ng-select",26),t.ALo(66,"translate"),t.YNc(67,tt,2,2,"ng-option",27),t.qZA()(),t.YNc(68,et,3,3,"div",12),t.qZA()()()(),t.TgZ(69,"div",7)(70,"div",23)(71,"div",28)(72,"div",8)(73,"label",29),t._uU(74),t.ALo(75,"translate"),t.TgZ(76,"span",10),t._uU(77,"*"),t.qZA()(),t._UZ(78,"input",30),t.YNc(79,nt,3,3,"div",12),t.YNc(80,ot,2,0,"div",12),t.qZA()()()(),t.TgZ(81,"div",7)(82,"div",8)(83,"label",31),t._uU(84),t.ALo(85,"translate"),t.qZA(),t._UZ(86,"input",32),t.qZA()(),t.TgZ(87,"div",33)(88,"div",34)(89,"div",35)(90,"div",36)(91,"file-upload",37),t.YNc(92,st,2,2,"ng-template",null,38,t.W1O),t.YNc(94,ut,2,0,null,39),t.qZA()()()()()(),t.TgZ(95,"div",40),t.YNc(96,pt,3,3,"button",41),t.TgZ(97,"button",42),t.NdJ("click",function(){t.CHM(r);const s=t.MAs(127);return t.KtG(o.open(s,null,"Maintenance"))}),t._uU(98),t.ALo(99,"translate"),t.qZA(),t.YNc(100,mt,3,4,"button",43),t.qZA()()(),t.TgZ(101,"tab",4),t.ALo(102,"translate"),t.TgZ(103,"div",5)(104,"div",44)(105,"input",45,46),t.NdJ("keyup",function(s){return o.applyFilter(s)}),t.ALo(107,"translate"),t.qZA(),t.TgZ(108,"div",47)(109,"table",48),t.ynx(110,49),t.YNc(111,dt,4,3,"th",50),t.YNc(112,ht,3,1,"td",51),t.BQk(),t.ynx(113,52),t.YNc(114,gt,4,3,"th",50),t.YNc(115,_t,3,1,"td",51),t.BQk(),t.ynx(116,53),t.YNc(117,ft,4,3,"th",50),t.YNc(118,xt,3,1,"td",51),t.BQk(),t.ynx(119,54),t.YNc(120,bt,3,3,"th",55),t.YNc(121,Ct,3,1,"td",51),t.BQk(),t.YNc(122,Zt,1,0,"tr",56),t.YNc(123,At,1,0,"tr",57),t.YNc(124,Tt,4,4,"tr",58),t.qZA()(),t._UZ(125,"mat-paginator",59),t.qZA()()()()()()(),t.YNc(126,Ut,29,15,"ng-template",null,60,t.W1O),t.YNc(128,It,25,18,"ng-template",null,61,t.W1O),t.YNc(130,Qt,110,55,"ng-template",null,62,t.W1O)}if(2&e){let r,a,s,p,f,_,I;t.xp6(2),t.Q6J("title",o.title),t.xp6(3),t.s9C("heading",t.lcZ(6,33,"Head office data")),t.xp6(3),t.Q6J("formGroup",o.mainInfoForm),t.xp6(4),t.hij(" ",t.lcZ(13,35,"Establishment Name (Arabic)")," "),t.xp6(5),t.Q6J("ngIf",(null==o.mainInfoForm.controls.nameAr?null:o.mainInfoForm.controls.nameAr.hasError("required"))&&o.mainInfoForm.controls.nameAr.touched),t.xp6(4),t.hij(" ",t.lcZ(22,37,"Establishment name (English)")," "),t.xp6(5),t.Q6J("ngIf",(null==(r=o.mainInfoForm.get("nameEn"))?null:r.hasError("required"))&&(null==(r=o.mainInfoForm.get("nameEn"))?null:r.touched)),t.xp6(4),t.hij(" ",t.lcZ(31,39,"phone")," "),t.xp6(5),t.Q6J("ngIf",(null==(a=o.mainInfoForm.get("mobile"))?null:a.hasError("required"))&&(null==(a=o.mainInfoForm.get("mobile"))?null:a.touched)),t.xp6(4),t.hij(" ",t.lcZ(40,41,"fax")," "),t.xp6(5),t.Q6J("ngIf",(null==(s=o.mainInfoForm.get("fax"))?null:s.hasError("required"))&&(null==(s=o.mainInfoForm.get("fax"))?null:s.touched)),t.xp6(4),t.hij(" ",t.lcZ(49,43,"Office customer correspondence email")," "),t.xp6(6),t.Q6J("ngIf",(null==(p=o.mainInfoForm.get("email"))?null:p.hasError("required"))&&(null==(p=o.mainInfoForm.get("email"))?null:p.touched)),t.xp6(6),t.hij(" ",t.lcZ(61,45,"Region")," "),t.xp6(5),t.s9C("placeholder",t.lcZ(66,47,"Chose")),t.xp6(2),t.Q6J("ngForOf",o.CityList),t.xp6(1),t.Q6J("ngIf",(null==(f=o.mainInfoForm.get("cityId"))?null:f.hasError("required"))&&(null==(f=o.mainInfoForm.get("cityId"))?null:f.touched)),t.xp6(6),t.hij(" ",t.lcZ(75,49,"Commerial Registration")," "),t.xp6(5),t.Q6J("ngIf",(null==(_=o.mainInfoForm.get("taxCode"))?null:_.hasError("required"))&&(null==(_=o.mainInfoForm.get("taxCode"))?null:_.touched)),t.xp6(1),t.Q6J("ngIf",(null==(I=o.mainInfoForm.get("taxCode"))?null:I.hasError("pattern"))&&(null==(I=o.mainInfoForm.get("taxCode"))?null:I.touched)),t.xp6(4),t.hij(" ",t.lcZ(85,51,"Address")," "),t.xp6(7),t.Q6J("control",o.control)("ngClass",t.VKq(59,Ht,null==o.mainInfoForm.controls.logoUrl.value&&null!=o.imageFileOutput)),t.xp6(3),t.Q6J("ngIf",null==o.mainInfoForm.controls.logoUrl.value),t.xp6(2),t.Q6J("ngIf","tadmin"==(null==o.userG?null:o.userG.userName)),t.xp6(2),t.hij(" ",t.lcZ(99,53,"Maintenance")," "),t.xp6(2),t.Q6J("ngIf",null==o.userG?null:o.userG.userPrivileges.includes(16000101)),t.xp6(1),t.s9C("heading",t.lcZ(102,55,"Set and prepare branch data")),t.xp6(4),t.s9C("placeholder",t.lcZ(107,57,"search")),t.xp6(4),t.Q6J("dataSource",o.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(61,Kt))}},dependencies:[h.mk,h.sg,h.O5,O.S,L.wW,L.AH,J.w9,J.jq,x.Yr,g.BZ,g.fO,g.as,g.w1,g.Dz,g.nj,g.ge,g.ev,g.XQ,g.Gk,g.Ee,Z.NW,C.YE,C.nU,l._Y,l.Fj,l.JJ,l.JL,l.On,l.sg,l.u,h.Ov,M.X$],styles:['.organization[_ngcontent-%COMP%]{padding-bottom:30px}.organization[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:var(--gray-color)}.organization[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--gray-color);font-size:14px}.organization[_ngcontent-%COMP%]   .btns[_ngcontent-%COMP%]{margin-top:15px}.organization[_ngcontent-%COMP%]   .btns[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0 10px!important;min-width:max-content;min-height:max-content;margin:0 3px;border-radius:5px;font-size:14px;letter-spacing:.5px;height:40px}.organization[_ngcontent-%COMP%]   .timeLine[_ngcontent-%COMP%]{margin-block:50px 25px}.organization[_ngcontent-%COMP%]   .timeLine[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{width:100%;margin:0;display:flex;align-items:center;justify-content:space-between;position:relative;flex-wrap:wrap}@media (max-width: 575px){.organization[_ngcontent-%COMP%]   .timeLine[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{flex-direction:column;justify-content:center;align-items:center}}.organization[_ngcontent-%COMP%]   .timeLine[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]:after{content:"";position:absolute;width:94%;height:5px;background-color:var(--base-color);inset-inline-end:3%;top:14px;z-index:1}@media (max-width: 575px){.organization[_ngcontent-%COMP%]   .timeLine[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]:after{display:none}}.organization[_ngcontent-%COMP%]   .timeLine[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;z-index:2;display:flex;flex-direction:column;align-items:center;justify-content:center;margin-bottom:25px}.organization[_ngcontent-%COMP%]   .timeLine[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-of-type{display:flex;align-items:center;justify-content:center;width:30px;height:30px;border-radius:50%;background-color:var(--gray-bg-color);color:#000;margin-bottom:10px;font-size:13px;box-shadow:0 0 1px 1px #afafaf}.organization[_ngcontent-%COMP%]   .timeLine[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-of-type{color:var(--base-color);font-size:14px;font-weight:700}  .organization .nav-tabs{flex-wrap:wrap;align-items:end}  .organization .nav-tabs li{flex:1}@media (max-width: 991px){  .organization .nav-tabs li{flex:unset}}  .organization .nav-tabs li a{color:var(--gray-color);background-color:#fff;text-align:center;font-size:15px;letter-spacing:.5px;height:100%;padding:16px 0}@media (max-width: 991px){  .organization .nav-tabs li a{padding-inline:20px}}  .organization .nav-tabs li.active a{color:var(--base-color);border-color:transparent!important;border-bottom:2px solid var(--base-color)!important}.fieldrequired[_ngcontent-%COMP%]{color:red}.modal-form[_ngcontent-%COMP%]{max-height:65vh;overflow:auto;padding:.5rem}.modal-form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:grid;gap:1rem}@media (min-width: 768px){.modal-form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{grid-template-columns:repeat(3,minmax(0,1fr))}}@media (min-width: 1024px){.modal-form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{grid-template-columns:repeat(4,minmax(0,1fr))}}.modal-form[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin-top:.75rem;margin-bottom:.75rem}.checkbox[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin:0}.checkbox[_ngcontent-%COMP%]   .checkbox-content[_ngcontent-%COMP%]{width:60px;height:30px;border-radius:50px}.checkbox[_ngcontent-%COMP%]   .checkbox-content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:50%;transform:translateY(-50%);opacity:0;z-index:2;cursor:pointer;inset-inline-start:0}.checkbox[_ngcontent-%COMP%]   .checkbox-content[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;height:100%;border-radius:50px;background-color:var(--gray-bg-color);cursor:pointer;position:absolute;z-index:1;transition:all .4s ease-in-out;box-shadow:0 0 1px 1px #e3e3e3;filter:none!important}.checkbox[_ngcontent-%COMP%]   .checkbox-content[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#444;font-size:9px;font-weight:700;letter-spacing:unset;top:50%;transform:translateY(-50%)}.checkbox[_ngcontent-%COMP%]   .checkbox-content[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-of-type{left:4px}.checkbox[_ngcontent-%COMP%]   .checkbox-content[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-of-type{right:4px}.checkbox[_ngcontent-%COMP%]   .checkbox-content[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .cycle[_ngcontent-%COMP%]{width:26px;height:26px;margin:0 2px;border-radius:50%;transition:all .4s ease-in-out;background:var(--base-color)}.checkbox[_ngcontent-%COMP%]   .checkbox-content[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .cycle[_ngcontent-%COMP%]:after{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:14px;font-weight:700;letter-spacing:1px}.checkbox[_ngcontent-%COMP%]   .checkbox-content[_ngcontent-%COMP%]   .box.checked[_ngcontent-%COMP%]   .cycle[_ngcontent-%COMP%]{transform:translate(-110%)!important}.checkbox[_ngcontent-%COMP%]   .checkbox-content[_ngcontent-%COMP%]   .box.blur[_ngcontent-%COMP%]   .cycle[_ngcontent-%COMP%]{transform:translate(-10%)!important}.checkbox[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px;letter-spacing:1px}form[_ngcontent-%COMP%]   .ng-select[_ngcontent-%COMP%]{min-width:100%!important}.area-btn[_ngcontent-%COMP%]{font-size:14px!important;letter-spacing:.5px}.editable[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not([type=checkbox]){width:100%;height:100%;min-height:38px;background:transparent;text-align:center;appearance:none;-webkit-appearance:none}.editable[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not([type=checkbox]):focus-visible{outline:none}.add-btn[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;background:var(--base-color);color:#fff;display:flex;align-items:center;justify-content:center;font-size:18px}.percent[_ngcontent-%COMP%]{top:50%;transform:translateY(-50%);inset-inline-end:30px;font-weight:600;font-size:16px}.service_item_details[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:20px;padding:10px 15px}.service_item_details[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-of-type(odd){background:#f3f3f3}.service_item_details[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:21px;text-transform:capitalize}.box-info[_ngcontent-%COMP%]{background-color:var(--base-color);color:#fff;border-radius:5px;width:80%;margin:0 auto 30px}.box-info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:15px}.box-info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .ng-select[_ngcontent-%COMP%]{min-width:unset!important;width:80%;text-align:center}.box-info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{min-width:200px;text-align:center}.box-info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;text-align:center}.box-info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus-visible{outline:none}  .mat-stepper-horizontal{min-width:850px}  .mat-horizontal-stepper-header{padding:0 10px!important;background:#f3f3f3!important;height:50px!important}  .mat-step-icon{display:none!important}  .mat-step-label.mat-step-label-active{color:var(--base-color)!important}  .mat-step-text-label{font-size:13px}.stepper-container[_ngcontent-%COMP%]{overflow:auto}.content[_ngcontent-%COMP%]{padding:16px}.ngx-datatable[_ngcontent-%COMP%]{text-align:center}textarea[_ngcontent-%COMP%]{border:1px solid #ccc;padding:15px;width:100%}textarea[_ngcontent-%COMP%]:focus-visible{outline:none}.boxContainer[_ngcontent-%COMP%]{background-color:var(--base-color);color:#fff;border-radius:5px;width:80%;margin:0 auto 30px}.boxContainer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;margin-bottom:15px}.boxContainer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus-visible{outline:none}  .ngb-dp-header{direction:initial}  .organization.dropdown-menu{min-width:274px;width:max-content;direction:initial}  .requiredInput{display:none!important}  .input-group .btn{display:none!important}  ngb-dp-header{direction:initial}  .ngb-dp-week{min-width:280px}  .ngb-dp-day,   .ngb-dp-weekday,   .ngb-dp-week-number{flex:1;color:var(--base-color)!important}  .mat-paginator-container{justify-content:space-between!important;padding:15px 10px 0!important}  .mat-paginator-range-actions{direction:inherit!important}  .mat-paginator-range-label{direction:initial}  .mat-tab-group{padding-bottom:15px}  .ng-select .ng-select-container .ng-value-container .ng-value{overflow:unset!important;height:30px;line-height:30px}.timeInput[_ngcontent-%COMP%]{width:240px;text-align:center}.emailBox[_ngcontent-%COMP%]{margin-inline-end:30px}.emailBox[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{letter-spacing:.5px;padding:5px 0}.tree[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:hidden}.tree-icon[_ngcontent-%COMP%]{font-size:18px;width:24px;height:24px;display:flex;line-height:24px;color:var(--base-color);align-items:center;justify-content:center}  .node-name{color:var(--gray-color);letter-spacing:.5px;font-size:16px;padding:6px 14px!important;cursor:pointer}  .node-name.markSelected{border:none!important;--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity));font-size:1rem;line-height:1.5rem;--tw-text-opacity: 1;color:rgb(10 109 202 / var(--tw-text-opacity))}  .collapsible-wrapper{border-inline-start:1px dashed #ccc;margin-inline-start:25px}  .collapsible-wrapper .node-name{font-size:14px;color:var(--gray-color);letter-spacing:.5px;cursor:pointer}  .collapsible-wrapper .node-name.markSelected{border:none!important;--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity));font-size:1rem;line-height:1.5rem;--tw-text-opacity: 1;color:rgb(10 109 202 / var(--tw-text-opacity))}  .collapsible-wrapper node-icon-wrapper{position:relative}  .collapsible-wrapper node-icon-wrapper:after{content:"";position:absolute;top:50%;inset-inline-start:0;width:90%;height:1px;border:1px dashed #ccc}.persent[_ngcontent-%COMP%]{padding:10px;border-radius:5px;background:var(--base-color);color:#fff;font-size:20px}  .ng-otp-input-wrapper .otp-input{margin-inline-start:5px!important}']}),n})();function j(n,i,e,o,r,a,s){try{var p=n[a](s),f=p.value}catch(_){return void e(_)}p.done?i(f):Promise.resolve(f).then(o,r)}var S=c(529),Vt=c(9053);let Wt=(()=>{class n{constructor(e,o){this.exportationService=e,this.http=o,this.apiEndPoint="",this.labaikendpoint="",this.apiEndPoint=d.N.apiEndPoint}GetCurrentUser(){return this.http.get(this.apiEndPoint+"Users/GetCurrentUser")}GetAllUsers(){return this.http.get(this.apiEndPoint+"Users/GetAllUsers")}GetUserById(e){return this.http.get(`${d.N.apiEndPoint}Users/GetUserById?UserId=${e}`)}FillBranchSelect(){return this.http.get(this.apiEndPoint+"Branches/FillBranchSelect")}GetBranchesByUserId(e){return this.http.get(`${d.N.apiEndPoint}Users/GetBranchesByUserId?UserId=${e}`)}BranchesByUserId(e){return this.http.get(`${d.N.apiEndPoint}Users/GetBranchesByUserId?UserId=${e}`)}FillUsersSelect(){return this.http.get(this.apiEndPoint+"Users/FillUsersSelect")}getUsersByPrivilegesIds(e,o){return new S.WM({"Content-Type":"application/json"}),this.http.post(this.apiEndPoint+"Privileges/GetUsersByPrivilegesIds",{PrivilegeId:e,UserPrivId:0})}deleteUsers(e){return(new FormData).append("Users",e.toString()),new S.WM,this.http.post(`${d.N.apiEndPoint}Users/DeleteUsers?userId=`+e,{})}FillGroupsSelect(){return this.http.get(`${this.apiEndPoint}Groups/FillGroupsSelect`)}getDepartments(e){return this.http.get(`${this.apiEndPoint}Department/FillDepartmentSelectByTypeUser?param=${e}`)}FillAttendanceTimeSelect(){return this.http.get(`${this.apiEndPoint}AttendaceTime/FillAttendanceTimeSelect`)}saveUser(e){return this.http.post(this.apiEndPoint+"Users/SaveUsers",e)}saveUsers(e){return this.http.post(this.apiEndPoint+"Users/SaveUsers",e)}getPrivilegesByUserId(e){return this.http.get(this.apiEndPoint+"Users/GetPrivilegesIdsByUserId?UserId="+e)}getNotificationPrivilegesByUserId(e){return this.http.get(this.apiEndPoint+"NotificationPrivileges/GetNotifPrivilegesIdsByUserId?UserId="+e)}saveUserPrivileges(e,o){return this.http.post(this.apiEndPoint+"Users/SaveUserPriv",{UserId:e,PrivIds:o})}saveUserPrivil(e,o){return this.http.post(this.apiEndPoint+"Users/SaveUserPriv",{UserId:e,PrivIds:o})}GetFillPriv(){return this.http.get(this.apiEndPoint+"Users/FillPriv")}SaveGroups(e){const r=JSON.stringify(e);return this.http.post(this.apiEndPoint+"Groups/SaveGroups",r,{headers:{"content-type":"application/json"}})}GetAllGroups_S(){return this.http.get(`${this.apiEndPoint}Groups/GetAllGroups_S?SearchText= `)}DeleteGroups(e){return this.http.post(`${this.apiEndPoint}Groups/DeleteGroups?GroupId=`+e,{})}GetAllDepartmentbyType(){return this.http.get(`${this.apiEndPoint}Department/GetAllDepartmentbyType?Type=1`)}SaveDepartment(e){const r=JSON.stringify(e);return this.http.post(this.apiEndPoint+"Department/SaveDepartment",r,{headers:{"content-type":"application/json"}})}DeleteDepartment(e){return this.http.post(`${this.apiEndPoint}Department/DeleteDepartment?DepartmentId=`+e,{})}GetMaxOrderNumber(){return this.http.get(`${this.apiEndPoint}Users/GetMaxOrderNumber`)}getPrivilegesTree(){return this.http.get(this.apiEndPoint+"Users/GetPrivilegesTree")}CloseUser(e){const r=JSON.stringify(e);return this.http.post(this.apiEndPoint+"Users/CloseUser",r,{headers:{"content-type":"application/json"}})}GetBranchOrganization(){return this.http.get(this.apiEndPoint+"Organizations/GetBranchOrganization")}customExportExcel(e,o){let r=JSON.parse(JSON.stringify(e)),a=[],s=[],p=[],f=Object.keys(e[0]);f=f.filter(_=>!a.includes(_)),f.forEach(_=>{p.push(_.toUpperCase())}),r.forEach(_=>{var U,I={},T=[];for(U in _)_.hasOwnProperty(U)&&T.push(U);for(T=T.filter(q=>!a.includes(q)),U=0;U<T.length;U++)I[T[U]]=_[T[U]];_=I,Object.getOwnPropertyNames(_).filter(q=>r.some(yn=>yn===q)).forEach(q=>{delete _[q]}),s.push(_)}),this.exportationService.exportExcel(s,o+(new Date).getTime(),p)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(Vt.t),t.LFG(S.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Xt=c(7972);let te=(()=>{class n{constructor(e){this.http=e,this.apiEndPoint="",this.apiEndPoint=d.N.apiEndPoint}getPrivilegesTree(){return this.http.get(this.apiEndPoint+"Privileges/GetPrivilegesTree")}saveGroupPrivileges(e,o){return this.http.post(this.apiEndPoint+"Groups/SaveGroupPriv",{GroupId:e,PrivIds:o})}saveGroup(e){return this.http.post(this.apiEndPoint+"Groups/SaveGroups",e)}FillGroupsSelect(){return this.http.get(`${this.apiEndPoint}Groups/FillGroupsSelect`)}saveGroupUsersPrivileges(e,o){return this.http.post(this.apiEndPoint+"Users/SaveGroupUsersPriv",{GroupId:e,PrivIds:o})}getPrivilegesIdsByGroupId(e){const o={GroupId:e.toString()},r=new S.WM({Accept:"application/json"});return this.http.get(this.apiEndPoint+"Groups/GetPrivilegesIdsByGroupId",{headers:r,params:o})}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(S.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var ee=c(445),G=c(3848),ne=c(4859),Y=c(5612),oe=c(455),re=c(5727);const ae=["tabGroup"],ie=function(){return{ar:"  \u0645\u0633\u062a\u062e\u062f\u0645 \u062c\u062f\u064a\u062f   ",en:"New User"}};function se(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",33),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(),a=t.MAs(40);return t.KtG(r.open(a,"","xl","","adduser"))}),t._UZ(1,"span",34)(2,"i",35),t.qZA()}2&n&&(t.xp6(1),t.Q6J("translate","name")("translateParams",t.DdM(2,ie)))}const le=function(){return{ar:"\u0628\u062d\u062b ",en:"Search "}};function ce(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",36),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.dataSearch.filter.showFilters=!r.dataSearch.filter.showFilters)}),t._UZ(1,"span",34)(2,"i",37),t.qZA()}2&n&&(t.xp6(1),t.Q6J("translate","name")("translateParams",t.DdM(2,le)))}const ue=function(){return{ar:"\u062a\u0635\u062f\u064a\u0631 \u0645\u0644\u0641 \u0625\u0643\u0633\u0644",en:"Export To Excel"}};function pe(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",38),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.exportData())}),t._UZ(1,"span",34)(2,"i",39),t.qZA()}2&n&&(t.xp6(1),t.Q6J("translate","name")("translateParams",t.DdM(2,ue)))}const me=function(){return{rangeInputFormat:"DD/MM/YYYY"}};function de(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",50)(1,"input",51,52),t.NdJ("ngModelChange",function(r){t.CHM(e);const a=t.oxw(2);return t.KtG(a.dataSearch.filter.date=r)})("ngModelChange",function(r){t.CHM(e);const a=t.oxw(2);return t.KtG(a.CheckDate(r))}),t.ALo(3,"translate"),t.qZA()()}if(2&n){const e=t.oxw(2);t.xp6(1),t.s9C("placeholder",t.lcZ(3,3,"Chose Date")),t.Q6J("ngModel",e.dataSearch.filter.date)("bsConfig",t.DdM(5,me))}}const he=function(){return{ar:"\u0641\u0644\u062a\u0631\u0629 \u0628\u0627\u0644\u0648\u0642\u062a",en:"Time Filter"}};function ge(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",40)(1,"div",41)(2,"label",42),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"ng-select",43,44),t.NdJ("ngModelChange",function(r){t.CHM(e);const a=t.oxw();return t.KtG(a.dataSearch.filter.userId=r)})("change",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.RefreshData())}),t.ALo(7,"translate"),t.qZA()(),t.TgZ(8,"div",41)(9,"label",42),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"ng-select",43,44),t.NdJ("ngModelChange",function(r){t.CHM(e);const a=t.oxw();return t.KtG(a.dataSearch.filter.userId=r)})("change",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.RefreshData())}),t.ALo(14,"translate"),t.qZA()(),t.TgZ(15,"button",45),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return r.dataSearch.filter.enable=!r.dataSearch.filter.enable,t.KtG(r.ClearDate())}),t.qZA(),t.YNc(16,de,4,6,"div",46),t.TgZ(17,"div",47)(18,"input",48,49),t.NdJ("keyup",function(r){t.CHM(e);const a=t.oxw();return t.KtG(a.applyFilter(r))}),t.ALo(20,"translate"),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(3),t.hij(" ",t.lcZ(4,14,"\u0623\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"),""),t.xp6(2),t.s9C("placeholder",t.lcZ(7,16,"Chose")),t.Q6J("items",e.dataSearch.filter.ListName)("clearable",!0)("ngModel",e.dataSearch.filter.userId),t.xp6(5),t.hij(" ",t.lcZ(11,18,"\u0631\u0642\u0645 \u062a\u0644\u064a\u0641\u0648\u0646 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"),""),t.xp6(2),t.s9C("placeholder",t.lcZ(14,20,"Chose")),t.Q6J("items",e.dataSearch.filter.ListPhone)("clearable",!0)("ngModel",e.dataSearch.filter.userId),t.xp6(3),t.Q6J("translate","name")("translateParams",t.DdM(24,he)),t.xp6(1),t.Q6J("ngIf",e.dataSearch.filter.enable),t.xp6(2),t.s9C("placeholder",t.lcZ(20,22,"search"))}}const _e=function(){return{ar:"\u0645",en:"#"}};function fe(n,i){1&n&&(t.TgZ(0,"th",53),t._UZ(1,"span",54),t.qZA()),2&n&&(t.xp6(1),t.Q6J("translate","name")("translateParams",t.DdM(2,_e)))}function xe(n,i){if(1&n&&(t.TgZ(0,"td",55),t._uU(1),t.qZA()),2&n){const e=i.index;t.xp6(1),t.hij(" ",e+1," ")}}const be=function(){return{ar:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645",en:"User FullName"}};function ve(n,i){1&n&&(t.TgZ(0,"th",53),t._UZ(1,"span",54),t.qZA()),2&n&&(t.xp6(1),t.Q6J("translate","name")("translateParams",t.DdM(2,be)))}function Ce(n,i){if(1&n&&(t.TgZ(0,"td",56)(1,"div",57),t._UZ(2,"img",58),t.ALo(3,"img"),t.qZA(),t.TgZ(4,"div",59),t._uU(5),t.qZA()()),2&n){const e=i.$implicit;t.xp6(2),t.s9C("src",t.lcZ(3,2,e.imgUrl),t.LSH),t.xp6(3),t.hij(" ",e.fullName," ")}}const Ze=function(){return{ar:"\u0627\u0644\u0641\u0631\u0639",en:"Branch"}};function Ae(n,i){1&n&&(t.TgZ(0,"th",53),t._UZ(1,"span",54),t.qZA()),2&n&&(t.xp6(1),t.Q6J("translate","name")("translateParams",t.DdM(2,Ze)))}function Te(n,i){if(1&n&&(t.TgZ(0,"td",55),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.branchName," ")}}const Ue=function(){return{ar:"\u0627\u0644\u0648\u0638\u064a\u0641\u0629",en:"Job"}};function Ie(n,i){1&n&&(t.TgZ(0,"th",53),t._UZ(1,"span",54),t.qZA()),2&n&&(t.xp6(1),t.Q6J("translate","name")("translateParams",t.DdM(2,Ue)))}function Ne(n,i){if(1&n&&(t.TgZ(0,"td",55),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.jobName," ")}}const Me=function(){return{ar:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0627\u0644\u0643\u062a\u0631\u0648\u0646\u064a",en:"email"}};function Pe(n,i){1&n&&(t.TgZ(0,"th",53),t._UZ(1,"span",54),t.qZA()),2&n&&(t.xp6(1),t.Q6J("translate","name")("translateParams",t.DdM(2,Me)))}function ye(n,i){if(1&n&&(t.TgZ(0,"td",55),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.email," ")}}const Oe=function(){return{ar:"\u0627\u0644\u0647\u0627\u062a\u0641",en:"mobile"}};function Fe(n,i){1&n&&(t.TgZ(0,"th",53),t._UZ(1,"span",54),t.qZA()),2&n&&(t.xp6(1),t.Q6J("translate","name")("translateParams",t.DdM(2,Oe)))}function we(n,i){if(1&n&&(t.TgZ(0,"td",55),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.mobile," ")}}function Ee(n,i){1&n&&(t.TgZ(0,"th",53)(1,"span"),t._uU(2),t.qZA()()),2&n&&(t.xp6(2),t.Oqu("\u062d\u0627\u0644\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"))}function ke(n,i){if(1&n&&(t.TgZ(0,"span",62),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.statusName," ")}}function Se(n,i){if(1&n&&(t.TgZ(0,"span",63),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.statusName," ")}}function qe(n,i){if(1&n&&(t.TgZ(0,"td",55),t.YNc(1,ke,2,1,"span",60),t.YNc(2,Se,2,1,"span",61),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.status),t.xp6(1),t.Q6J("ngIf",0==e.status)}}const D=function(){return{ar:"\u062e\u064a\u0627\u0631\u0627\u062a",en:"Operations"}};function Je(n,i){1&n&&t._UZ(0,"th",64),2&n&&t.Q6J("translate","name")("translateParams",t.DdM(2,D))}function De(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",68),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().$implicit,a=t.oxw(),s=t.MAs(40);return t.KtG(a.open(s,r,"xl","","edit"))}),t._UZ(1,"i",69),t.qZA()}}function Be(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",70),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().$implicit,a=t.oxw(),s=t.MAs(42);return t.KtG(a.open(s,r,"xl","","deleteModalUser"))}),t._UZ(1,"i",71),t.qZA()}}function Le(n,i){if(1&n&&(t.TgZ(0,"td",55)(1,"div",65),t.YNc(2,De,2,0,"button",66),t.YNc(3,Be,2,0,"button",67),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",null==e.userG?null:e.userG.userPrivileges.includes(16010102)),t.xp6(1),t.Q6J("ngIf",null==e.userG?null:e.userG.userPrivileges.includes(16010103))}}function Ge(n,i){1&n&&t._UZ(0,"tr",72)}function ze(n,i){1&n&&t._UZ(0,"tr",73)}function je(n,i){1&n&&(t.TgZ(0,"tr",74)(1,"td",75),t._uU(2),t.qZA()()),2&n&&(t.xp6(2),t.hij(" ","No result found "," "))}function Ye(n,i){1&n&&(t.TgZ(0,"span",116),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Edit User Details")," "))}function Qe(n,i){1&n&&(t.TgZ(0,"span",116),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Add User Details")," "))}function He(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Personal data")," "))}function Ke(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"label")(1,"input",118),t.NdJ("change",function(){t.CHM(e);const r=t.oxw().$implicit,a=t.oxw(2);return t.KtG(a.onCheckboxChange(r))}),t.qZA(),t._uU(2),t.qZA()}if(2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("value",e.id)("checked",e.checked),t.xp6(1),t.hij(" ",e.name," ")}}function Re(n,i){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,Ke,3,3,"label",117),t.qZA()),2&n){const e=i.$implicit,o=t.oxw(2);t.xp6(1),t.Q6J("ngIf",o.selectedBranchId!==e.id)}}function $e(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"User Permissions")," "))}function Ve(n,i){if(1&n&&(t.TgZ(0,"span",121),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=t.oxw(),r=e.node;t.ekj("active",e.context.active),t.xp6(1),t.hij("",t.lcZ(2,3,r.text)," ")}}function We(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=t.oxw(),r=e.node;t.ekj("active",e.context.active),t.xp6(1),t.hij("",t.lcZ(2,3,r.text)," ")}}function Xe(n,i){if(1&n&&(t.YNc(0,Ve,3,5,"span",119),t.YNc(1,We,3,5,"span",120)),2&n){const e=i.node;t.Q6J("ngIf",151315==e.id||111316==e.id||151316==e.id||1118==e.id),t.xp6(1),t.Q6J("ngIf",151315!=e.id&&111316!=e.id&&151316!=e.id&&1118!=e.id)}}function tn(n,i){1&n&&(t.TgZ(0,"span"),t._UZ(1,"i",122),t.qZA())}function en(n,i){1&n&&(t.TgZ(0,"span"),t._UZ(1,"i",123),t.qZA())}function nn(n,i){if(1&n&&(t.YNc(0,tn,2,0,"span",117),t.YNc(1,en,2,0,"span",117)),2&n){const e=i.expanded;t.Q6J("ngIf",!e),t.xp6(1),t.Q6J("ngIf",e)}}const on=function(){return{ar:"\u0627\u0644\u062d\u0633\u0627\u0628 \u0646\u0634\u0637",en:"Active Account"}};function rn(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",76)(1,"h4",77),t.YNc(2,Ye,3,3,"span",78),t.YNc(3,Qe,3,3,"span",78),t.qZA(),t.TgZ(4,"button",79),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.KtG(a.dismiss())}),t._UZ(5,"i",80),t.qZA()(),t.TgZ(6,"div",81)(7,"form",82)(8,"mat-tab-group",83,84)(10,"mat-tab",85),t.ALo(11,"translate"),t.YNc(12,He,3,3,"ng-template",86),t.TgZ(13,"div",87)(14,"div")(15,"label",42),t._uU(16),t.ALo(17,"translate"),t.TgZ(18,"span",88),t._uU(19,"*"),t.qZA()(),t._UZ(20,"input",89),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"div")(23,"label",90),t._uU(24),t.ALo(25,"translate"),t.qZA(),t.TgZ(26,"span",88),t._uU(27,"*"),t.qZA(),t.TgZ(28,"div",91),t._UZ(29,"input",92),t.ALo(30,"translate"),t.TgZ(31,"a",93),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();let a;return t.KtG(r.getCopy(null==(a=r.userForm.get("FullNameAr"))?null:a.value))}),t._UZ(32,"i",94),t.qZA()()(),t.TgZ(33,"div")(34,"label",42),t._uU(35),t.ALo(36,"translate"),t.qZA(),t.TgZ(37,"span",88),t._uU(38,"*"),t.qZA(),t.TgZ(39,"input",95),t.NdJ("keypress",function(r){t.CHM(e);const a=t.oxw();return t.KtG(a.keyPress(r))}),t.ALo(40,"translate"),t.qZA()(),t.TgZ(41,"div")(42,"label",42),t._uU(43),t.ALo(44,"translate"),t.qZA(),t.TgZ(45,"span",88),t._uU(46,"*"),t.qZA(),t._UZ(47,"input",96),t.ALo(48,"translate"),t.qZA(),t.TgZ(49,"div")(50,"label",42),t._uU(51),t.ALo(52,"translate"),t.qZA(),t.TgZ(53,"span",88),t._uU(54,"*"),t.qZA(),t._UZ(55,"input",97),t.ALo(56,"translate"),t.qZA(),t.TgZ(57,"div")(58,"label",42),t._uU(59),t.ALo(60,"translate"),t.qZA(),t._UZ(61,"input",98),t.ALo(62,"translate"),t.qZA(),t.TgZ(63,"div")(64,"label",42),t._uU(65),t.ALo(66,"translate"),t.TgZ(67,"span",88),t._uU(68,"*"),t.qZA()(),t.TgZ(69,"ng-select",99),t.NdJ("change",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.onSelectBranch())}),t.ALo(70,"translate"),t.qZA()(),t.TgZ(71,"div",100)(72,"div",101)(73,"label",42),t._uU(74),t.ALo(75,"translate"),t.TgZ(76,"span",88),t._uU(77,"*"),t.qZA()(),t._UZ(78,"ng-select",102),t.ALo(79,"translate"),t.qZA(),t.TgZ(80,"button",103),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(),a=t.MAs(48);return t.KtG(r.open(a,null,"addJob"))}),t._UZ(81,"i",104),t.qZA()(),t.TgZ(82,"div")(83,"label",42),t._uU(84),t.ALo(85,"translate"),t.qZA(),t.YNc(86,Re,2,1,"div",105),t.qZA(),t.TgZ(87,"div")(88,"label",42),t._uU(89),t.ALo(90,"translate"),t.qZA(),t._UZ(91,"textarea",106),t.qZA()(),t.TgZ(92,"div",107)(93,"mat-slide-toggle",108),t.NdJ("change",function(r){t.CHM(e);const a=t.oxw();return t.KtG(a.CheckStatus(r))}),t._UZ(94,"span",54),t.qZA()()(),t.TgZ(95,"mat-tab"),t.YNc(96,$e,3,3,"ng-template",86),t.TgZ(97,"div",109)(98,"tree-ngx",110),t.NdJ("selectedItems",function(r){t.CHM(e);const a=t.oxw();return t.KtG(a.selectedTask1=r)}),t.ALo(99,"translate"),t.YNc(100,Xe,2,2,"ng-template",null,111,t.W1O),t.YNc(102,nn,2,2,"ng-template",null,112,t.W1O),t.qZA()()()()(),t.TgZ(104,"div",113),t._UZ(105,"div",114),t.TgZ(106,"button",115),t.NdJ("click",function(){const a=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.onSave(a))}),t._uU(107),t.ALo(108,"translate"),t.qZA()()()}if(2&n){const e=t.oxw();let o;t.xp6(2),t.Q6J("ngIf",0==e.adduser),t.xp6(1),t.Q6J("ngIf",1==e.adduser),t.xp6(4),t.Q6J("formGroup",e.userForm),t.xp6(3),t.Q6J("dir",t.lcZ(11,37,"dir")),t.xp6(6),t.hij("",t.lcZ(17,39,"nameAr")," "),t.xp6(4),t.s9C("placeholder",t.lcZ(21,41,"nameAr")),t.xp6(4),t.Oqu(t.lcZ(25,43,"nameEn")),t.xp6(5),t.MGl("placeholder","",t.lcZ(30,45,"nameEn")," "),t.xp6(6),t.Oqu(t.lcZ(36,47,"userName")),t.xp6(4),t.MGl("placeholder","",t.lcZ(40,49,"userName")," "),t.xp6(4),t.Oqu(t.lcZ(44,51,"Email")),t.xp6(4),t.MGl("placeholder","",t.lcZ(48,53,"Email")," "),t.xp6(4),t.Oqu(t.lcZ(52,55,"Confirm Email")),t.xp6(4),t.MGl("placeholder","",t.lcZ(56,57,"Confirm Email")," "),t.xp6(4),t.Oqu(t.lcZ(60,59,"\u062a\u0644\u064a\u0641\u0648\u0646 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645")),t.xp6(2),t.MGl("placeholder","",t.lcZ(62,61,"Mobile")," "),t.xp6(4),t.hij(" ",t.lcZ(66,63,"Branch")," "),t.xp6(4),t.s9C("placeholder",t.lcZ(70,65,"Branch")),t.Q6J("items",e.branchOptions)("clearable",!0),t.xp6(5),t.hij(" ",t.lcZ(75,67,"Job")," "),t.xp6(4),t.s9C("placeholder",t.lcZ(79,69,"Job")),t.Q6J("items",e.Job_Emp)("clearable",!0),t.xp6(6),t.hij(" ",t.lcZ(85,71,"User branches"),""),t.xp6(2),t.Q6J("ngForOf",e.branchOptions),t.xp6(3),t.hij("",t.lcZ(90,73,"Notes")," "),t.xp6(4),t.Q6J("checked",!0),t.xp6(1),t.Q6J("translate","name")("translateParams",t.DdM(79,on)),t.xp6(4),t.Tol(t.lcZ(99,75,"dir")),t.Q6J("nodeItems",e.AccountngxTree)("options",e.options),t.xp6(8),t.Q6J("disabled",null==e.userForm.controls.FullName.value||null==e.userForm.controls.FullNameAr.value||null==e.userForm.controls.JobId.value||null==e.userForm.controls.BranchId.value||null==e.userForm.controls.UserName.value||(null==(o=e.userForm.get("UserName"))?null:o.hasError("required"))),t.xp6(1),t.hij(" ",t.lcZ(108,77,"Save")," ")}}const Q=function(){return{ar:"\u0647\u0644 \u062a\u0631\u064a\u062f \u0628\u0627\u0644\u062a\u0623\u0643\u064a\u062f \u062d\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u0635\u0641",en:"Are you sure to delete this row ?"}};function an(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",124),t._UZ(1,"p",54),t.TgZ(2,"div",125)(3,"button",126),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw().deleteUser(),t.KtG(a.dismiss())}),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"button",127),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.KtG(a.dismiss())}),t._uU(7),t.ALo(8,"translate"),t.qZA()()()}2&n&&(t.xp6(1),t.Q6J("translate","name")("translateParams",t.DdM(8,Q)),t.xp6(3),t.hij(" ",t.lcZ(5,4,"Yes")," "),t.xp6(3),t.hij(" ",t.lcZ(8,6,"No")," "))}function sn(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td",125)(6,"button",68),t.NdJ("click",function(){const a=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.updateGroups(a))}),t._UZ(7,"i",69),t.qZA(),t.TgZ(8,"button",145),t.NdJ("click",function(){const a=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.DeleteGroups(a.groupId))}),t._UZ(9,"i",71),t.qZA()()()}if(2&n){const e=i.$implicit;t.xp6(2),t.Oqu(e.nameAr),t.xp6(2),t.Oqu(e.nameEn)}}const ln=function(){return{ar:"\u0625\u0636\u0627\u0641\u0629 \u0645\u062c\u0645\u0648\u0639\u0629 \u062c\u062f\u064a\u062f\u0629",en:"Add new group"}},B=function(){return{standalone:!0}};function cn(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",76)(1,"h4",128),t._UZ(2,"span",129),t.qZA(),t.TgZ(3,"button",130),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.KtG(a.dismiss("Cross click"))}),t._UZ(4,"i",131),t.qZA()(),t.TgZ(5,"div",132)(6,"form",133,134)(8,"div",135)(9,"div",136)(10,"label",137),t._uU(11),t.ALo(12,"translate"),t.TgZ(13,"span",88),t._uU(14,"*"),t.qZA()(),t.TgZ(15,"input",138),t.NdJ("ngModelChange",function(r){t.CHM(e);const a=t.oxw();return t.KtG(a.GroupsnameAr=r)}),t.ALo(16,"translate"),t.ALo(17,"translate"),t.qZA()(),t.TgZ(18,"div",136)(19,"label",137),t._uU(20),t.ALo(21,"translate"),t.TgZ(22,"span",88),t._uU(23,"*"),t.qZA()(),t.TgZ(24,"input",138),t.NdJ("ngModelChange",function(r){t.CHM(e);const a=t.oxw();return t.KtG(a.GroupsnameEn=r)}),t.ALo(25,"translate"),t.ALo(26,"translate"),t.qZA()()(),t.TgZ(27,"div",139)(28,"table",140)(29,"thead")(30,"tr",141)(31,"th"),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"th"),t._uU(35),t.ALo(36,"translate"),t.qZA(),t._UZ(37,"th",54),t.qZA()(),t.TgZ(38,"tbody"),t.YNc(39,sn,10,2,"tr",105),t.qZA()()()(),t.TgZ(40,"div",142)(41,"button",143),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.SaveGroups())}),t._uU(42),t.ALo(43,"translate"),t.qZA(),t.TgZ(44,"button",144),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.KtG(a.dismiss())}),t._uU(45),t.ALo(46,"translate"),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(2),t.Q6J("translate","name")("translateParams",t.DdM(37,ln)),t.xp6(9),t.hij(" ",t.lcZ(12,17,"nameAr")," "),t.xp6(4),t.Q6J("ngModel",e.GroupsnameAr)("ngModelOptions",t.DdM(38,B))("placeholder",t.lcZ(16,19,"Write")+" "+t.lcZ(17,21,"nameAr")),t.xp6(5),t.hij(" ",t.lcZ(21,23,"nameEn")," "),t.xp6(4),t.Q6J("ngModel",e.GroupsnameEn)("ngModelOptions",t.DdM(39,B))("placeholder",t.lcZ(25,25,"Write")+" "+t.lcZ(26,27,"nameEn")),t.xp6(8),t.Oqu(t.lcZ(33,29,"nameAr")),t.xp6(3),t.Oqu(t.lcZ(36,31,"nameEn")),t.xp6(2),t.Q6J("translate","name")("translateParams",t.DdM(40,D)),t.xp6(2),t.Q6J("ngForOf",e.groupListTable),t.xp6(3),t.hij(" ",t.lcZ(43,33,"Save")," "),t.xp6(3),t.hij(" ",t.lcZ(46,35,"Back")," ")}}function un(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td",125)(6,"button",68),t.NdJ("click",function(){const a=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.updatebranch(a))}),t._UZ(7,"i",69),t.qZA(),t.TgZ(8,"button",145),t.NdJ("click",function(){const a=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.Deletebranch(a.departmentId))}),t._UZ(9,"i",71),t.qZA()()()}if(2&n){const e=i.$implicit;t.xp6(2),t.Oqu(e.departmentNameAr),t.xp6(2),t.Oqu(e.departmentNameEn)}}function pn(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",76)(1,"h4",77)(2,"span",116),t._uU(3),t.ALo(4,"translate"),t.qZA()(),t.TgZ(5,"button",79),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.KtG(a.dismiss())}),t._UZ(6,"i",80),t.qZA()(),t.TgZ(7,"div",132)(8,"form",133,134)(10,"div",135)(11,"div",136)(12,"label",137),t._uU(13),t.ALo(14,"translate"),t.TgZ(15,"span",88),t._uU(16,"*"),t.qZA()(),t.TgZ(17,"input",138),t.NdJ("ngModelChange",function(r){t.CHM(e);const a=t.oxw();return t.KtG(a.departmentNameAr=r)}),t.ALo(18,"translate"),t.ALo(19,"translate"),t.qZA()(),t.TgZ(20,"div",136)(21,"label",137),t._uU(22),t.ALo(23,"translate"),t.TgZ(24,"span",88),t._uU(25,"*"),t.qZA()(),t.TgZ(26,"input",138),t.NdJ("ngModelChange",function(r){t.CHM(e);const a=t.oxw();return t.KtG(a.departmentNameEn=r)}),t.ALo(27,"translate"),t.ALo(28,"translate"),t.qZA()()(),t.TgZ(29,"div",139)(30,"table",140)(31,"thead")(32,"tr",141)(33,"th"),t._uU(34),t.ALo(35,"translate"),t.qZA(),t.TgZ(36,"th"),t._uU(37),t.ALo(38,"translate"),t.qZA(),t._UZ(39,"th",54),t.qZA()(),t.TgZ(40,"tbody"),t.YNc(41,un,10,2,"tr",105),t.qZA()()()(),t.TgZ(42,"div",142)(43,"button",143),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.Savebranch())}),t._uU(44),t.ALo(45,"translate"),t.qZA(),t.TgZ(46,"button",144),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.KtG(a.dismiss())}),t._uU(47),t.ALo(48,"translate"),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(3),t.hij(" ",t.lcZ(4,16,"Departments")," "),t.xp6(10),t.hij(" ",t.lcZ(14,18,"nameAr")," "),t.xp6(4),t.Q6J("ngModel",e.departmentNameAr)("ngModelOptions",t.DdM(38,B))("placeholder",t.lcZ(18,20,"Write")+" "+t.lcZ(19,22,"nameAr")),t.xp6(5),t.hij(" ",t.lcZ(23,24,"nameEn")," "),t.xp6(4),t.Q6J("ngModel",e.departmentNameEn)("ngModelOptions",t.DdM(39,B))("placeholder",t.lcZ(27,26,"Write")+" "+t.lcZ(28,28,"nameEn")),t.xp6(8),t.Oqu(t.lcZ(35,30,"nameAr")),t.xp6(3),t.Oqu(t.lcZ(38,32,"nameEn")),t.xp6(2),t.Q6J("translate","name")("translateParams",t.DdM(40,D)),t.xp6(2),t.Q6J("ngForOf",e.branchlist),t.xp6(3),t.hij(" ",t.lcZ(45,34,"Save")," "),t.xp6(3),t.hij(" ",t.lcZ(48,36,"Back")," ")}}function mn(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"tr",161),t.NdJ("dblclick",function(){const a=t.CHM(e).$implicit,s=t.oxw().$implicit;return t.oxw().setJobInSelect(a,s),t.KtG(s.dismiss("Cross click"))}),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td",125)(6,"button",162),t.NdJ("click",function(){const a=t.CHM(e).$implicit,s=t.oxw(2);return s.AddDataType.Jobdata.id=a.id,s.AddDataType.Jobdata.namear=a.name,t.KtG(s.AddDataType.Jobdata.nameen=a.nameEn)}),t._UZ(7,"i",69),t.qZA(),t.TgZ(8,"button",145),t.NdJ("click",function(){const a=t.CHM(e).$implicit,s=t.oxw(2),p=t.MAs(50);return s.getJobRow(a),t.KtG(s.open(p,s.AddDataType.Jobdata,"deleteJob"))}),t._UZ(9,"i",71),t.qZA()()()}if(2&n){const e=i.$implicit;t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.nameEn)}}function dn(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",76)(1,"h4",77)(2,"span",116),t._uU(3," \u0648\u0638\u064a\u0641\u0629 \u062c\u062f\u064a\u062f\u0629 "),t.qZA()(),t.TgZ(4,"button",79),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.KtG(null==a?null:a.dismiss())}),t._UZ(5,"i",80),t.qZA()(),t.TgZ(6,"div",124)(7,"form",146,147)(9,"div",136)(10,"label",148),t._uU(11),t.ALo(12,"translate"),t.TgZ(13,"span",88),t._uU(14,"*"),t.qZA()(),t.TgZ(15,"input",149,150),t.NdJ("ngModelChange",function(r){t.CHM(e);const a=t.oxw();return t.KtG(a.AddDataType.Jobdata.namear=r)}),t.ALo(17,"translate"),t.ALo(18,"translate"),t.qZA()(),t.TgZ(19,"div",136)(20,"label",151),t._uU(21),t.ALo(22,"translate"),t.TgZ(23,"span",88),t._uU(24,"*"),t.qZA()(),t.TgZ(25,"div",152)(26,"input",153,154),t.NdJ("ngModelChange",function(r){t.CHM(e);const a=t.oxw();return t.KtG(a.AddDataType.Jobdata.nameen=r)}),t.ALo(29,"translate"),t.ALo(30,"translate"),t.qZA(),t.TgZ(31,"a",155),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.AddDataType.Jobdata.nameen=r.AddDataType.Jobdata.namear)}),t._UZ(32,"i",94),t.qZA()()()(),t.TgZ(33,"div",156)(34,"table",157)(35,"thead")(36,"tr")(37,"th"),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.TgZ(40,"th"),t._uU(41),t.ALo(42,"translate"),t.qZA(),t._UZ(43,"th",54),t.qZA()(),t.TgZ(44,"tbody"),t.YNc(45,mn,10,2,"tr",158),t.qZA()()(),t.TgZ(46,"div",159)(47,"button",115),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.saveJob())}),t._uU(48),t.ALo(49,"translate"),t.qZA(),t.TgZ(50,"button",144),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.KtG(a.dismiss())}),t._uU(51),t.ALo(52,"translate"),t.qZA(),t.TgZ(53,"button",160),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.resetJob())}),t._uU(54),t.ALo(55,"translate"),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(11),t.hij(" ",t.lcZ(12,15,"nameAr")," "),t.xp6(4),t.Q6J("ngModel",e.AddDataType.Jobdata.namear)("placeholder",t.lcZ(17,17,"Write")+" "+t.lcZ(18,19,"nameAr")),t.xp6(6),t.hij(" ",t.lcZ(22,21,"nameEn")," "),t.xp6(5),t.Q6J("ngModel",e.AddDataType.Jobdata.nameen)("placeholder",t.lcZ(29,23,"Write")+" "+t.lcZ(30,25,"nameEn")),t.xp6(12),t.Oqu(t.lcZ(39,27,"nameAr")),t.xp6(3),t.Oqu(t.lcZ(42,29,"nameEn")),t.xp6(2),t.Q6J("translate","name")("translateParams",t.DdM(37,D)),t.xp6(2),t.Q6J("ngForOf",e.JobTypesPopup_Emp),t.xp6(2),t.Q6J("disabled",!e.AddDataType.Jobdata.namear),t.xp6(1),t.hij(" ",t.lcZ(49,31,"Save")," "),t.xp6(3),t.hij(" ",t.lcZ(52,33,"Back")," "),t.xp6(3),t.hij(" ",t.lcZ(55,35,"\u062c\u062f\u064a\u062f")," ")}}function hn(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",124),t._UZ(1,"p",54),t.TgZ(2,"div",163)(3,"button",126),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.oxw().confirmJobDelete(),t.KtG(a.dismiss())}),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"button",127),t.NdJ("click",function(){const a=t.CHM(e).$implicit;return t.KtG(a.dismiss())}),t._uU(7),t.ALo(8,"translate"),t.qZA()()()}2&n&&(t.xp6(1),t.Q6J("translate","name")("translateParams",t.DdM(8,Q)),t.xp6(3),t.hij(" ",t.lcZ(5,4,"Yes")," "),t.xp6(3),t.hij(" ",t.lcZ(8,6,"No")," "))}const gn=function(){return[10,25]},_n=[{path:"",pathMatch:"full",redirectTo:"organization"},{path:"organization",component:Rt},{path:"users",component:(()=>{class n{ngOnInit(){this.userformintial(),this.GetAllUsers(),this.FillJobSelect_Emp(),this.FillBranchSelect(),this.loadPrivilegesTree(),this.api.GetOrganizationDataLogin().subscribe({next:e=>{this.OrganizationData=e.result}}),this.userG=this.authenticationService.userGlobalObj}constructor(e,o,r,a,s,p,f,_,I,U,T){this.api=e,this.modalService=o,this._sysServicesService=r,this._organization=a,this._sharedService=s,this.toast=p,this.translate=f,this.adminProfileService=_,this.fb=I,this.authenticationService=U,this.groupPrivilegeService=T,this.title={main:{name:{ar:"\u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645",en:"Control Panel"},link:"/controlpanel"},sub:{ar:"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646",en:"Users"}},this.lang="ar",this.logoUrl=null,this.date=new Date,this.displayedColumns=["UserId","fullName","branchName","jobName","email","mobile","statusName","operations"],this.data={users:new g.by([{}]),filter:{enable:!1,date:null}},this.userG={},this.selectedCategory=0,this.privilegesTree=[],this.transformedArray=[],this.PrivilegesTree=[],this.NotifPrivilegesTree=[],this.selectedIds=[],this.selectedBranchIds=[],this.branchOptions=[],this.departmentOptions=[],this.options={mode:m.Ci.MultiSelect,checkboxes:!0,alwaysEmitSelected:!1},this.nodeItems=[],this.groupOptions=[],this.GroupId="0",this.DepartmentId="0",this.datamod={},this.adduser=!0,this.UserSelectRow=null,this.SettingIdsList=[],this.AddDataType={Jobdata:{id:0,namear:null,nameen:null}},this.dataSearch={filter:{enable:!1,date:null,isChecked:!1,ListName:[],ListPhone:[],userId:null,showFilters:!1}},this.privilegesForm=new l.cw({groupId:new l.NI(7),privilegeIds:new l.NI([[]])}),this.userG=this.authenticationService.userGlobalObj,e.lang.subscribe(H=>{this.lang=H}),this.environmenturl=d.N.PhotoURL}userformintial(){this.userForm=new l.cw({UserId:new l.NI(0),FullName:new l.NI("",[l.kI.required,l.kI.pattern("^[a-zA-Z ]+$")]),FullNameAr:new l.NI("",[l.kI.required,l.kI.pattern("^[\u0621-\u064a\u0660-\u0669 ]+$")]),JobId:new l.NI(null,[l.kI.required]),Email:new l.NI("",[l.kI.email]),confirmEmail:new l.NI("",[l.kI.email]),Mobile:new l.NI("",[l.kI.minLength(11),l.kI.maxLength(11),l.kI.pattern("^05[0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9]")]),GroupId:new l.NI(null,[l.kI.required]),BranchId:new l.NI(null,[l.kI.required]),UserName:new l.NI("",[l.kI.required]),Password:new l.NI(""),Session:new l.NI(5),Notes:new l.NI(""),Status:new l.NI([1]),ExpireDate:new l.NI(null),CheckExpireDate:new l.NI,BranchesList:new l.NI([])},{validators:w.w0}),this.userForm.controls.ExpireDate.disable()}keyPress(e){}loadPrivilegesTree(){this.selectedTask1=[],this.selectedTask2=[],this._sysServicesService.getPrivilegesTree().subscribe(e=>{this.PrivList=JSON.parse(JSON.stringify(e)),this.AccountngxTreelist=e,this.AccountngxTreelist.forEach(r=>{r.children=[],r.name=this.translate.instant(r.text),r.item={phrase:r.text,id:r.id},r.selected=!1,this.AccountngxTreelist.forEach(a=>{r.id==a.parent&&(r.isparent=!0,r.children.push(a))})});const o=[];this.AccountngxTreelist.forEach(r=>{1==r.isparent&&o.push(r)}),this.AccountngxTree=[],this.AccountngxTreelist.forEach(r=>{"#"==r.parent&&this.AccountngxTree.push(r)})})}selectTask(){this.selectedGroup.forEach(e=>{this.selectedIds.push(e.id)}),this.privilegesForm.controls.privilegeIds.setValue(this.selectedIds)}onCheckboxChange(e){if(e.id)if(this.selectedIds.find(r=>r===e.id)){const r=this.selectedIds.findIndex(a=>a===e.id);-1!==r&&this.selectedIds.splice(r,1)}else this.selectedIds.push(e.id);this.userForm.controls.BranchesList.setValue(this.selectedIds),this.selectedIds.forEach(o=>{this.branchOptions.forEach(r=>{r.id==o&&(r.checked=!0)})})}logSelectedBranches(e,o){this.selectedBranchIds=this.branchOptions.filter(r=>r.selected).map(r=>r.id)}navigateToTab(e){this.tabGroup.selectedIndex=e}onSave(e){const o=new FormData;if(Object.keys(this.userForm.controls).forEach(s=>{const p=this.userForm.get(s);p&&p instanceof l.NI&&p.value&&o.append(s,p.value.toString())}),null!=this.userForm.controls.Email.value&&this.userForm.controls.Email.value!=this.userForm.controls.confirmEmail.value)return void this.toast.error(this.translate.instant("\u062a\u0623\u0643\u062f \u0645\u0646 \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0627\u0644\u0643\u062a\u0631\u0648\u0646\u064a"),this.translate.instant("Message"));this.userForm.controls.Status.setValue(0==this.userForm.controls.Status.value?0:1),0!=this.userForm.controls.ExpireDate.value&&null!=this.userForm.controls.ExpireDate.value&&"string"!=typeof this.userForm.controls.ExpireDate.value&&this._sharedService.date_TO_String(this.userForm.controls.ExpireDate.value),"number"!=typeof this.userForm.controls.BranchId.value&&this.userForm.controls.BranchId.setValue(this.userForm.controls.BranchId.value?.id),null==this.userForm.controls.ExpireDate.value&&this.userForm.controls.ExpireDate.setValue(0);const a=new FormData;if(a.append("UserId",this.userForm.controls.UserId.value),a.append("FullName",this.userForm.controls.FullName.value),a.append("FullNameAr",this.userForm.controls.FullNameAr.value),a.append("JobId",this.userForm.controls.JobId.value),a.append("Email",this.userForm.controls.Email.value),a.append("confirmEmail",this.userForm.controls.confirmEmail.value),a.append("Mobile",this.userForm.controls.Mobile.value),a.append("BranchId",this.userForm.controls.BranchId.value),a.append("UserName",this.userForm.controls.UserName.value),a.append("Notes",this.userForm.controls.Notes.value),a.append("Status",this.userForm.controls.Status.value),a.append("ExpireDate",1==this.userForm.controls.CheckExpireDate.value&&0!=this.userForm.controls.ExpireDate.value?this._sharedService.date_TO_String(this.userForm.controls.ExpireDate.value)??"0":"0"),a.append("CheckExpireDate",this.userForm.controls.CheckExpireDate.value),this.userForm.controls.BranchesList.value.length>0)for(let s of this.userForm.controls.BranchesList.value)a.append("BranchesList[]",s);this._sysServicesService.saveUser(a).subscribe(s=>{200==s.statusCode?(0==this.userForm.controls.ExpireDate.value&&this.userForm.controls.ExpireDate.setValue(null),this.saveUserPrivileges(s.returnedParm,this.selectedTask1),this.GetAllUsers(),this.toast.success(this.translate.instant(s.reasonPhrase),this.translate.instant("Message")),0==this.userForm.controls.UserId.value&&this._sysServicesService.GetUserById(s.returnedParm).subscribe(p=>{this.edituser(p.result)})):(0==this.userForm.controls.ExpireDate.value&&this.userForm.controls.ExpireDate.setValue(null),this.toast.error(this.translate.instant(s.reasonPhrase),this.translate.instant("Message")))})}getpriv(e){e.forEach(o=>{this.PrivList.forEach(r=>{r.id==o.id&&"#"!=r.parent&&0==e.filter(s=>s.id==r.parent).length&&(e.push({id:r.parent}),this.getpriv(e))})})}saveUserPrivileges(e,o){var r=this;return function $t(n){return function(){var i=this,e=arguments;return new Promise(function(o,r){var a=n.apply(i,e);function s(f){j(a,o,r,s,p,"next",f)}function p(f){j(a,o,r,s,p,"throw",f)}s(void 0)})}}(function*(){yield r.getpriv(o);const a=[];o.forEach(s=>{a.push(Number(s.id))}),r._sysServicesService.saveUserPrivil(e,a).subscribe(s=>{},s=>{})})()}getnot(e){e.forEach(o=>{this.NotPrivList.forEach(r=>{r.id==o.id&&"#"!=r.parent&&0==e.filter(s=>s.id==r.parent).length&&(e.push({id:r.parent}),this.getnot(e))})})}clickItem(e){console.log(e)}fetchPrivilegeIdsForUser(e){this._sysServicesService.getPrivilegesByUserId(e).subscribe(o=>{this._sysServicesService.getPrivilegesTree().subscribe(r=>{this.PrivList=JSON.parse(JSON.stringify(r)),this.AccountngxTreelist=[],this.AccountngxTreelist=r,this.AccountngxTreelist.forEach(s=>{this.selectedTask1.forEach((p,f)=>{s.id==p.id&&delete this.selectedTask1[f]})}),this.AccountngxTreelist.forEach(s=>{s.children=[],s.name=this.translate.instant(s.text),s.item={phrase:s.text,id:s.id},s.selected=!1,this.AccountngxTreelist.forEach(p=>{s.id==p.parent&&(s.isparent=!0,s.children.push(p))}),o.forEach(p=>{s.id==p&&(s.expanded=!0,s.selected=!0,this.selectedTask1.push(s.item))})});const a=[];this.AccountngxTreelist.forEach(s=>{1==s.isparent&&a.push(s)}),this.AccountngxTree=[],this.AccountngxTreelist.forEach(s=>{"#"==s.parent&&this.AccountngxTree.push(s)})})},o=>{})}getPrivilegesGroup(){this.groupPrivilegeService.getPrivilegesIdsByGroupId(this.userForm.controls.GroupId.value).subscribe(e=>{this.groupPrivilegeService.getPrivilegesTree().subscribe(o=>{this.AccountngxTreelist=[],this.AccountngxTreelist=o,this.AccountngxTreelist.forEach(a=>{this.selectedTask1.forEach((s,p)=>{a.id==s.id&&delete this.selectedTask1[p]})}),this.AccountngxTreelist.forEach(a=>{a.children=[],null!=a.text&&(a.name=this.translate.instant(a.text)),a.item={phrase:a.text,id:a.id},a.selected=!1,this.AccountngxTreelist.forEach(s=>{a.id==s.parent&&(a.isparent=!0,a.children.push(s))}),e.forEach(s=>{a.id==s&&(a.expanded=!0,a.selected=!0,this.selectedTask1.push(a.item))})});const r=[];this.AccountngxTreelist.forEach(a=>{1==a.isparent&&r.push(a)}),this.AccountngxTree=[],this.AccountngxTreelist.forEach(a=>{"#"==a.parent&&this.AccountngxTree.push(a)})})})}FillBranchSelect(){this._sysServicesService.FillBranchSelect().subscribe(e=>{this.branchOptions=e,this.nodeItems=e})}getDepartments(e){this._sysServicesService.getDepartments(e).subscribe(o=>{this.departmentOptions=o})}onSelectBranch(){this.selectedBranchId=this.userForm.get("BranchId")?.value;const e=this.selectedIds.findIndex(o=>o===this.selectedBranchId);-1!==e&&this.selectedIds.splice(e,1),this.branchOptions.forEach(o=>{this.selectedBranchId==o.id&&(o.checked=!1)})}getBranchAccount(e){this.selectedBranchId=e}GetAllUsers(){this._sysServicesService.GetAllUsers().subscribe(e=>{this.dataSourceTemp=e.result,this.data.users=new g.by(e.result),this.data.users.paginator=this.paginator,this.data.users.sort=this.sort,this.FillSerachLists(e.result)})}applyFilter(e){const o=e.target.value.toLowerCase();var r=this.dataSourceTemp;o&&(r=this.dataSourceTemp.filter(a=>a.fullName&&-1!==a.fullName?.trim().toLowerCase().indexOf(o)||a.jobName&&-1!==a.jobName?.trim().toLowerCase().indexOf(o)||a.statusName&&-1!==a.statusName?.trim().toLowerCase().indexOf(o)||a.mobile&&-1!==a.mobile?.trim().toLowerCase().indexOf(o)||a.email&&-1!==a.email?.trim().toLowerCase().indexOf(o)||a.userName&&-1!==a.userName?.trim().toLowerCase().indexOf(o)||a.fullNameAr&&-1!==a.fullNameAr?.trim().toLowerCase().indexOf(o))),this.data.users=new g.by(r),this.data.users.paginator=this.paginator,this.data.users.sort=this.sort}GetFillPriv(){this._sysServicesService.GetFillPriv().subscribe(e=>{e.forEach(o=>{null!=o.name&&(o.name=this.translate.instant(o.name))}),this.filteredFillPrivList=e})}getgroupListTable(){this._sysServicesService.GetAllGroups_S().subscribe(e=>{this.groupOptions=e,this.groupListTable=e.result})}SaveGroups(){if(null!=this.GroupsnameAr&&null!=this.GroupsnameEn){const e={GroupId:this.GroupId.toString(),NameAr:this.GroupsnameAr,NameEn:this.GroupsnameEn};this._sysServicesService.SaveGroups(e).subscribe(o=>{this.GroupsnameAr=null,this.GroupsnameEn=null,this.GroupId="0",this.getgroupListTable(),this.toast.success(o.reasonPhrase,"\u0631\u0633\u0627\u0644\u0629")},o=>{this.toast.error(o.reasonPhrase,"\u0631\u0633\u0627\u0644\u0629")})}}updateGroups(e){this.GroupId=e.groupId,this.GroupsnameAr=e.nameAr,this.GroupsnameEn=e.nameEn}DeleteGroups(e){this._sysServicesService.DeleteGroups(e).subscribe(o=>{200==o.statusCode&&(this.toast.success(o.reasonPhrase,"\u0631\u0633\u0627\u0644\u0629"),this.getgroupListTable())},o=>{this.toast.error(o.reasonPhrase,"\u0631\u0633\u0627\u0644\u0629")})}GetAllDepartmentbyType(){this._sysServicesService.GetAllDepartmentbyType().subscribe(e=>{this.branchlist=e.result})}Savebranch(){if(null!=this.departmentNameAr&&null!=this.departmentNameEn){const e={DepartmentId:this.DepartmentId.toString(),DepartmentNameAr:this.departmentNameAr,DepartmentNameEn:this.departmentNameEn,Type:1};this._sysServicesService.SaveDepartment(e).subscribe(o=>{this.departmentNameAr=null,this.departmentNameEn=null,this.DepartmentId="0",this.getDepartments(1),this.GetAllDepartmentbyType(),this.toast.success(o.reasonPhrase,"\u0631\u0633\u0627\u0644\u0629")},o=>{this.toast.error(o.reasonPhrase,"\u0631\u0633\u0627\u0644\u0629")})}}updatebranch(e){this.DepartmentId=e.departmentId,this.departmentNameAr=e.nameAr,this.departmentNameEn=e.nameEn}Deletebranch(e){this._sysServicesService.DeleteDepartment(e).subscribe(o=>{200==o.statusCode&&(this.toast.success(o.reasonPhrase,"\u0631\u0633\u0627\u0644\u0629"),this.getDepartments(1),this.GetAllDepartmentbyType())})}CheckStatus(e){}CheckExpireD(e){0==e.checked?(this.userForm.controls.ExpireDate.disable(),this.userForm.controls.ExpireDate.setValue("")):this.userForm.controls.ExpireDate.enable()}getCopy(e){const o=document.createElement("textarea");o.style.position="fixed",o.style.left="0",o.style.top="0",o.style.opacity="0",o.value=e,document.body.appendChild(o),o.focus(),o.select(),document.execCommand("copy"),document.body.removeChild(o),this.userForm.controls.FullName.setValue(this.userForm.controls.FullNameAr.value)}compareBranches(e,o){return e&&o?e.id===o.id:e===o}edituser(e){this.branchOptions.forEach(o=>{o.checked=!1}),this.selectedBranchId=null,this.selectedIds=[],this.adduser=!1,this.GetBranchesByUserId(e.userId),null!=e.userId&&null!=e.addUsers&&this.adminProfileService.getUserById(e.addUsers).subscribe(o=>{this.logoUrl=o.result.imgUrl,this.fullNameuser=o.result.fullName}),this.datamod=e,this.userformintial(),this.selectedBranchId=e.branchId,this.userForm.controls.UserId.setValue(e.userId),this.userForm.controls.FullNameAr.setValue(e.fullNameAr),this.userForm.controls.FullName.setValue(e.fullNameEn),this.userForm.controls.JobId.setValue(e.jobId),this.userForm.controls.Email.setValue(e.email),this.userForm.controls.confirmEmail.setValue(e.email),this.userForm.controls.BranchId.setValue(e.branchId),this.userForm.controls.Mobile.setValue(e.mobile),this.userForm.controls.UserName.setValue(e.userName),this.userForm.controls.Password.setValue(e.password),this.userForm.controls.Notes.setValue(e.notes),this.userForm.controls.Status.setValue(e.status),this.userForm.controls.UserName.disable(),0==e.expireDate?this.userForm.controls.ExpireDate.setValue(null):(this.userForm.controls.ExpireDate.setValue(new Date(e.expireDate)),""==this.userForm.controls.ExpireDate.value||null==this.userForm.controls.ExpireDate.value||(this.userForm.controls.CheckExpireDate.setValue(!0),this.userForm.controls.ExpireDate.enable())),this.fetchPrivilegeIdsForUser(e.userId),this.CheckStatus(1==this.userForm.controls.Status.value?{checked:!0}:{checked:!1})}open(e,o,r,a,s){this.UserSelectRow=null,"adduser"==s&&(this.selectedTask1=[],this.selectedTask2=[],this.loadPrivilegesTree(),this.userformintial(),this.adduser=!0,this.userForm.controls.UserName.enable(),this.selectedIds=[],this.branchOptions.forEach(p=>{p.checked=!1}),this.selectedBranchId=null),"edit"==s&&this.edituser(o),"deleteModalUser"==s&&(this.deleteUserId=o.userId),o&&(this.modalDetails=o),s&&(this.modalDetails=s),this.modalService.open(e,{ariaLabelledBy:"modal-basic-title",size:r,centered:!a}).result.then(p=>{},p=>{})}opened(e,o,r,a){this.modalService.open(e,{ariaLabelledBy:"modal-basic-title",size:r,centered:!a}).result.then(s=>{},s=>{})}GetBranchesByUserId(e){this._sysServicesService.BranchesByUserId(e).subscribe(o=>{o.forEach(r=>{this.onCheckboxChange({id:r})})})}resetModal(){this.modalDetails={type:null}}deleteUser(){this._sysServicesService.deleteUsers(this.deleteUserId).subscribe(e=>{200==e.statusCode?(this.GetAllUsers(),this.toast.success(this.translate.instant(e.reasonPhrase),this.translate.instant("Message"))):this.toast.error(this.translate.instant(e.reasonPhrase),this.translate.instant("Message"))})}FillJobSelect_Emp(){this._organization.FillJobSelect().subscribe(e=>{console.log(e),this.Job_Emp=e,this.JobTypesPopup_Emp=e})}getJobRow(e){this.JobRowSelected=e}setJobInSelect(e,o){this.modalDetails.jobId=e.id}confirmJobDelete(){this._organization.DeleteJob(this.JobRowSelected.id).subscribe(e=>{200==e.statusCode?(this.toast.success(this.translate.instant(e.reasonPhrase),this.translate.instant("Message")),this.FillJobSelect_Emp()):this.toast.error(this.translate.instant(e.reasonPhrase),this.translate.instant("Message"))})}saveJob(){if(null!=this.AddDataType.Jobdata.namear&&null!=this.AddDataType.Jobdata.nameen){var e={};e.JobId=this.AddDataType.Jobdata.id,e.NameAr=this.AddDataType.Jobdata.namear,e.NameEn=this.AddDataType.Jobdata.nameen,this._organization.SaveJob(e).subscribe(r=>{200==r.statusCode?(this.toast.success(this.translate.instant(r.reasonPhrase),this.translate.instant("Message")),this.resetJob(),this.FillJobSelect_Emp()):this.toast.error(this.translate.instant(r.reasonPhrase),this.translate.instant("Message"))})}else this.toast.error("\u0645\u0646 \u0641\u0636\u0644\u0643 \u0623\u0643\u0645\u0644 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a","\u0631\u0633\u0627\u0644\u0629")}resetJob(){this.AddDataType.Jobdata.id=0,this.AddDataType.Jobdata.namear=null,this.AddDataType.Jobdata.nameen=null}FillSerachLists(e){this.FillUserListName(e),this.FillUserListPhone(e)}FillUserListName(e){const o=e.map(s=>{const p={};return p.id=s.userId,p.name=s.fullName,p}),a=[...new Map(o.map(s=>[s.id,s])).values()];this.dataSearch.filter.ListName=a}FillUserListPhone(e){const o=e.map(s=>{const p={};return p.id=s.userId,p.name=s.mobile,p}),a=[...new Map(o.map(s=>[s.id,s])).values()];this.dataSearch.filter.ListPhone=a,this.dataSearch.filter.ListPhone=this.dataSearch.filter.ListPhone.filter(s=>null!=s.name&&""!=s.name)}RefreshDataCheck(e,o){this.data.users.data=this.dataSourceTemp,null!=e&&""!=e&&null!=o&&""!=o&&(this.data.users.data=this.data.users.data.filter(r=>{var a=new Date(r.addDate),s=new Date(e),p=new Date(o);return a.getTime()>=s.getTime()&&a.getTime()<=p.getTime()})),null!=this.dataSearch.filter.userId&&""!=this.dataSearch.filter.userId&&(this.data.users.data=this.data.users.data.filter(r=>r.userId==this.dataSearch.filter.userId))}ClearDate(){0==this.dataSearch.filter.enable&&(this.dataSearch.filter.date=null,this.RefreshDataCheck(null,null))}CheckDate(e){if(null!=e){var o=this._sharedService.date_TO_String(e[0]),r=this._sharedService.date_TO_String(e[1]);this.RefreshDataCheck(o,r)}else this.RefreshDataCheck(null,null)}RefreshData(){null==this.dataSearch.filter.date?this.RefreshDataCheck(null,null):this.RefreshDataCheck(this.dataSearch.filter.date[0],this.dataSearch.filter.date[1])}exportData(){let e=[];for(let o=0;o<this.dataSourceTemp.length;o++)e.push({fullName:this.dataSourceTemp[o].fullName,branchName:this.dataSourceTemp[o].branchName,jobName:this.dataSourceTemp[o].jobName,email:this.dataSourceTemp[o].email,mobile:this.dataSourceTemp[o].mobile,statusName:this.dataSourceTemp[o].statusName});this._sysServicesService.customExportExcel(e,"Users")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(v.e),t.Y36(b.FF),t.Y36(Wt),t.Y36(F.M),t.Y36(w.F1),t.Y36(y._W),t.Y36(M.sK),t.Y36(Xt.a),t.Y36(l.qu),t.Y36(E.$),t.Y36(te))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-users"]],viewQuery:function(e,o){if(1&e&&(t.Gf(Z.NW,5),t.Gf(C.YE,5),t.Gf(ae,5)),2&e){let r;t.iGM(r=t.CRH())&&(o.paginator=r.first),t.iGM(r=t.CRH())&&(o.sort=r.first),t.iGM(r=t.CRH())&&(o.tabGroup=r.first)}},decls:51,vars:10,consts:[[1,"add-search","pb-4"],[3,"title"],[1,"tables-data","mt-3","overflow-hidden"],[1,"flex","justify-between","gap-2","items-center","my-3","flex-wrap"],[1,"flex","gap-2","controler"],["class","flex gap-1 btn btn-primary",3,"click",4,"ngIf"],["class","flex gap-1 btn btn-danger",3,"click",4,"ngIf"],["class","flex gap-1 btn btn-warning",3,"click",4,"ngIf"],["class","flex gap-6 flex-wrap items-end mb-4",4,"ngIf"],[1,"overflow-auto","mt-3"],["mat-table","","matSort","",1,"mat-elevation-z8","rounded-t-lg","overflow-hidden","w-max",3,"dataSource"],["matColumnDef","UserId"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","fullName"],["style","display: inline-flex;","mat-cell","",4,"matCellDef"],["matColumnDef","branchName"],["matColumnDef","jobName"],["matColumnDef","email"],["matColumnDef","mobile"],["matColumnDef","statusName"],["matColumnDef","operations"],["mat-header-cell","",3,"translate","translateParams",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","duration-300 hover:bg-slate-100",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],[3,"pageSizeOptions"],["dataModal",""],["deleteModal",""],["addNewGroup",""],["departments",""],["AddJobPopup",""],["deleteJob",""],[1,"flex","gap-1","btn","btn-primary",3,"click"],[1,"hidden","md:block",3,"translate","translateParams"],[1,"fa-solid","fa-user-plus"],[1,"flex","gap-1","btn","btn-danger",3,"click"],[1,"fa-solid","fa-search"],[1,"flex","gap-1","btn","btn-warning",3,"click"],[1,"fa-solid","fa-file-export"],[1,"flex","gap-6","flex-wrap","items-end","mb-4"],[1,"max-w-xs"],[1,"col-form-label"],["bindLabel","name","bindValue","id",1,"w-full","p-0",3,"items","clearable","ngModel","placeholder","ngModelChange","change"],["CustomerName",""],[1,"btn","btn-primary",3,"translate","translateParams","click"],["class","form-group col-md-2 timeInput",4,"ngIf"],[1,"w-fit"],[1,"form-control",3,"placeholder","keyup"],["input",""],[1,"form-group","col-md-2","timeInput"],["type","text","bsDaterangepicker","",1,"form-control",3,"placeholder","ngModel","bsConfig","ngModelChange"],["dpr","bsDaterangepicker"],["mat-header-cell","","mat-sort-header",""],[3,"translate","translateParams"],["mat-cell",""],["mat-cell","",2,"display","inline-flex"],[1,"w-20","p-3"],["alt","",1,"aspect-square","rounded-full","object-cover",3,"src"],[2,"place-self","center"],["style","color: #0ea516;font-size: 17px;font-weight: bold;",4,"ngIf"],["style","color: #b20b0b;font-size: 17px;font-weight: bold;",4,"ngIf"],[2,"color","#0ea516","font-size","17px","font-weight","bold"],[2,"color","#b20b0b","font-size","17px","font-weight","bold"],["mat-header-cell","",3,"translate","translateParams"],[1,"flex","gap-1","justify-center","py-2"],["class","min-w-max p-2 bg-orange-100 hover:bg-orange-500 rounded-lg duration-300 hover:text-white aspect-square w-10",3,"click",4,"ngIf"],["class","min-w-max p-2 bg-red-100 hover:bg-red-500 rounded-lg duration-300 hover:text-white aspect-square w-10",3,"click",4,"ngIf"],[1,"min-w-max","p-2","bg-orange-100","hover:bg-orange-500","rounded-lg","duration-300","hover:text-white","aspect-square","w-10",3,"click"],[1,"fa-regular","fa-pen-to-square"],[1,"min-w-max","p-2","bg-red-100","hover:bg-red-500","rounded-lg","duration-300","hover:text-white","aspect-square","w-10",3,"click"],[1,"fa-solid","fa-trash-can"],["mat-header-row",""],["mat-row","",1,"duration-300","hover:bg-slate-100"],[1,"mat-row"],["colspan","7",1,"mat-cell"],[1,"modal-header","text-white","flex","justify-between","items-center",2,"background-color","var(--base-color)"],[1,"m-0"],["class","text-2xl",4,"ngIf"],["type","button",1,"text-2xl","text-white","m-0",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body","cpanel-users","users"],[1,"modal-form",3,"formGroup"],["linear",""],["stepper",""],[3,"dir"],["mat-tab-label",""],[1,"grid","md:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","gap-3"],[1,"text-danger"],["type","text","id","FullNameAr","name","FullNameAr","autocomplete","off","formControlName","FullNameAr",1,"form-control",3,"placeholder"],["for","empNameEntxt",1,"col-form-label"],[1,"flex"],["type","text","id","FullName","autocomplete","off","name","FullName","formControlName","FullName",1,"form-control",3,"placeholder"],["id","CopyCustomerName2",1,"btn",3,"click"],[1,"fa","fa-copy"],["type","text","autocomplete","off","formControlName","UserName",1,"form-control",3,"placeholder","keypress"],["type","Email","autocomplete","off","onCopy","return false","onDrag","return false","onDrop","return false","onPaste","return false","formControlName","Email",1,"form-control",3,"placeholder"],["type","email","autocomplete","off","onCopy","return false","onDrag","return false","onDrop","return false","onPaste","return false","formControlName","confirmEmail",1,"form-control",3,"placeholder"],["type","tel","autocomplete","off","formControlName","Mobile",1,"form-control",3,"placeholder"],["bindLabel","name","bindValue","id","autocomplete","off","formControlName","BranchId",1,"w-full","p-0",3,"items","clearable","placeholder","change"],[1,"flex","gap-2","items-end"],[1,"flex-grow"],["bindLabel","name","bindValue","id","autocomplete","off","formControlName","JobId",1,"w-full","p-0",3,"items","clearable","placeholder"],["type","type",1,"btn","bg-base","text-white","mt-3",3,"click"],[1,"fa","fa-plus"],[4,"ngFor","ngForOf"],["rows","1","formControlName","Notes",1,"form-control"],[1,"flex","gap-2","items-end","mt-3"],["color","primary","formControlName","Status",3,"checked","change"],[1,"overflow-auto","px-10"],[3,"nodeItems","options","selectedItems"],["nodeNameTemplate",""],["nodeCollapsibleTemplate",""],[1,"flex","gap-2","justify-between","items-end","flex-wrap","pt-3","border-t","border-neutral-300","col-span-1","md:col-span-2","mt-2"],[1,"flex","gap-2","items-center"],["type","submit",1,"btn","bg-base","text-white",3,"disabled","click"],[1,"text-2xl"],[4,"ngIf"],["type","checkbox","autocomplete","off",3,"value","checked","change"],["style","\n                    background-color: #ea5252;\n                    font-weight: 700;\n                    color: black;\n                  ",3,"active",4,"ngIf"],[3,"active",4,"ngIf"],[2,"background-color","#ea5252","font-weight","700","color","black"],[1,"fa-solid","fa-folder-plus","tree-icon"],[1,"fa-solid","fa-folder-minus","tree-icon"],[1,"modal-body","text-center"],[1,"flex","gap-2","justify-center"],["type","button","mat-raised-button","","color","warn",3,"click"],["type","button","mat-raised-button","","color","basic",3,"click"],["id","modal-basic-title",1,"modal-title","mb-0"],[1,"text-2xl",3,"translate","translateParams"],["type","button","aria-label","Close",1,"text-white","m-0",3,"click"],[1,"fa","fa-close"],[1,"modal-body"],[1,"modal-form"],["form","ngForm"],[1,"grid","md:grid-cols-2","gap-3"],[1,"form-group"],[1,"text-right","col-form-label","block"],["type","text",1,"form-control",3,"ngModel","ngModelOptions","placeholder","ngModelChange"],[1,"max-h-80","overflow-auto","mt-2","col-span-1","md:col-span-2"],[1,"custome-table"],[1,"text-center"],[1,"flex","gap-2","justify-end","pt-3","border-t","border-neutral-300","col-span-1","md:col-span-2","mt-2"],["type","submit",1,"btn","bg-base","text-white",3,"click"],[1,"btn","btn-secondary",3,"click"],[1,"p-2","bg-red-100","hover:bg-red-500","rounded-lg","duration-300","hover:text-white","aspect-square","w-10",3,"click"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-2"],["addJob","ngForm"],["for","JobNameArtxt3",1,"text-right","col-form-label","block"],["required","","type","text","id","JobNameArtxt3","name","JobNameArtxt3","autocomplete","off",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["JobNameAr","ngModel"],["for","JobNameEntxt3",1,"text-right","col-form-label","block"],[2,"display","inline-flex","width","100%"],["required","","type","text","id","JobNameEntxt3","name","JobNameEntxt3","autocomplete","off",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["JobNameEnValue","","JobNameEn","ngModel"],["id","CopyJobName2",1,"btn",3,"click"],[1,"max-h-80","overflow-auto","px-2"],[1,"table","table-hover"],[3,"dblclick",4,"ngFor","ngForOf"],[1,"flex","gap-2","mt-3","pt-3","border-t","border-neutral-300"],[1,"btn","bg-base","text-white",3,"click"],[3,"dblclick"],[1,"p-2","bg-orange-100","hover:bg-orange-500","rounded-lg","duration-300","hover:text-white","aspect-square","w-10",3,"click"],[1,"flex","gap-2","justify-center","mt-3"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"app-navigator",1),t.TgZ(2,"div",2)(3,"div",3)(4,"div",4),t.YNc(5,se,3,3,"button",5),t.YNc(6,ce,3,3,"button",6),t.YNc(7,pe,3,3,"button",7),t.qZA()(),t.YNc(8,ge,21,25,"div",8),t.TgZ(9,"div",9)(10,"table",10),t.ynx(11,11),t.YNc(12,fe,2,3,"th",12),t.YNc(13,xe,2,1,"td",13),t.BQk(),t.ynx(14,14),t.YNc(15,ve,2,3,"th",12),t.YNc(16,Ce,6,4,"td",15),t.BQk(),t.ynx(17,16),t.YNc(18,Ae,2,3,"th",12),t.YNc(19,Te,2,1,"td",13),t.BQk(),t.ynx(20,17),t.YNc(21,Ie,2,3,"th",12),t.YNc(22,Ne,2,1,"td",13),t.BQk(),t.ynx(23,18),t.YNc(24,Pe,2,3,"th",12),t.YNc(25,ye,2,1,"td",13),t.BQk(),t.ynx(26,19),t.YNc(27,Fe,2,3,"th",12),t.YNc(28,we,2,1,"td",13),t.BQk(),t.ynx(29,20),t.YNc(30,Ee,3,1,"th",12),t.YNc(31,qe,3,2,"td",13),t.BQk(),t.ynx(32,21),t.YNc(33,Je,1,3,"th",22),t.YNc(34,Le,4,2,"td",13),t.BQk(),t.YNc(35,Ge,1,0,"tr",23),t.YNc(36,ze,1,0,"tr",24),t.YNc(37,je,3,1,"tr",25),t.qZA()(),t._UZ(38,"mat-paginator",26),t.qZA()(),t.YNc(39,rn,109,80,"ng-template",null,27,t.W1O),t.YNc(41,an,9,9,"ng-template",null,28,t.W1O),t.YNc(43,cn,47,41,"ng-template",null,29,t.W1O),t.YNc(45,pn,49,41,"ng-template",null,30,t.W1O),t.YNc(47,dn,56,38,"ng-template",null,31,t.W1O),t.YNc(49,hn,9,9,"ng-template",null,32,t.W1O)),2&e&&(t.xp6(1),t.Q6J("title",o.title),t.xp6(4),t.Q6J("ngIf",null==o.userG?null:o.userG.userPrivileges.includes(16010101)),t.xp6(1),t.Q6J("ngIf",null==o.userG?null:o.userG.userPrivileges.includes(16010104)),t.xp6(1),t.Q6J("ngIf",null==o.userG?null:o.userG.userPrivileges.includes(16010105)),t.xp6(1),t.Q6J("ngIf",o.dataSearch.filter.showFilters),t.xp6(2),t.Q6J("dataSource",o.data.users),t.xp6(25),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(9,gn)))},dependencies:[h.sg,h.O5,ee.Lv,O.S,G.SP,G.uD,G.uX,M.Pi,ne.lW,J.w9,Y.FR,Y.TB,g.BZ,g.fO,g.as,g.w1,g.Dz,g.nj,g.ge,g.ev,g.XQ,g.Gk,g.Ee,Z.NW,C.YE,C.nU,oe.Rr,l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.On,l.F,m.yQ,l.sg,l.u,M.X$,re.Y],styles:['.error-text[_ngcontent-%COMP%]{color:red}.modal-form[_ngcontent-%COMP%]{max-height:65vh;overflow:auto;padding:.5rem}.modal-form[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin-top:.75rem;margin-bottom:.75rem}.modal-form[_ngcontent-%COMP%]   .separator-title[_ngcontent-%COMP%]{margin-top:.75rem;margin-bottom:.75rem;border-radius:.5rem;background-color:rgb(10 109 202 / var(--tw-bg-opacity));--tw-bg-opacity: .1;padding:.5rem .75rem;font-size:1.25rem;line-height:1.75rem;font-weight:700;color:#0a6dca}.mat-tab-body-content[_ngcontent-%COMP%]{overflow:hidden}  .cpanel-users .mat-tab-body-content{overflow:hidden}.stats[_ngcontent-%COMP%]{padding-inline:15px}.stats[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{width:110px;height:124px;justify-content:center;align-items:center;display:flex;flex-direction:column;padding:10px;font-weight:600;border-radius:5px}.stats[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;margin:0 0 10px!important}.stats[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13px;text-align:center;font-weight:700}.data-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:10px;font-size:15px;font-weight:500;letter-spacing:.25px}.users[_ngcontent-%COMP%]   .tree[_ngcontent-%COMP%]{max-height:60vh;overflow-y:auto;overflow-x:hidden;display:block!important}.tree-icon[_ngcontent-%COMP%]{font-size:18px;width:24px;height:24px;display:flex;line-height:24px;color:var(--base-color);align-items:center;justify-content:center}  .node-name{color:var(--gray-color);letter-spacing:.5px;font-size:16px;padding:6px 14px!important;cursor:pointer}  .node-name.markSelected{border:none!important;--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity));font-size:1rem;line-height:1.5rem;--tw-text-opacity: 1;color:rgb(10 109 202 / var(--tw-text-opacity))}  .collapsible-wrapper{border-inline-start:1px dashed #ccc;margin-inline-start:25px}  .collapsible-wrapper .node-name{font-size:14px;color:var(--gray-color);letter-spacing:.5px;cursor:pointer}  .collapsible-wrapper .node-name.markSelected{border:none!important;--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity));font-size:1rem;line-height:1.5rem;--tw-text-opacity: 1;color:rgb(10 109 202 / var(--tw-text-opacity))}  .collapsible-wrapper node-icon-wrapper{position:relative}  .collapsible-wrapper node-icon-wrapper:after{content:"";position:absolute;top:50%;inset-inline-start:0;width:90%;height:1px;border:1px dashed #ccc}']}),n})()}];let fn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[N.Bz.forChild(_n),N.Bz]}),n})();var xn=c(8231),bn=c(7392),vn=c(3162),Cn=c(1948),Zn=c(6257),An=c(6205),Tn=c(9245),Un=c(388),In=c(6776),Nn=c(8723),Mn=c(2440);let Pn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[h.ez,fn,xn.m,l.u5,m.QJ,l.UX,M.aw,J.A0,bn.Ps,Cn.Fk,b.IJ,vn.Cv,Un.zk,L.P4,In.Db,An.X,Tn.mr,Zn.T5,Nn.Y3,Mn.Xz]}),n})()},3683:(k,P,c)=>{"use strict";c.d(P,{S:()=>A});var h=c(4650),N=c(6895),l=c(9116),Z=c(9383);const C=function(u,m){return{ar:u,en:m}};function g(u,m){if(1&u&&(h.TgZ(0,"button",5),h._UZ(1,"span",2)(2,"img",6),h.qZA()),2&u){const d=h.oxw();h.s9C("routerLink",d.title.main.link),h.xp6(1),h.Q6J("translate","name")("translateParams",h.WLB(3,C,null==d.title?null:d.title.main.name.ar,null==d.title?null:d.title.main.name.en))}}function x(u,m){1&u&&h._UZ(0,"img",6)}function b(u,m){if(1&u&&h._UZ(0,"span",2),2&u){const d=h.oxw();h.Q6J("translate","name")("translateParams",h.WLB(2,C,null==d.title||null==d.title.child?null:d.title.child.ar,null==d.title||null==d.title.child?null:d.title.child.en))}}let A=(()=>{class u{}return u.\u0275fac=function(d){return new(d||u)},u.\u0275cmp=h.Xpm({type:u,selectors:[["app-navigator"]],inputs:{title:"title"},decls:5,vars:8,consts:[[1,"flex","gap-2","text-neutral-500","text-lg"],["class","flex items-center gap-2 mb-2",3,"routerLink",4,"ngIf"],[3,"translate","translateParams"],["class","w-5","src","assets/icons/r-arrow.svg","alt","right arrow",4,"ngIf"],[3,"translate","translateParams",4,"ngIf"],[1,"flex","items-center","gap-2","mb-2",3,"routerLink"],["src","assets/icons/r-arrow.svg","alt","right arrow",1,"w-5"]],template:function(d,t){1&d&&(h.TgZ(0,"div",0),h.YNc(1,g,3,6,"button",1),h._UZ(2,"span",2),h.YNc(3,x,1,0,"img",3),h.YNc(4,b,1,5,"span",4),h.qZA()),2&d&&(h.xp6(1),h.Q6J("ngIf",null==t.title||null==t.title.main?null:t.title.main.link),h.xp6(1),h.Q6J("translate","name")("translateParams",h.WLB(5,C,null==t.title?null:t.title.sub.ar,null==t.title?null:t.title.sub.en)),h.xp6(1),h.Q6J("ngIf",null==t.title?null:t.title.child),h.xp6(1),h.Q6J("ngIf",null==t.title?null:t.title.child))},dependencies:[N.O5,l.rH,Z.Pi],styles:["img[_ngcontent-%COMP%]:lang(en){transform:rotateX(180deg)}"]}),u})()},4327:function(k,P){var c,N;void 0!==(N="function"==typeof(c=function(){"use strict";function Z(u,m,d){var t=new XMLHttpRequest;t.open("GET",u),t.responseType="blob",t.onload=function(){A(t.response,m,d)},t.onerror=function(){console.error("could not download file")},t.send()}function C(u){var m=new XMLHttpRequest;m.open("HEAD",u,!1);try{m.send()}catch{}return 200<=m.status&&299>=m.status}function g(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var m=document.createEvent("MouseEvents");m.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(m)}}var x="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,b=x.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),A=x.saveAs||("object"!=typeof window||window!==x?function(){}:"download"in HTMLAnchorElement.prototype&&!b?function(u,m,d){var t=x.URL||x.webkitURL,v=document.createElement("a");v.download=m=m||u.name||"download",v.rel="noopener","string"==typeof u?(v.href=u,v.origin===location.origin?g(v):C(v.href)?Z(u,m,d):g(v,v.target="_blank")):(v.href=t.createObjectURL(u),setTimeout(function(){t.revokeObjectURL(v.href)},4e4),setTimeout(function(){g(v)},0))}:"msSaveOrOpenBlob"in navigator?function(u,m,d){if(m=m||u.name||"download","string"!=typeof u)navigator.msSaveOrOpenBlob(function l(u,m){return typeof m>"u"?m={autoBom:!1}:"object"!=typeof m&&(console.warn("Deprecated: Expected third argument to be a object"),m={autoBom:!m}),m.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\ufeff",u],{type:u.type}):u}(u,d),m);else if(C(u))Z(u,m,d);else{var t=document.createElement("a");t.href=u,t.target="_blank",setTimeout(function(){g(t)})}}:function(u,m,d,t){if((t=t||open("","_blank"))&&(t.document.title=t.document.body.innerText="downloading..."),"string"==typeof u)return Z(u,m,d);var v="application/octet-stream"===u.type,y=/constructor/i.test(x.HTMLElement)||x.safari,M=/CriOS\/[\d]+/.test(navigator.userAgent);if((M||v&&y||b)&&typeof FileReader<"u"){var F=new FileReader;F.onloadend=function(){var O=F.result;O=M?O:O.replace(/^data:[^;]*;/,"data:attachment/file;"),t?t.location.href=O:location=O,t=null},F.readAsDataURL(u)}else{var w=x.URL||x.webkitURL,E=w.createObjectURL(u);t?t.location=E:location.href=E,t=null,setTimeout(function(){w.revokeObjectURL(E)},4e4)}});x.saveAs=A.saveAs=A,k.exports=A})?c.apply(P,[]):c)&&(k.exports=N)}}]);