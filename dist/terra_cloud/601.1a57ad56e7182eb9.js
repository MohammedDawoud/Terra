(self.webpackChunkterra_cloud=self.webpackChunkterra_cloud||[]).push([[601],{9053:(k,M,c)=>{"use strict";c.d(M,{t:()=>C});var g=c(4327),l=c(4650),A=c(9383);let C=(()=>{class d{constructor(b){this.translatService=b}exportExcel(b,Z,p){c.e(574).then(c.bind(c,574)).then(m=>{const h=m.utils.json_to_sheet(b);let t=[];t.push(p),m.utils.sheet_add_aoa(h,t);const N=m.write({Sheets:{data:h},SheetNames:["data"]},{bookType:"xlsx",type:"array"});this.saveAsExcelFile(N,Z)})}exportExcelRTL(b,Z,p){c.e(574).then(c.bind(c,574)).then(m=>{const h=m.utils.json_to_sheet(b);h["!dir"]="ltr";let t=[];t.push(p),m.utils.sheet_add_aoa(h,t,{origin:"A1"});const N=m.write({Sheets:{data:h},SheetNames:["data"]},{bookType:"xlsx",type:"array"});this.saveAsExcelFile(N,Z)})}saveAsExcelFile(b,Z){Promise.resolve().then(c.t.bind(c,4327,23)).then(p=>{const t=new Blob([b],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});(0,g.saveAs)(t,Z+"_export_"+(new Date).getTime()+".xlsx")})}}return d.\u0275fac=function(b){return new(b||d)(l.LFG(A.sK))},d.\u0275prov=l.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},9601:(k,M,c)=>{"use strict";c.r(M),c.d(M,{ControlPanelModule:()=>Wn});var g=c(6895),y=c(9116),l=c(4006),A=c(9798),C=c(6308),d=c(671),x=c(4045),b=c(1366),Z=c(9585),p=c(1135),m=c(5899),h=c(2340),t=c(4650),v=c(4761),N=c(7185),F=c(9383),w=c(5253),P=c(7536),E=c(1745),O=c(3683),G=c(9241),z=c(4859),D=c(8796),J=c(5612);const R=["optToggleActivationModal"],$=["paginatorFisicalYear"];function V(n,i){1&n&&(t.TgZ(0,"div",87),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"This field is required")," "))}function W(n,i){1&n&&(t.TgZ(0,"div",87),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"This field is required")," "))}function X(n,i){1&n&&(t.TgZ(0,"div",87),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"This field is required")," "))}function tt(n,i){1&n&&(t.TgZ(0,"div",87),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"This field is required")," "))}function et(n,i){1&n&&(t.TgZ(0,"div",87),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"This field is required")," "))}function nt(n,i){if(1&n&&(t.TgZ(0,"ng-option",88),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function ot(n,i){1&n&&(t.TgZ(0,"div",87),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"This field is required")," "))}function at(n,i){1&n&&(t.TgZ(0,"div",87),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"This field is required")," "))}function rt(n,i){1&n&&(t.TgZ(0,"div",87),t._uU(1," Invalid pattern. "),t.qZA())}function it(n,i){1&n&&(t.TgZ(0,"div")(1,"div",90),t.O4$(),t.TgZ(2,"svg",91),t._UZ(3,"path",92),t.qZA()(),t.kcU(),t.TgZ(4,"div",93),t._uU(5),t.ALo(6,"translate"),t.qZA()()),2&n&&(t.xp6(5),t.hij(" ",t.lcZ(6,1,"Add Image")," "))}function st(n,i){if(1&n&&(t.O4$(),t.kcU(),t._UZ(0,"img",99)),2&n){const e=t.oxw(3);t.s9C("src",e.environmenturl+e.mainInfoForm.controls.logoUrl.value,t.LSH)}}function lt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",94)(1,"span",95),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return a.control.clear(),t.KtG(a.mainInfoForm.controls.logoUrl.setValue(null))}),t.O4$(),t.TgZ(2,"svg",96),t._UZ(3,"path",97),t.qZA()(),t.YNc(4,st,1,1,"img",98),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(4),t.Q6J("ngIf",null!=e.mainInfoForm.controls.logoUrl.value)}}function ct(n,i){if(1&n&&(t.YNc(0,it,7,3,"div",39),t.YNc(1,lt,5,1,"div",89)),2&n){const e=t.oxw();t.Q6J("ngIf",0===e.control.size&&null==e.mainInfoForm.controls.logoUrl.value),t.xp6(1),t.Q6J("ngIf",null!=e.mainInfoForm.controls.logoUrl.value)}}function ut(n,i){if(1&n&&(t.O4$(),t.kcU(),t._UZ(0,"img",99),t.ALo(1,"async")),2&n){const e=t.oxw(3);t.Q6J("src",t.lcZ(1,1,e.uploadedFile),t.LSH)}}function pt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",94)(1,"span",95),t.NdJ("click",function(){const r=t.CHM(e).control;return t.KtG(r.clear())}),t.O4$(),t.TgZ(2,"svg",96),t._UZ(3,"path",97),t.qZA()(),t.YNc(4,ut,2,3,"img",98),t.qZA()}if(2&n){const e=i.control;t.xp6(4),t.Q6J("ngIf",e.valid)}}function mt(n,i){1&n&&t.YNc(0,pt,5,1,"ng-template",null,100,t.W1O)}function dt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",101),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(),r=t.MAs(185);return t.KtG(a.open(r,null,"EncryptValue"))}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"\u062a\u062d\u0648\u064a\u0644 \u0627\u0644\u0628\u0627\u0633\u0648\u0631\u062f")," "))}function ht(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",102),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.saveMainInfo())}),t._uU(1),t.ALo(2,"translate"),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("disabled",null==e.mainInfoForm.controls.organizationId.value||null==e.mainInfoForm.controls.nameAr.value||null==e.mainInfoForm.controls.nameEn.value||null==e.mainInfoForm.controls.mobile.value||null==e.mainInfoForm.controls.fax.value||null==e.mainInfoForm.controls.cityId.value||null==e.mainInfoForm.controls.taxCode.value||null==e.mainInfoForm.controls.email.value),t.xp6(1),t.hij(" ",t.lcZ(2,2,"Save")," ")}}function gt(n,i){1&n&&(t.TgZ(0,"th",103)(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"\u0643\u0648\u062f \u0627\u0644\u0641\u0631\u0639")))}function _t(n,i){if(1&n&&(t.TgZ(0,"td",104)(1,"span"),t._uU(2),t.qZA()()),2&n){const e=i.$implicit;t.xp6(2),t.Oqu(null==e?null:e.code)}}function ft(n,i){1&n&&(t.TgZ(0,"th",103)(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"\u0627\u0633\u0645 \u0627\u0644\u0641\u0631\u0639")))}function xt(n,i){if(1&n&&(t.TgZ(0,"td",104)(1,"span"),t._uU(2),t.qZA()()),2&n){const e=i.$implicit;t.xp6(2),t.Oqu(null==e?null:e.nameAr)}}function bt(n,i){1&n&&(t.TgZ(0,"th",103)(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"\u0627\u0633\u0645 \u0627\u0644\u0641\u0631\u0639 English")))}function vt(n,i){if(1&n&&(t.TgZ(0,"td",104)(1,"span"),t._uU(2),t.qZA()()),2&n){const e=i.$implicit;t.xp6(2),t.Oqu(null==e?null:e.nameEn)}}function Ct(n,i){1&n&&(t.TgZ(0,"th",105),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"operations")," "))}function At(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",108),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,r=t.oxw(),s=t.MAs(187);return t.KtG(r.open(s,a,"editBranch"))}),t._UZ(1,"i",109),t.qZA()}}function Zt(n,i){if(1&n&&(t.TgZ(0,"td",104)(1,"div",106),t.YNc(2,At,2,0,"button",107),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",null==e.userG?null:e.userG.userPrivileges.includes(16000102))}}function Tt(n,i){1&n&&t._UZ(0,"tr",110)}function Ut(n,i){1&n&&t._UZ(0,"tr",111)}function It(n,i){if(1&n&&(t.TgZ(0,"tr",112)(1,"td",113),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n){t.oxw();const e=t.MAs(106);t.xp6(2),t.AsE(" ",t.lcZ(3,2,"noResult"),' "',e.value,'" ')}}function yt(n,i){1&n&&(t.TgZ(0,"th",103)(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"Name")))}function Ft(n,i){if(1&n&&(t.TgZ(0,"td",104),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.yearName," ")}}function Mt(n,i){1&n&&(t.TgZ(0,"th",103)(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"year")))}function Nt(n,i){if(1&n&&(t.TgZ(0,"td",104),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.yearId," ")}}const Ot=function(){return{ar:"\u062e\u064a\u0627\u0631\u0627\u062a",en:"Operations"}};function wt(n,i){1&n&&t._UZ(0,"th",114),2&n&&t.Q6J("translate","name")("translateParams",t.DdM(2,Ot))}function Pt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"td",104)(1,"div",106)(2,"button",115),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.setdatatoedit(r))}),t._UZ(3,"i",116),t.qZA(),t.TgZ(4,"button",117),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw(),u=t.MAs(191);return s.getYearRow_File(r),t.KtG(s.open(u,r,"deleteYear"))}),t._UZ(5,"i",118),t.qZA()()()}}function Et(n,i){1&n&&t._UZ(0,"tr",110)}function kt(n,i){if(1&n&&t._UZ(0,"tr",119),2&n){const e=i.index;t.ekj("bg-gray-100",e%2==0)("bg-white",e%2==1)}}function qt(n,i){if(1&n&&(t.TgZ(0,"ng-option",88),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function St(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",120)(1,"h4",121),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"button",122),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.KtG(r.dismiss("Cross click"))}),t._UZ(5,"i",123),t.qZA()(),t.TgZ(6,"div",124)(7,"div",125)(8,"div",126)(9,"div",8)(10,"label",127),t._uU(11),t.ALo(12,"translate"),t.qZA()()(),t.TgZ(13,"div",128)(14,"div",8)(15,"button",101),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.MaintenanceFunc(1))}),t._uU(16),t.ALo(17,"translate"),t.qZA()()()(),t.TgZ(18,"div",125)(19,"div",126)(20,"div",8)(21,"label",127),t._uU(22),t.ALo(23,"translate"),t.qZA()()(),t.TgZ(24,"div",128)(25,"div",8)(26,"button",101),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.MaintenanceFunc(2))}),t._uU(27),t.ALo(28,"translate"),t.qZA()()()()()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,5,"Maintenance")," "),t.xp6(9),t.hij(" ",t.lcZ(12,7,"(1) - Modify IsMain in Accounts")," "),t.xp6(5),t.hij(" ",t.lcZ(17,9,"maintenance")," "),t.xp6(6),t.hij(" ",t.lcZ(23,11,"(2) - Modifying the order of codes in the accounts")," "),t.xp6(5),t.hij(" ",t.lcZ(28,13,"maintenance")," "))}const j=function(){return{standalone:!0}};function Dt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",120)(1,"h4",121),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"button",122),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.KtG(r.dismiss("Cross click"))}),t._UZ(5,"i",123),t.qZA()(),t.TgZ(6,"div",124)(7,"div",125)(8,"div",128)(9,"div",8)(10,"label",127),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"input",129),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.PasswordBefore=a)}),t.qZA()()(),t.TgZ(14,"div",128)(15,"div",8)(16,"label",127),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"input",130),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.PasswordAfter=a)}),t.qZA()()(),t.TgZ(20,"div",131)(21,"div",8)(22,"button",101),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.EncryptPassword())}),t._uU(23),t.ALo(24,"translate"),t.qZA()()()()()}if(2&n){const e=t.oxw();t.xp6(2),t.hij(" ",t.lcZ(3,8,"Encrypt Password")," "),t.xp6(9),t.hij(" ",t.lcZ(12,10,"\u0623\u062f\u062e\u0644 \u0627\u0644\u0628\u0627\u0633\u0648\u0631\u062f \u0627\u0644\u0630\u064a \u062a\u0631\u064a\u062f \u062a\u062d\u0648\u064a\u0644\u0647")," "),t.xp6(2),t.Q6J("ngModel",e.PasswordBefore)("ngModelOptions",t.DdM(16,j)),t.xp6(4),t.hij(" ",t.lcZ(18,12,"\u0627\u0644\u062a\u062d\u0648\u064a\u0644")," "),t.xp6(2),t.Q6J("ngModel",e.PasswordAfter)("ngModelOptions",t.DdM(17,j)),t.xp6(4),t.hij(" ",t.lcZ(24,14,"\u062a\u062d\u0648\u064a\u0644")," ")}}function Jt(n,i){1&n&&(t.TgZ(0,"div",87),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"This field is required")," "))}function Lt(n,i){1&n&&(t.TgZ(0,"div",87),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"This field is required")," "))}function Bt(n,i){1&n&&(t.TgZ(0,"div",87),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"This field is required")," "))}function Gt(n,i){1&n&&(t.TgZ(0,"div",87),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"This field is required")," "))}function Yt(n,i){1&n&&(t.TgZ(0,"div",87),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"This field is required")," "))}function zt(n,i){1&n&&(t.TgZ(0,"div",87),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"This field is required")," "))}function jt(n,i){if(1&n&&(t.TgZ(0,"ng-option",88),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function Qt(n,i){1&n&&(t.TgZ(0,"div",87),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"This field is required")," "))}function Ht(n,i){if(1&n&&(t.TgZ(0,"ng-option",88),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function Kt(n,i){1&n&&(t.TgZ(0,"div",87),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"This field is required")," "))}function Rt(n,i){if(1&n&&(t.TgZ(0,"ng-option",88),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function $t(n,i){1&n&&(t.TgZ(0,"div",87),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"This field is required")," "))}function Vt(n,i){if(1&n&&(t.TgZ(0,"ng-option",88),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function Wt(n,i){1&n&&(t.TgZ(0,"div",87),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"This field is required")," "))}function Xt(n,i){if(1&n&&(t.TgZ(0,"ng-option",88),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function te(n,i){1&n&&(t.TgZ(0,"div",87),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"This field is required")," "))}function ee(n,i){if(1&n&&(t.TgZ(0,"ng-option",88),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.name)}}function ne(n,i){1&n&&(t.TgZ(0,"div",87),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"This field is required")," "))}function oe(n,i){1&n&&(t.TgZ(0,"div")(1,"div",90),t.O4$(),t.TgZ(2,"svg",163),t._UZ(3,"path",92),t.qZA()(),t.kcU(),t.TgZ(4,"div",93),t._uU(5),t.ALo(6,"translate"),t.qZA()()),2&n&&(t.xp6(5),t.hij(" ",t.lcZ(6,1,"\u0631\u0641\u0639 \u0635\u0648\u0631\u0629 \u0644\u0644\u0641\u0631\u0639")," "))}function ae(n,i){if(1&n&&(t.O4$(),t.kcU(),t._UZ(0,"img",99)),2&n){const e=t.oxw(4);t.s9C("src",e.environmenturl+e.BranchInfoForm.controls.uploadedFile.value,t.LSH)}}function re(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",94)(1,"span",95),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(3);return a.controlImgUrlfile.clear(),t.KtG(a.BranchInfoForm.controls.uploadedFile.setValue(null))}),t.O4$(),t.TgZ(2,"svg",96),t._UZ(3,"path",97),t.qZA()(),t.YNc(4,ae,1,1,"img",98),t.qZA()}if(2&n){const e=t.oxw(3);t.xp6(4),t.Q6J("ngIf",null!=e.BranchInfoForm.controls.uploadedFile.value)}}function ie(n,i){if(1&n&&(t.YNc(0,oe,7,3,"div",39),t.YNc(1,re,5,1,"div",89)),2&n){const e=t.oxw(2);t.Q6J("ngIf",0===e.controlImgUrlfile.size&&null==e.BranchInfoForm.controls.uploadedFile.value),t.xp6(1),t.Q6J("ngIf",null!=e.BranchInfoForm.controls.uploadedFile.value)}}function se(n,i){if(1&n&&(t.O4$(),t.kcU(),t._UZ(0,"img",99),t.ALo(1,"async")),2&n){const e=t.oxw(4);t.Q6J("src",t.lcZ(1,1,e.uploadedFileOutputImg),t.LSH)}}function le(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",94)(1,"span",95),t.NdJ("click",function(){const r=t.CHM(e).control,s=t.oxw(3);return r.clear(),t.KtG(s.BranchInfoForm.controls.uploadedFile.setValue(null))}),t.O4$(),t.TgZ(2,"svg",96),t._UZ(3,"path",97),t.qZA()(),t.YNc(4,se,2,3,"img",98),t.qZA()}if(2&n){const e=i.control;t.xp6(4),t.Q6J("ngIf",e.valid)}}function ce(n,i){1&n&&t.YNc(0,le,5,1,"ng-template",null,100,t.W1O)}function ue(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",120)(1,"h4",121),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"button",122),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.KtG(r.dismiss("Cross click"))}),t._UZ(5,"i",123),t.qZA()(),t.TgZ(6,"div",124)(7,"form",132)(8,"div",125)(9,"div",133)(10,"div",8)(11,"label",134),t._uU(12),t.ALo(13,"translate"),t.TgZ(14,"span",10),t._uU(15,"*"),t.qZA()(),t._UZ(16,"input",135),t.YNc(17,Jt,3,3,"div",12),t.qZA()(),t.TgZ(18,"div",133)(19,"div",8)(20,"label",13),t._uU(21),t.ALo(22,"translate"),t.TgZ(23,"span",10),t._uU(24,"*"),t.qZA()(),t._UZ(25,"input",136),t.YNc(26,Lt,3,3,"div",12),t.qZA()(),t.TgZ(27,"div",133)(28,"div",8)(29,"label",137),t._uU(30),t.ALo(31,"translate"),t.TgZ(32,"span",10),t._uU(33,"*"),t.qZA()(),t._UZ(34,"input",138),t.YNc(35,Bt,3,3,"div",12),t.qZA()(),t.TgZ(36,"div",133)(37,"div",8)(38,"label",139),t._uU(39),t.ALo(40,"translate"),t.TgZ(41,"span",10),t._uU(42,"*"),t.qZA()(),t._UZ(43,"input",140),t.YNc(44,Gt,3,3,"div",12),t.qZA()(),t.TgZ(45,"div",133)(46,"div",8)(47,"label",141),t._uU(48),t.ALo(49,"translate"),t.TgZ(50,"span",10),t._uU(51,"*"),t.qZA()(),t._UZ(52,"input",142),t.YNc(53,Yt,3,3,"div",12),t.qZA()(),t.TgZ(54,"div",133)(55,"div",8)(56,"label",143),t._uU(57),t.ALo(58,"translate"),t.TgZ(59,"span",10),t._uU(60,"*"),t.qZA()(),t._UZ(61,"input",144),t.YNc(62,zt,3,3,"div",12),t.qZA()(),t.TgZ(63,"div",133)(64,"div",8)(65,"label",145),t._uU(66),t.ALo(67,"translate"),t.TgZ(68,"span",10),t._uU(69,"*"),t.qZA()(),t.TgZ(70,"ng-select",146),t.YNc(71,jt,2,2,"ng-option",27),t.qZA(),t.YNc(72,Qt,3,3,"div",12),t.qZA()(),t.TgZ(73,"div",133)(74,"div",8)(75,"label",147),t._uU(76),t.ALo(77,"translate"),t.TgZ(78,"span",10),t._uU(79,"*"),t.qZA()(),t.TgZ(80,"ng-select",148),t.YNc(81,Ht,2,2,"ng-option",27),t.qZA(),t.YNc(82,Kt,3,3,"div",12),t.qZA()(),t.TgZ(83,"div",133)(84,"div",8)(85,"label",149),t._uU(86),t.ALo(87,"translate"),t.TgZ(88,"span",10),t._uU(89,"*"),t.qZA()(),t.TgZ(90,"ng-select",150),t.YNc(91,Rt,2,2,"ng-option",27),t.qZA(),t.YNc(92,$t,3,3,"div",12),t.qZA()(),t.TgZ(93,"div",133)(94,"div",8)(95,"label",151),t._uU(96),t.ALo(97,"translate"),t.TgZ(98,"span",10),t._uU(99,"*"),t.qZA()(),t.TgZ(100,"ng-select",152),t.YNc(101,Vt,2,2,"ng-option",27),t.qZA(),t.YNc(102,Wt,3,3,"div",12),t.qZA()(),t.TgZ(103,"div",133)(104,"div",8)(105,"label",153),t._uU(106),t.ALo(107,"translate"),t.TgZ(108,"span",10),t._uU(109,"*"),t.qZA()(),t.TgZ(110,"ng-select",154),t.YNc(111,Xt,2,2,"ng-option",27),t.qZA(),t.YNc(112,te,3,3,"div",12),t.qZA()(),t.TgZ(113,"div",133)(114,"div",8)(115,"label",155),t._uU(116),t.ALo(117,"translate"),t.TgZ(118,"span",10),t._uU(119,"*"),t.qZA()(),t.TgZ(120,"ng-select",156),t.YNc(121,ee,2,2,"ng-option",27),t.qZA(),t.YNc(122,ne,3,3,"div",12),t.qZA()(),t.TgZ(123,"div",157)(124,"div",158)(125,"label",159),t._uU(126),t.ALo(127,"translate"),t.qZA(),t.TgZ(128,"div",36)(129,"file-upload",160),t.YNc(130,ie,2,2,"ng-template",null,38,t.W1O),t.YNc(132,ce,2,0,null,39),t.qZA()()()()()()(),t.TgZ(133,"div",161)(134,"button",162),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.KtG(r.dismiss("Cross click"))}),t._uU(135),t.ALo(136,"translate"),t.qZA(),t.TgZ(137,"button",102),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.saveBranchInfoForm(r))}),t._uU(138),t.ALo(139,"translate"),t.qZA()()}if(2&n){const e=t.oxw();let o,a,r,s,u,_;t.xp6(2),t.hij(" ",t.lcZ(3,38,"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0641\u0631\u0639")," "),t.xp6(5),t.Q6J("formGroup",e.BranchInfoForm),t.xp6(5),t.hij(" ",t.lcZ(13,40,"Branch name (Arabic)")," "),t.xp6(5),t.Q6J("ngIf",(null==e.BranchInfoForm.controls.NameAr?null:e.BranchInfoForm.controls.NameAr.hasError("required"))&&e.BranchInfoForm.controls.NameAr.touched),t.xp6(4),t.hij(" ",t.lcZ(22,42,"Branch name (English)")," "),t.xp6(5),t.Q6J("ngIf",(null==e.BranchInfoForm.controls.NameEn?null:e.BranchInfoForm.controls.NameEn.hasError("required"))&&e.BranchInfoForm.controls.NameEn.touched),t.xp6(4),t.hij(" ",t.lcZ(31,44,"\u0623\u0633\u0645 \u0627\u0644\u0641\u0631\u0639 \u0641\u064a \u0627\u0644\u0637\u0628\u0627\u0639\u0629")," "),t.xp6(5),t.Q6J("ngIf",(null==e.BranchInfoForm.controls.BranchNamePrint?null:e.BranchInfoForm.controls.BranchNamePrint.hasError("required"))&&e.BranchInfoForm.controls.BranchNamePrint.touched),t.xp6(4),t.hij(" ",t.lcZ(40,46,"\u0631\u0642\u0645 \u062e\u062f\u0645\u0629 \u0627\u0644\u0639\u0645\u0644\u0627\u0621")," "),t.xp6(5),t.Q6J("ngIf",(null==e.BranchInfoForm.controls.CustomerPhone?null:e.BranchInfoForm.controls.CustomerPhone.hasError("required"))&&e.BranchInfoForm.controls.CustomerPhone.touched),t.xp6(4),t.hij(" ",t.lcZ(49,48,"\u0631\u0642\u0645 \u062e\u062f\u0645\u0629 \u0627\u0644\u0639\u0645\u0644\u0627\u06212")," "),t.xp6(5),t.Q6J("ngIf",(null==e.BranchInfoForm.controls.CustomerPhone2?null:e.BranchInfoForm.controls.CustomerPhone2.hasError("required"))&&e.BranchInfoForm.controls.CustomerPhone2.touched),t.xp6(4),t.hij(" ",t.lcZ(58,50,"\u0631\u0642\u0645 \u0627\u0644\u0634\u0643\u0627\u0648\u064a")," "),t.xp6(5),t.Q6J("ngIf",(null==e.BranchInfoForm.controls.ComplaintsNumber?null:e.BranchInfoForm.controls.ComplaintsNumber.hasError("required"))&&e.BranchInfoForm.controls.ComplaintsNumber.touched),t.xp6(4),t.hij(" ",t.lcZ(67,52,"\u062d\u0633\u0627\u0628 \u0627\u0644\u062e\u0632\u0646\u0629")," "),t.xp6(5),t.Q6J("ngForOf",e.branchesAcc),t.xp6(1),t.Q6J("ngIf",(null==(o=e.BranchInfoForm.get("BoxAccId"))?null:o.hasError("required"))&&(null==(o=e.BranchInfoForm.get("BoxAccId"))?null:o.touched)),t.xp6(4),t.hij(" ",t.lcZ(77,54,"\u062d\u0633\u0627\u0628 \u0645\u0628\u064a\u0639\u0627\u062a \u0627\u0644\u062a\u0639\u0627\u0642\u062f")," "),t.xp6(5),t.Q6J("ngForOf",e.branchesAcc),t.xp6(1),t.Q6J("ngIf",(null==(a=e.BranchInfoForm.get("SalesAccId"))?null:a.hasError("required"))&&(null==(a=e.BranchInfoForm.get("SalesAccId"))?null:a.touched)),t.xp6(4),t.hij(" ",t.lcZ(87,56,"\u062d\u0633\u0627\u0628 \u0627\u0644\u0625\u064a\u0631\u0627\u062f\u0627\u062a")," "),t.xp6(5),t.Q6J("ngForOf",e.branchesAcc),t.xp6(1),t.Q6J("ngIf",(null==(r=e.BranchInfoForm.get("SalesAccId2"))?null:r.hasError("required"))&&(null==(r=e.BranchInfoForm.get("SalesAccId2"))?null:r.touched)),t.xp6(4),t.hij(" ",t.lcZ(97,58,"\u062d\u0633\u0627\u0628 \u0627\u0644\u062e\u0635\u0648\u0645")," "),t.xp6(5),t.Q6J("ngForOf",e.branchesAcc),t.xp6(1),t.Q6J("ngIf",(null==(s=e.BranchInfoForm.get("DiscountAccId"))?null:s.hasError("required"))&&(null==(s=e.BranchInfoForm.get("DiscountAccId"))?null:s.touched)),t.xp6(4),t.hij(" ",t.lcZ(107,60,"\u062d\u0633\u0627\u0628 \u0627\u0644\u0639\u0645\u0644\u0627\u0621")," "),t.xp6(5),t.Q6J("ngForOf",e.branchesAcc),t.xp6(1),t.Q6J("ngIf",(null==(u=e.BranchInfoForm.get("CustomersAccId"))?null:u.hasError("required"))&&(null==(u=e.BranchInfoForm.get("CustomersAccId"))?null:u.touched)),t.xp6(4),t.hij(" ",t.lcZ(117,62,"\u062d\u0633\u0627\u0628 \u0627\u0644\u0645\u0648\u0638\u0641\u064a\u0646")," "),t.xp6(5),t.Q6J("ngForOf",e.branchesAcc),t.xp6(1),t.Q6J("ngIf",(null==(_=e.BranchInfoForm.get("EmployeesAccId"))?null:_.hasError("required"))&&(null==(_=e.BranchInfoForm.get("EmployeesAccId"))?null:_.touched)),t.xp6(4),t.hij(" ",t.lcZ(127,64,"\u0644\u0648\u062c\u0648 \u0627\u0644\u0641\u0631\u0639"),""),t.xp6(3),t.Q6J("control",e.controlImgUrlfile),t.xp6(3),t.Q6J("ngIf",null==e.BranchInfoForm.controls.uploadedFile.value),t.xp6(3),t.hij(" ",t.lcZ(136,66,"close")," "),t.xp6(2),t.Q6J("disabled",null==e.BranchInfoForm.controls.NameAr.value||null==e.BranchInfoForm.controls.NameEn.value||null==e.BranchInfoForm.controls.BranchNamePrint.value||null==e.BranchInfoForm.controls.BoxAccId.value||null==e.BranchInfoForm.controls.SalesAccId.value||null==e.BranchInfoForm.controls.DiscountAccId.value||null==e.BranchInfoForm.controls.CustomersAccId.value||null==e.BranchInfoForm.controls.EmployeesAccId.value),t.xp6(1),t.hij(" ",t.lcZ(139,68,"Save")," ")}}const pe=function(){return{ar:"\u0647\u0644 \u062a\u0631\u064a\u062f \u0627\u0644\u062d\u0641\u0638 ",en:"Are you sure to save ?"}};function me(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",164),t._UZ(1,"p",165),t.TgZ(2,"div",166)(3,"button",167),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().Savevervice(),t.KtG(r.dismiss())}),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"button",168),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.KtG(r.dismiss())}),t._uU(7),t.ALo(8,"translate"),t.qZA()()()}2&n&&(t.xp6(1),t.Q6J("translate","name")("translateParams",t.DdM(8,pe)),t.xp6(3),t.hij(" ",t.lcZ(5,4,"Yes")," "),t.xp6(3),t.hij(" ",t.lcZ(8,6,"No")," "))}const de=function(){return{ar:"\u0647\u0644 \u062a\u0631\u064a\u062f \u062d\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u0639\u0646\u0635\u0631 \u061f",en:"Do you want to delete this item?"}};function he(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",169),t._UZ(1,"p",165),t.TgZ(2,"div",170)(3,"button",168),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.KtG(r.dismiss())}),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"button",167),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().confirmDeleteYear(),t.KtG(r.dismiss())}),t._uU(7),t.ALo(8,"translate"),t.qZA()()()}2&n&&(t.xp6(1),t.Q6J("translate","name")("translateParams",t.DdM(8,de)),t.xp6(3),t.hij(" ",t.lcZ(5,4,"close")," "),t.xp6(3),t.hij(" ",t.lcZ(8,6,"confirem")," "))}const ge=function(n){return{logoUrlchange:n}},_e=function(){return[10,25]},fe=function(){return{dateInputFormat:"YYYY",minMode:"year"}},xe=function(){return[5]};let be=(()=>{class n{constructor(e,o,a,r,s,u,_,f,I,U){this.modalService=e,this.api=o,this.toast=a,this.translate=r,this.router=s,this.datePipe=u,this.organizationService=_,this._sharedService=f,this.formBuilder=I,this.authenticationService=U,this.submitted=!1,this.title={main:{name:{ar:"\u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645",en:"Control Panel"},link:"/controlpanel"},sub:{ar:"\u062a\u062c\u0647\u064a\u0632 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u0646\u0634\u0623\u0629",en:"Building Data"}},this.isEditable={},this.rows=[],this.temp=[],this.uploadedFile=new p.X(""),this.uploadedFileOutputImg=new p.X(""),this.uploadedFileImgNewsModal=new p.X(""),this.control=new x.LK({listVisible:!0,accept:["image/*"],discardInvalid:!0,multiple:!1},[x.Fz.filesLimit(1)]),this.controlImgUrlfile=new x.LK({listVisible:!0,discardInvalid:!0,multiple:!1},[x.Fz.filesLimit(1)]),this.displayedColumns=["code","nameAr","nameEn","operations"],this.newsDisplayedColumns=["nameAr","nameEn","operations"],this.news=[],this.options={mode:m.Ci.MultiSelect,checkboxes:!0,alwaysEmitSelected:!1},this.today=new Date,this.userG={},this.lang="ar",this.CityList=[],this.editeBransh=!1,this.imageFileOutput=null,this.imageFileOutputreq=!1,this.otp=this.formBuilder.control(""),this.PasswordBefore=null,this.PasswordAfter=null,this.imageFileOutputImgUrlfile=null,this.projectDisplayedColumns=["Name","year","operations"],this.FisicalYear=new d.by,this.FisicalYearMode={fiscalId:null,yearName:null,yearId:null,yeartype:1},this.dataSource=new d.by([{}]),this.newsDataSource=new d.by([{}]),this.environmenturl=h.N.PhotoURL,this.subscription=this.control.valueChanges.subscribe(T=>{this.getImage(T[0])}),this.subscription=this.controlImgUrlfile.valueChanges.subscribe(T=>{this.controlImgUrlfilegetImage(T[0])}),o.lang.subscribe(T=>{this.lang=T}),this.userG=this.authenticationService.userGlobalObj,this.useradmin=this.userG.userName}FillCitySelect(){this.organizationService.FillCitySelect().subscribe(e=>{this.CityList=e})}GetOrganizationData(){this.organizationService.GetBranchOrganization().subscribe(e=>{e.result.logoUrl=""==e.result.logoUrl?null:e.result.logoUrl,e.result.oRGlogoUrl=""==e.result.logoUrl?null:e.result.logoUrl,this.mainInfoForm.setValue(e.result)})}ngOnInit(){this.intialModel(),this.intialModelBranchInfoForm(),this.GetOrganizationData(),this.FillCitySelect(),this.GetAllBranches(),this.FillAllAccountsSelectAll(),this.GetAllFiscalyears(),this.FillYearSelect(),this.GetActiveYear(),this.branches=[],this.dataSource=new d.by(this.branches),this.news=[],this.newsDataSource=new d.by(this.news)}isValidDate(e){return e instanceof Date&&!isNaN(e.getTime())}open(e,o,a,r){this.modalService.open(e,{ariaLabelledBy:"modal-basic-title",size:a?"xl":"lg",centered:!0}).result.then(s=>{this.closeResult=`Closed with: ${s}`},s=>{this.closeResult=`Dismissed ${this.getDismissReason(s)}`}),o&&"editBranch"==a&&(this.setBranchData(o),this.editeBransh=!0,this.branchname=o?.branchName),o&&"citydeleted"==a&&(this.cityiddelete=o.cityId)}getDismissReason(e,o){return e===b.If.ESC?"by pressing ESC":e===b.If.BACKDROP_CLICK?"by clicking on a backdrop":`with: ${e}`}updateFilter(e){const o=e.target.value.toLowerCase(),a=this.temp.filter(function(r){return-1!==r.name_ar.toLowerCase().indexOf(o)||!o});this.rows=a,this.table&&(this.table.offset=0)}save(e,o){this.isEditable[o]=!this.isEditable[o],console.log("Row saved: "+o),console.log(e)}delete(e,o){this.isEditable[o]=!this.isEditable[o],this.rows.splice(o,1),console.log("Row deleted: "+o)}getImage(e){if(FileReader&&e){const o=new FileReader;o.onload=a=>{this.mainInfoForm.controls.logoUrl.setValue(null),this.uploadedFile.next(a.target.result)},this.imageFileOutput=e,o.readAsDataURL(e),this.imageFileOutputreq=!1}else this.imageFileOutput=null,this.uploadedFile.next(""),this.imageFileOutputreq=!1}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase()}intialModel(){this.mainInfoForm=this.formBuilder.group({organizationId:[0,[l.kI.required]],nameAr:[null,[l.kI.required]],nameEn:[null,[l.kI.required]],code:[null,[]],previewPath:[null,[]],mobile:[null,[l.kI.required]],fax:[null,[l.kI.required]],cityId:[null,[l.kI.required]],taxCode:[null,[l.kI.required,l.kI.minLength(15),l.kI.maxLength(15)]],email:[null,[l.kI.required]],address:[null,[]],webSite:[null,[]],oRGlogoUrl:[null,[]],logoUrl:[null,[]]})}get f(){return this.mainInfoForm.controls}saveMainInfo(){const e=new FormData;null==this.mainInfoForm.controls.logoUrl.value&&null!=this.imageFileOutput&&e.append("UploadedFile",this.imageFileOutput),e.append("OrganizationId",this.mainInfoForm.controls.organizationId.value??0),e.append("NameAr",this.mainInfoForm.controls.nameAr.value),e.append("NameEn",this.mainInfoForm.controls.nameEn.value),e.append("Mobile",this.mainInfoForm.controls.mobile.value),e.append("Fax",this.mainInfoForm.controls.fax.value),e.append("CityId",this.mainInfoForm.controls.cityId.value??0),e.append("Email",this.mainInfoForm.controls.email.value),e.append("Address",this.mainInfoForm.controls.address.value),e.append("WebSite",this.mainInfoForm.controls.webSite.value),e.append("TaxCode",this.mainInfoForm.controls.taxCode.value),this.organizationService.SaveOrganizations(e).subscribe(o=>{200==o.statusCode?this.toast.success(this.translate.instant(o.reasonPhrase),this.translate.instant("Message")):this.toast.error(this.translate.instant(o.reasonPhrase),this.translate.instant("Message"))})}MaintenanceFunc(e){this.organizationService.MaintenanceFunc(e).subscribe(o=>{this.toast.success(this.translate.instant(o.reasonPhrase),this.translate.instant("Message"))})}GetAllBranches(){this.organizationService.GetAllBranches().subscribe(e=>{this.dataSource=new d.by(e.result)})}goDash(){this.router.navigate(["/dash/home"])}openModal(e){e&&this.modalService.open(this.optToggleActivationModal)}confiremOtp(){console.log(this.otp?.value)}addBranch(e){}ngOnDestroy(){this.subscription?.unsubscribe()}EncryptPassword(){""==this.PasswordBefore||null==this.PasswordBefore||this.organizationService.EncryptPassword(this.PasswordBefore).subscribe(e=>{this.PasswordAfter=e.reasonPhrase})}setBranchData(e){this.controlImgUrlfile.clear(),this.BranchInfoForm.controls.BranchId.setValue(e?.branchId),this.BranchInfoForm.controls.NameAr.setValue(e?.nameAr),this.BranchInfoForm.controls.NameEn.setValue(e?.nameEn),this.BranchInfoForm.controls.BranchNamePrint.setValue(e?.branchNamePrint),this.BranchInfoForm.controls.BoxAccId.setValue(e?.boxAccId),this.BranchInfoForm.controls.SalesAccId.setValue(e?.salesAccId),this.BranchInfoForm.controls.SalesAccId2.setValue(e?.salesAccId2),this.BranchInfoForm.controls.DiscountAccId.setValue(e?.discountAccId),this.BranchInfoForm.controls.CustomersAccId.setValue(e?.customersAccId),this.BranchInfoForm.controls.EmployeesAccId.setValue(e?.employeesAccId),this.BranchInfoForm.controls.CustomerPhone.setValue(e?.customerPhone),this.BranchInfoForm.controls.CustomerPhone2.setValue(e?.customerPhone2),this.BranchInfoForm.controls.ComplaintsNumber.setValue(e?.complaintsNumber),this.BranchInfoForm.controls.uploadedFile.setValue(""==e.logoUrl||null==e.logoUrl?null:e?.logoUrl)}FillAllAccountsSelectAll(){this.organizationService.FillAllAccountsSelectAll().subscribe(e=>{this.branchesAcc=e})}intialModelBranchInfoForm(){this.BranchInfoForm=this.formBuilder.group({BranchId:[null,[]],NameAr:[null,[l.kI.required]],NameEn:[null,[l.kI.required]],BranchNamePrint:[null,[l.kI.required]],BoxAccId:[null,[l.kI.required]],SalesAccId:[null,[l.kI.required]],SalesAccId2:[null,[l.kI.required]],DiscountAccId:[null,[l.kI.required]],CustomersAccId:[null,[l.kI.required]],EmployeesAccId:[null,[l.kI.required]],CustomerPhone:[null,[]],CustomerPhone2:[null,[]],ComplaintsNumber:[null,[]],uploadedFile:[null,[]]})}controlImgUrlfilegetImage(e){if(FileReader&&e){const o=new FileReader;o.onload=a=>{this.BranchInfoForm.controls.uploadedFile.setValue(null),this.uploadedFileOutputImg.next(a.target.result)},this.imageFileOutputImgUrlfile=e,o.readAsDataURL(e)}else this.uploadedFileOutputImg.next(""),this.imageFileOutputImgUrlfile=null}saveBranchInfoForm(e){const o=new FormData;null==this.BranchInfoForm.controls.uploadedFile.value&&null!=this.imageFileOutputImgUrlfile&&o.append("UploadedFile",this.imageFileOutputImgUrlfile),o.append("BranchId",this.BranchInfoForm.controls.BranchId.value),o.append("NameAr",this.BranchInfoForm.controls.NameAr.value),o.append("NameEn",this.BranchInfoForm.controls.NameEn.value),o.append("BranchNamePrint",this.BranchInfoForm.controls.BranchNamePrint.value),o.append("BoxAccId",this.BranchInfoForm.controls.BoxAccId.value),o.append("SalesAccId",this.BranchInfoForm.controls.SalesAccId.value),o.append("SalesAccId2",this.BranchInfoForm.controls.SalesAccId2.value),o.append("DiscountAccId",this.BranchInfoForm.controls.DiscountAccId.value),o.append("CustomersAccId",this.BranchInfoForm.controls.CustomersAccId.value),o.append("EmployeesAccId",this.BranchInfoForm.controls.EmployeesAccId.value),o.append("CustomerPhone",this.BranchInfoForm.controls.CustomerPhone.value),o.append("CustomerPhone2",this.BranchInfoForm.controls.CustomerPhone2.value),o.append("ComplaintsNumber",this.BranchInfoForm.controls.ComplaintsNumber.value),this.organizationService.SaveBranchPart(o).subscribe(a=>{200==a.statusCode?(this.toast.success(this.translate.instant(a.reasonPhrase),this.translate.instant("Message")),e.dismiss(),this.GetAllBranches()):this.toast.error(this.translate.instant(a.reasonPhrase),this.translate.instant("Message"))})}GetAllFiscalyears(){this.organizationService.GetAllFiscalyears().subscribe(e=>{this.fisicalyears=e.result,this.FisicalYear=new d.by(e.result),this.FisicalYear.paginator=this.paginatorFisicalYear})}Fiscalyearssearchtext(e){this.FisicalYear.filter=e.target.value.trim().toLowerCase()}refreshfisical(){this.FisicalYearMode.fiscalId=null,this.FisicalYearMode.yearName=null,this.FisicalYearMode.yearId=null,this.FisicalYearMode.yeartype=1}setdatatoedit(e){this.FisicalYearMode.fiscalId=e.fiscalId,this.FisicalYearMode.yearName=e.yearName;const a=new Date(e.yearId,0,1);this.FisicalYearMode.yearId=a,this.FisicalYearMode.yeartype=2}Savevervice(){var e={};null!=this.FisicalYearMode.yearName&&""!=this.FisicalYearMode.yearName&&null!=this.FisicalYearMode.yearId&&""!=this.FisicalYearMode.yearId?(e.fiscalId=this.FisicalYearMode.fiscalId??0,e.yearName=this.FisicalYearMode.yearName,e.yearId=this.FisicalYearMode.yearId.getFullYear(),this.organizationService.SaveFiscalyears(e).subscribe(o=>{200==o.statusCode?(this.GetAllFiscalyears(),this.FillYearSelect(),this.refreshfisical(),this.toast.success(this.translate.instant(o.reasonPhrase),this.translate.instant("Message"))):this.toast.error(this.translate.instant(o.reasonPhrase),this.translate.instant("Message"))})):this.toast.error("\u0645\u0646 \u0641\u0636\u0644\u0643 \u0627\u0643\u0645\u0644 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a",this.translate.instant("Message"))}ActivateFiscalYear(){this.organizationService.ActivateFiscalYear(this.YearIdActive,1).subscribe(e=>{if(200==e.statusCode){this.refreshfisical(),this.GetActiveYear();var o=this.getItemNameById(this.YearIdActive);this._sharedService.setStoYear(o),this._sharedService.setStofiscalId(this.YearIdActive),location.reload(),this.toast.success(this.translate.instant(e.reasonPhrase),this.translate.instant("Message"))}else this.toast.error(this.translate.instant(e.reasonPhrase),this.translate.instant("Message"))})}getItemNameById(e){const o=this.YearselectedList.find(a=>a.id===e);return o?o.name:"Not Found"}GetActiveYear(){this.organizationService.GetActiveYear().subscribe(e=>{this.YearIdActive=e.fiscalId})}FillYearSelect(){this.organizationService.FillYearSelect().subscribe(e=>{this.YearselectedList=e})}getYearRow_File(e){this.YearRowSelected_File=e}confirmDeleteYear(){this.organizationService.DeleteFiscalyears(this.YearRowSelected_File.fiscalId).subscribe(e=>{200==e.statusCode?(this.toast.success(this.translate.instant(e.reasonPhrase),this.translate.instant("Message")),this.GetAllFiscalyears()):this.toast.error(this.translate.instant(e.reasonPhrase),this.translate.instant("Message"))})}onOpenCalendar(e){e.monthSelectHandler=o=>{e._store.dispatch(e._actions.select(o.date))},e.setViewMode("year")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(b.FF),t.Y36(v.e),t.Y36(N._W),t.Y36(F.sK),t.Y36(y.F0),t.Y36(g.uU),t.Y36(w.M),t.Y36(P.F1),t.Y36(l.qu),t.Y36(E.$))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-organization"]],viewQuery:function(e,o){if(1&e&&(t.Gf(Z.nE,5),t.Gf(A.NW,5),t.Gf(C.YE,5),t.Gf(R,5),t.Gf($,5)),2&e){let a;t.iGM(a=t.CRH())&&(o.table=a.first),t.iGM(a=t.CRH())&&(o.paginator=a.first),t.iGM(a=t.CRH())&&(o.sort=a.first),t.iGM(a=t.CRH())&&(o.optToggleActivationModal=a.first),t.iGM(a=t.CRH())&&(o.paginatorFisicalYear=a.first)}},features:[t._Bn([g.uU])],decls:192,vars:100,consts:[[1,"organization"],[1,"container-fluid"],[3,"title"],[1,"info","mt-4"],[3,"heading"],[1,"content"],[1,"row",3,"formGroup"],[1,"col-md-6","col-lg-4","mb-3"],[1,"form-group"],["for","nameAr",1,"text-right","col-form-label","block","mx-2"],[1,"text-danger"],["formControlName","nameAr","autocomplete","off","type","text","id","nameAr","name","nameAr",1,"form-control"],["class","fieldrequired",4,"ngIf"],["for","nameEn",1,"text-right","col-form-label","block","mx-2"],["formControlName","nameEn","autocomplete","off","type","text","id","nameEn","name","nameEn",1,"form-control"],[1,"col-md-6","col-lg-2","mb-3"],["for","mobile",1,"text-right","col-form-label","block","mx-2"],["formControlName","mobile","autocomplete","off","type","text","id","mobile","name","mobile",1,"form-control"],["for","fax",1,"text-right","col-form-label","block","mx-2"],["formControlName","fax","autocomplete","off","type","text","id","fax","name","fax",1,"form-control"],["for","email",1,"text-right","col-form-label","block","mx-2"],[1,"flex"],["formControlName","email","autocomplete","off","type","email","id","email","name","email",1,"form-control"],[1,"row","p-0"],[1,"col-12"],[1,"col-form-label","mx-2"],["name","cityId","formControlName","cityId",1,"w-full","p-0",2,"min-width","unset !important",3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],[1,"col-lg-6"],["for","taxCode",1,"text-right","col-form-label","block","mx-2"],["formControlName","taxCode","autocomplete","off","type","text","id","taxCode","name","taxCode",1,"form-control"],["for","address",1,"text-right","col-form-label","block","mx-2"],["formControlName","address","autocomplete","off","type","text","id","address","name","address",1,"form-control"],[1,"col-12","my-3"],[1,"row","p-0","items-center"],[1,"col-md-8"],[1,"upload"],[1,"logoUrlfile-uploadORG",3,"control","ngClass"],["placeholder",""],[4,"ngIf"],[1,"modal-footer","justify-content-end","my-3",2,"border-top","none"],["type","button","class","btn submit-btn bg-base text-white py-2 px-3 mt-0",3,"click",4,"ngIf"],["type","button",1,"btn","submit-btn","bg-red","text-white","py-2","px-3","mt-0",3,"click"],["type","button","class","btn submit-btn bg-base text-white py-2 px-3 mt-0",3,"disabled","click",4,"ngIf"],[1,"tables-data","mt-3","overflow-hidden"],[1,"form-control","mb-3",2,"max-width","300px",3,"placeholder","keyup"],["input",""],[1,"overflow-auto"],["mat-table","","matSort","",1,"mat-elevation-z8","rounded-t-lg","overflow-hidden","w-max",3,"dataSource"],["matColumnDef","code"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nameAr"],["matColumnDef","nameEn"],["matColumnDef","operations"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","duration-300 hover:bg-slate-100",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],[3,"pageSizeOptions"],[1,"row","align-items-center"],[1,"col-xxl-4","col-md-4","col-sm-6","mb-3"],[1,"col-form-label"],["autocomplete","off","type","text ","name","yearName",1,"form-control",3,"ngModel","ngModelChange"],[1,"container"],["autocomplete","off","name","yearId","bsDatepicker","",1,"form-control",3,"ngModel","bsConfig","ngModelChange","onShown"],[1,"btns","mb-3","w-100"],[1,"row","d-md-flex","justify-content-end"],["type","button",1,"flex","gap-1","btn","bg-base","text-white","mb-3","col-md-2","ms-2",3,"click"],["type","button",1,"flex","gap-1","btn","bg-danger","text-white","mb-3","col-md-2","ms-3",3,"click"],[1,"overflow-auto","mt-4"],["matColumnDef","Name"],["matColumnDef","year"],["mat-header-cell","",3,"translate","translateParams",4,"matHeaderCellDef"],["mat-row","",3,"bg-gray-100","bg-white",4,"matRowDef","matRowDefColumns"],["paginatorFisicalYear",""],[1,"mt-3"],[1,"row","align-items-center","me-3"],[1,"col-xxl-3","col-md-4","col-sm-6","mb-0","mb-md-3"],[1,"form-group","text-center"],["name","FiscalYear",1,"w-full","p-0",3,"placeholder","ngModel","ngModelChange"],["type","button",1,"flex","gap-1","btn","bg-base","text-white","mt-5","mb-2",3,"click"],["Maintenance",""],["EncryptValue",""],["BranchModal",""],["SaveYearsConfirmModal",""],["deleteYearModal",""],[1,"fieldrequired"],[3,"value"],["class","overlay",4,"ngIf"],[1,"icon"],["xmlns","http://www.w3.org/2000/svg","height","1em","viewBox","0 0 640 512"],["d","M144 480C64.5 480 0 415.5 0 336c0-62.8 40.2-116.2 96.2-135.9c-.1-2.7-.2-5.4-.2-8.1c0-88.4 71.6-160 160-160c59.3 0 111 32.2 138.7 80.2C409.9 102 428.3 96 448 96c53 0 96 43 96 96c0 12.2-2.3 23.8-6.4 34.6C596 238.4 640 290.1 640 352c0 70.7-57.3 128-128 128H144zm79-217c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l39-39V392c0 13.3 10.7 24 24 24s24-10.7 24-24V257.9l39 39c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-80-80c-9.4-9.4-24.6-9.4-33.9 0l-80 80z"],[1,"upload-text"],[1,"overlay"],[1,"delete-button",3,"click"],["viewBox","0 0 448 512"],["d","M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z"],[3,"src",4,"ngIf"],[3,"src"],["item",""],["type","button",1,"btn","submit-btn","bg-base","text-white","py-2","px-3","mt-0",3,"click"],["type","button",1,"btn","submit-btn","bg-base","text-white","py-2","px-3","mt-0",3,"disabled","click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],[1,"flex","gap-1","justify-center","py-2"],["class","p-2 bg-green-100 hover:bg-green-500 rounded-lg duration-300 hover:text-white w-10",3,"click",4,"ngIf"],[1,"p-2","bg-green-100","hover:bg-green-500","rounded-lg","duration-300","hover:text-white","w-10",3,"click"],[1,"fa","fa-edit"],["mat-header-row",""],["mat-row","",1,"duration-300","hover:bg-slate-100"],[1,"mat-row"],["colspan","4",1,"mat-cell"],["mat-header-cell","",3,"translate","translateParams"],[1,"min-w-max","p-2","bg-orange-100","hover:bg-orange-500","rounded-lg","duration-300","hover:text-white","aspect-square","w-10",3,"click"],[1,"fa-regular","fa-pen-to-square"],[1,"min-w-max","p-2","bg-red-100","hover:bg-red-500","rounded-lg","duration-300","hover:text-white","aspect-square","w-10",3,"click"],[1,"fa-solid","fa-trash-can"],["mat-row",""],[1,"modal-header","bg-base","text-white"],["id","modal-basic-title",1,"modal-title","mb-0"],["type","button",1,"m-0",3,"click"],[1,"fa","fa-close"],[1,"modal-body"],[1,"row"],[1,"col-9","mb-3"],[1,"text-right","col-form-label","block"],[1,"col-3","mb-3"],[1,"form-control","mb-3",2,"max-width","300px",3,"ngModel","ngModelOptions","ngModelChange"],["disabled","",1,"form-control","mb-3",2,"max-width","300px",3,"ngModel","ngModelOptions","ngModelChange"],[1,"col-3","mb-3",2,"margin-top","3%"],[3,"formGroup"],[1,"col-lg-4"],["for","NameAr",1,"text-right","col-form-label","block","mx-2"],["formControlName","NameAr","autocomplete","off","type","text","id","NameAr","name","NameAr",1,"form-control"],["formControlName","NameEn","autocomplete","off","type","text","id","NameEn","name","NameEn",1,"form-control"],["for","BranchNamePrint",1,"text-right","col-form-label","block","mx-2"],["formControlName","BranchNamePrint","autocomplete","off","type","text","id","BranchNamePrint","name","BranchNamePrint",1,"form-control"],["for","CustomerPhone",1,"text-right","col-form-label","block","mx-2"],["formControlName","CustomerPhone","autocomplete","off","type","text","id","CustomerPhone","name","CustomerPhone",1,"form-control"],["for","CustomerPhone2",1,"text-right","col-form-label","block","mx-2"],["formControlName","CustomerPhone2","autocomplete","off","type","text","id","CustomerPhone2","name","CustomerPhone2",1,"form-control"],["for","ComplaintsNumber",1,"text-right","col-form-label","block","mx-2"],["formControlName","ComplaintsNumber","autocomplete","off","type","text","id","ComplaintsNumber","name","ComplaintsNumber",1,"form-control"],["for","BoxAccId",1,"text-right","col-form-label","block","mx-2"],["formControlName","BoxAccId","id","BoxAccId","name","BoxAccId"],["for","SalesAccId",1,"text-right","col-form-label","block","mx-2"],["formControlName","SalesAccId","id","SalesAccId","name","SalesAccId"],["for","SalesAccId2",1,"text-right","col-form-label","block","mx-2"],["formControlName","SalesAccId2","id","SalesAccId2","name","SalesAccId2"],["for","DiscountAccId",1,"text-right","col-form-label","block","mx-2"],["formControlName","DiscountAccId","id","DiscountAccId","name","DiscountAccId"],["for","CustomersAccId",1,"text-right","col-form-label","block","mx-2"],["formControlName","CustomersAccId","id","CustomersAccId","name","CustomersAccId"],["for","EmployeesAccId",1,"text-right","col-form-label","block","mx-2"],["formControlName","EmployeesAccId","id","EmployeesAccId","name","EmployeesAccId"],[1,"col-lg-12"],[1,"form-group","col-span-1","md:col-span-2"],["for","formFile",1,"form-label"],[3,"control"],[1,"modal-footer","justify-content-end",2,"border-top","none"],["type","button",1,"btn","btn-light","py-2","px-3","mt-0",3,"click"],["xmlns","http://www.w3.org/2000/svg","height","0.5em","viewBox","0 0 640 512"],[1,"modal-body","text-center",2,"background-color","#cdcdcd !important"],[3,"translate","translateParams"],[1,"flex","gap-2","justify-center","mt-3"],["type","button","mat-raised-button","","color","warn",3,"click"],["type","button","mat-raised-button","","color","basic",3,"click"],[1,"modal-body","text-center"],[1,"flex","gap-2","justify-center"]],template:function(e,o){if(1&e){const a=t.EpF();t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"app-navigator",2),t.TgZ(3,"div",3)(4,"tabset")(5,"tab",4),t.ALo(6,"translate"),t.TgZ(7,"div",5)(8,"form",6)(9,"div",7)(10,"div",8)(11,"label",9),t._uU(12),t.ALo(13,"translate"),t.TgZ(14,"span",10),t._uU(15,"*"),t.qZA()(),t._UZ(16,"input",11),t.YNc(17,V,3,3,"div",12),t.qZA()(),t.TgZ(18,"div",7)(19,"div",8)(20,"label",13),t._uU(21),t.ALo(22,"translate"),t.TgZ(23,"span",10),t._uU(24,"*"),t.qZA()(),t._UZ(25,"input",14),t.YNc(26,W,3,3,"div",12),t.qZA()(),t.TgZ(27,"div",15)(28,"div",8)(29,"label",16),t._uU(30),t.ALo(31,"translate"),t.TgZ(32,"span",10),t._uU(33,"*"),t.qZA()(),t._UZ(34,"input",17),t.YNc(35,X,3,3,"div",12),t.qZA()(),t.TgZ(36,"div",15)(37,"div",8)(38,"label",18),t._uU(39),t.ALo(40,"translate"),t.TgZ(41,"span",10),t._uU(42,"*"),t.qZA()(),t._UZ(43,"input",19),t.YNc(44,tt,3,3,"div",12),t.qZA()(),t.TgZ(45,"div",7)(46,"div",8)(47,"label",20),t._uU(48),t.ALo(49,"translate"),t.TgZ(50,"span",10),t._uU(51,"*"),t.qZA()(),t.TgZ(52,"div",21),t._UZ(53,"input",22),t.YNc(54,et,3,3,"div",12),t.qZA()()(),t.TgZ(55,"div",7)(56,"div",23)(57,"div",24)(58,"div",8)(59,"label",25),t._uU(60),t.ALo(61,"translate"),t.TgZ(62,"span",10),t._uU(63,"*"),t.qZA()(),t.TgZ(64,"div",21)(65,"ng-select",26),t.ALo(66,"translate"),t.YNc(67,nt,2,2,"ng-option",27),t.qZA()(),t.YNc(68,ot,3,3,"div",12),t.qZA()()()(),t.TgZ(69,"div",7)(70,"div",23)(71,"div",28)(72,"div",8)(73,"label",29),t._uU(74),t.ALo(75,"translate"),t.TgZ(76,"span",10),t._uU(77,"*"),t.qZA()(),t._UZ(78,"input",30),t.YNc(79,at,3,3,"div",12),t.YNc(80,rt,2,0,"div",12),t.qZA()()()(),t.TgZ(81,"div",7)(82,"div",8)(83,"label",31),t._uU(84),t.ALo(85,"translate"),t.qZA(),t._UZ(86,"input",32),t.qZA()(),t.TgZ(87,"div",33)(88,"div",34)(89,"div",35)(90,"div",36)(91,"file-upload",37),t.YNc(92,ct,2,2,"ng-template",null,38,t.W1O),t.YNc(94,mt,2,0,null,39),t.qZA()()()()()(),t.TgZ(95,"div",40),t.YNc(96,dt,3,3,"button",41),t.TgZ(97,"button",42),t.NdJ("click",function(){t.CHM(a);const s=t.MAs(183);return t.KtG(o.open(s,null,"Maintenance"))}),t._uU(98),t.ALo(99,"translate"),t.qZA(),t.YNc(100,ht,3,4,"button",43),t.qZA()()(),t.TgZ(101,"tab",4),t.ALo(102,"translate"),t.TgZ(103,"div",5)(104,"div",44)(105,"input",45,46),t.NdJ("keyup",function(s){return o.applyFilter(s)}),t.ALo(107,"translate"),t.qZA(),t.TgZ(108,"div",47)(109,"table",48),t.ynx(110,49),t.YNc(111,gt,4,3,"th",50),t.YNc(112,_t,3,1,"td",51),t.BQk(),t.ynx(113,52),t.YNc(114,ft,4,3,"th",50),t.YNc(115,xt,3,1,"td",51),t.BQk(),t.ynx(116,53),t.YNc(117,bt,4,3,"th",50),t.YNc(118,vt,3,1,"td",51),t.BQk(),t.ynx(119,54),t.YNc(120,Ct,3,3,"th",55),t.YNc(121,Zt,3,1,"td",51),t.BQk(),t.YNc(122,Tt,1,0,"tr",56),t.YNc(123,Ut,1,0,"tr",57),t.YNc(124,It,4,4,"tr",58),t.qZA()(),t._UZ(125,"mat-paginator",59),t.qZA()()(),t.TgZ(126,"tab",4),t.ALo(127,"translate"),t.TgZ(128,"div",60)(129,"div",61)(130,"div",8)(131,"label",62),t._uU(132),t.ALo(133,"translate"),t.qZA(),t.TgZ(134,"input",63),t.NdJ("ngModelChange",function(s){return o.FisicalYearMode.yearName=s}),t.qZA()()(),t.TgZ(135,"div",61)(136,"div",8)(137,"label",62),t._uU(138),t.ALo(139,"translate"),t.qZA(),t.TgZ(140,"div",64)(141,"input",65),t.NdJ("ngModelChange",function(s){return o.FisicalYearMode.yearId=s})("onShown",function(s){return o.onOpenCalendar(s)}),t.qZA()()()(),t.TgZ(142,"div",66)(143,"div",67)(144,"button",68),t.NdJ("click",function(){t.CHM(a);const s=t.MAs(189);return t.KtG(o.open(s,null,"SaveYearsConfirmModal"))}),t._uU(145),t.ALo(146,"translate"),t.qZA(),t.TgZ(147,"button",69),t.NdJ("click",function(){return o.refreshfisical()}),t._uU(148),t.ALo(149,"translate"),t.qZA()()()(),t.TgZ(150,"div",70)(151,"table",48),t.ynx(152,71),t.YNc(153,yt,4,3,"th",50),t.YNc(154,Ft,2,1,"td",51),t.BQk(),t.ynx(155,72),t.YNc(156,Mt,4,3,"th",50),t.YNc(157,Nt,2,1,"td",51),t.BQk(),t.ynx(158,54),t.YNc(159,wt,1,3,"th",73),t.YNc(160,Pt,6,0,"td",51),t.BQk(),t.YNc(161,Et,1,0,"tr",56),t.YNc(162,kt,1,4,"tr",74),t.qZA()(),t._UZ(163,"mat-paginator",59,75),t.TgZ(165,"div",1)(166,"h3",76),t._uU(167),t.ALo(168,"translate"),t.qZA(),t.TgZ(169,"div",77)(170,"div",78)(171,"div",79)(172,"label",62),t._uU(173),t.ALo(174,"translate"),t.qZA(),t.TgZ(175,"ng-select",80),t.NdJ("ngModelChange",function(s){return o.YearIdActive=s}),t.ALo(176,"translate"),t.YNc(177,qt,2,2,"ng-option",27),t.qZA()()(),t.TgZ(178,"div",78)(179,"button",81),t.NdJ("click",function(){return o.ActivateFiscalYear()}),t._uU(180),t.ALo(181,"translate"),t.qZA()()()()()()()()(),t.YNc(182,St,29,15,"ng-template",null,82,t.W1O),t.YNc(184,Dt,25,18,"ng-template",null,83,t.W1O),t.YNc(186,ue,140,70,"ng-template",null,84,t.W1O),t.YNc(188,me,9,9,"ng-template",null,85,t.W1O),t.YNc(190,he,9,9,"ng-template",null,86,t.W1O)}if(2&e){let a,r,s,u,_,f,I;t.xp6(2),t.Q6J("title",o.title),t.xp6(3),t.s9C("heading",t.lcZ(6,51,"Head office data")),t.xp6(3),t.Q6J("formGroup",o.mainInfoForm),t.xp6(4),t.hij(" ",t.lcZ(13,53,"Establishment Name (Arabic)")," "),t.xp6(5),t.Q6J("ngIf",(null==o.mainInfoForm.controls.nameAr?null:o.mainInfoForm.controls.nameAr.hasError("required"))&&o.mainInfoForm.controls.nameAr.touched),t.xp6(4),t.hij(" ",t.lcZ(22,55,"Establishment name (English)")," "),t.xp6(5),t.Q6J("ngIf",(null==(a=o.mainInfoForm.get("nameEn"))?null:a.hasError("required"))&&(null==(a=o.mainInfoForm.get("nameEn"))?null:a.touched)),t.xp6(4),t.hij(" ",t.lcZ(31,57,"phone")," "),t.xp6(5),t.Q6J("ngIf",(null==(r=o.mainInfoForm.get("mobile"))?null:r.hasError("required"))&&(null==(r=o.mainInfoForm.get("mobile"))?null:r.touched)),t.xp6(4),t.hij(" ",t.lcZ(40,59,"fax")," "),t.xp6(5),t.Q6J("ngIf",(null==(s=o.mainInfoForm.get("fax"))?null:s.hasError("required"))&&(null==(s=o.mainInfoForm.get("fax"))?null:s.touched)),t.xp6(4),t.hij(" ",t.lcZ(49,61,"Office customer correspondence email")," "),t.xp6(6),t.Q6J("ngIf",(null==(u=o.mainInfoForm.get("email"))?null:u.hasError("required"))&&(null==(u=o.mainInfoForm.get("email"))?null:u.touched)),t.xp6(6),t.hij(" ",t.lcZ(61,63,"Region")," "),t.xp6(5),t.s9C("placeholder",t.lcZ(66,65,"Chose")),t.xp6(2),t.Q6J("ngForOf",o.CityList),t.xp6(1),t.Q6J("ngIf",(null==(_=o.mainInfoForm.get("cityId"))?null:_.hasError("required"))&&(null==(_=o.mainInfoForm.get("cityId"))?null:_.touched)),t.xp6(6),t.hij(" ",t.lcZ(75,67,"Commerial Registration")," "),t.xp6(5),t.Q6J("ngIf",(null==(f=o.mainInfoForm.get("taxCode"))?null:f.hasError("required"))&&(null==(f=o.mainInfoForm.get("taxCode"))?null:f.touched)),t.xp6(1),t.Q6J("ngIf",(null==(I=o.mainInfoForm.get("taxCode"))?null:I.hasError("pattern"))&&(null==(I=o.mainInfoForm.get("taxCode"))?null:I.touched)),t.xp6(4),t.hij(" ",t.lcZ(85,69,"Address")," "),t.xp6(7),t.Q6J("control",o.control)("ngClass",t.VKq(95,ge,null==o.mainInfoForm.controls.logoUrl.value&&null!=o.imageFileOutput)),t.xp6(3),t.Q6J("ngIf",null==o.mainInfoForm.controls.logoUrl.value),t.xp6(2),t.Q6J("ngIf","tadmin"==(null==o.userG?null:o.userG.userName)),t.xp6(2),t.hij(" ",t.lcZ(99,71,"Maintenance")," "),t.xp6(2),t.Q6J("ngIf",null==o.userG?null:o.userG.userPrivileges.includes(16000101)),t.xp6(1),t.s9C("heading",t.lcZ(102,73,"Set and prepare branch data")),t.xp6(4),t.s9C("placeholder",t.lcZ(107,75,"search")),t.xp6(4),t.Q6J("dataSource",o.dataSource),t.xp6(13),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(97,_e)),t.xp6(1),t.s9C("heading",t.lcZ(127,77,"Financial years")),t.xp6(6),t.hij(" ",t.lcZ(133,79,"Name"),""),t.xp6(2),t.Q6J("ngModel",o.FisicalYearMode.yearName),t.xp6(4),t.hij(" ",t.lcZ(139,81,"year"),""),t.xp6(3),t.Q6J("ngModel",o.FisicalYearMode.yearId)("bsConfig",t.DdM(98,fe)),t.xp6(4),t.hij(" ",t.lcZ(146,83,"save")," "),t.xp6(3),t.hij(" ",t.lcZ(149,85,"close")," "),t.xp6(3),t.Q6J("dataSource",o.FisicalYear),t.xp6(10),t.Q6J("matHeaderRowDef",o.projectDisplayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.projectDisplayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(99,xe)),t.xp6(4),t.Oqu(t.lcZ(168,87,"ChooseFiscalYear")),t.xp6(6),t.hij(" ",t.lcZ(174,89,"current active year"),""),t.xp6(2),t.s9C("placeholder",t.lcZ(176,91,"Chose")),t.Q6J("ngModel",o.YearIdActive),t.xp6(2),t.Q6J("ngForOf",o.YearselectedList),t.xp6(3),t.hij(" ",t.lcZ(181,93,"confirem")," ")}},dependencies:[g.mk,g.sg,g.O5,O.S,G.wW,G.AH,F.Pi,z.lW,D.w9,D.jq,J.Np,J.Y5,x.Yr,d.BZ,d.fO,d.as,d.w1,d.Dz,d.nj,d.ge,d.ev,d.XQ,d.Gk,d.Ee,A.NW,C.YE,C.nU,l._Y,l.Fj,l.JJ,l.JL,l.On,l.sg,l.u,g.Ov,F.X$],styles:['.organization[_ngcontent-%COMP%]{padding-bottom:30px}.organization[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:var(--gray-color)}.organization[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:var(--gray-color);font-size:14px}.organization[_ngcontent-%COMP%]   .btns[_ngcontent-%COMP%]{margin-top:15px}.organization[_ngcontent-%COMP%]   .btns[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0 10px!important;min-width:max-content;min-height:max-content;margin:0 3px;border-radius:5px;font-size:14px;letter-spacing:.5px;height:40px}.organization[_ngcontent-%COMP%]   .timeLine[_ngcontent-%COMP%]{margin-block:50px 25px}.organization[_ngcontent-%COMP%]   .timeLine[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{width:100%;margin:0;display:flex;align-items:center;justify-content:space-between;position:relative;flex-wrap:wrap}@media (max-width: 575px){.organization[_ngcontent-%COMP%]   .timeLine[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{flex-direction:column;justify-content:center;align-items:center}}.organization[_ngcontent-%COMP%]   .timeLine[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]:after{content:"";position:absolute;width:94%;height:5px;background-color:var(--base-color);inset-inline-end:3%;top:14px;z-index:1}@media (max-width: 575px){.organization[_ngcontent-%COMP%]   .timeLine[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]:after{display:none}}.organization[_ngcontent-%COMP%]   .timeLine[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;z-index:2;display:flex;flex-direction:column;align-items:center;justify-content:center;margin-bottom:25px}.organization[_ngcontent-%COMP%]   .timeLine[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-of-type{display:flex;align-items:center;justify-content:center;width:30px;height:30px;border-radius:50%;background-color:var(--gray-bg-color);color:#000;margin-bottom:10px;font-size:13px;box-shadow:0 0 1px 1px #afafaf}.organization[_ngcontent-%COMP%]   .timeLine[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-of-type{color:var(--base-color);font-size:14px;font-weight:700}  .organization .nav-tabs{flex-wrap:wrap;align-items:end}  .organization .nav-tabs li{flex:1}@media (max-width: 991px){  .organization .nav-tabs li{flex:unset}}  .organization .nav-tabs li a{color:var(--gray-color);background-color:#fff;text-align:center;font-size:15px;letter-spacing:.5px;height:100%;padding:16px 0}@media (max-width: 991px){  .organization .nav-tabs li a{padding-inline:20px}}  .organization .nav-tabs li.active a{color:var(--base-color);border-color:transparent!important;border-bottom:2px solid var(--base-color)!important}.fieldrequired[_ngcontent-%COMP%]{color:red}.modal-form[_ngcontent-%COMP%]{max-height:65vh;overflow:auto;padding:.5rem}.modal-form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:grid;gap:1rem}@media (min-width: 768px){.modal-form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{grid-template-columns:repeat(3,minmax(0,1fr))}}@media (min-width: 1024px){.modal-form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{grid-template-columns:repeat(4,minmax(0,1fr))}}.modal-form[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin-top:.75rem;margin-bottom:.75rem}.checkbox[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;margin:0}.checkbox[_ngcontent-%COMP%]   .checkbox-content[_ngcontent-%COMP%]{width:60px;height:30px;border-radius:50px}.checkbox[_ngcontent-%COMP%]   .checkbox-content[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:50%;transform:translateY(-50%);opacity:0;z-index:2;cursor:pointer;inset-inline-start:0}.checkbox[_ngcontent-%COMP%]   .checkbox-content[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;height:100%;border-radius:50px;background-color:var(--gray-bg-color);cursor:pointer;position:absolute;z-index:1;transition:all .4s ease-in-out;box-shadow:0 0 1px 1px #e3e3e3;filter:none!important}.checkbox[_ngcontent-%COMP%]   .checkbox-content[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#444;font-size:9px;font-weight:700;letter-spacing:unset;top:50%;transform:translateY(-50%)}.checkbox[_ngcontent-%COMP%]   .checkbox-content[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-of-type{left:4px}.checkbox[_ngcontent-%COMP%]   .checkbox-content[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-of-type{right:4px}.checkbox[_ngcontent-%COMP%]   .checkbox-content[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .cycle[_ngcontent-%COMP%]{width:26px;height:26px;margin:0 2px;border-radius:50%;transition:all .4s ease-in-out;background:var(--base-color)}.checkbox[_ngcontent-%COMP%]   .checkbox-content[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   .cycle[_ngcontent-%COMP%]:after{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:14px;font-weight:700;letter-spacing:1px}.checkbox[_ngcontent-%COMP%]   .checkbox-content[_ngcontent-%COMP%]   .box.checked[_ngcontent-%COMP%]   .cycle[_ngcontent-%COMP%]{transform:translate(-110%)!important}.checkbox[_ngcontent-%COMP%]   .checkbox-content[_ngcontent-%COMP%]   .box.blur[_ngcontent-%COMP%]   .cycle[_ngcontent-%COMP%]{transform:translate(-10%)!important}.checkbox[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px;letter-spacing:1px}form[_ngcontent-%COMP%]   .ng-select[_ngcontent-%COMP%]{min-width:100%!important}.area-btn[_ngcontent-%COMP%]{font-size:14px!important;letter-spacing:.5px}.editable[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not([type=checkbox]){width:100%;height:100%;min-height:38px;background:transparent;text-align:center;appearance:none;-webkit-appearance:none}.editable[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not([type=checkbox]):focus-visible{outline:none}.add-btn[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;background:var(--base-color);color:#fff;display:flex;align-items:center;justify-content:center;font-size:18px}.percent[_ngcontent-%COMP%]{top:50%;transform:translateY(-50%);inset-inline-end:30px;font-weight:600;font-size:16px}.service_item_details[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:20px;padding:10px 15px}.service_item_details[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-of-type(odd){background:#f3f3f3}.service_item_details[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:21px;text-transform:capitalize}.box-info[_ngcontent-%COMP%]{background-color:var(--base-color);color:#fff;border-radius:5px;width:80%;margin:0 auto 30px}.box-info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:15px}.box-info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .ng-select[_ngcontent-%COMP%]{min-width:unset!important;width:80%;text-align:center}.box-info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{min-width:200px;text-align:center}.box-info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;text-align:center}.box-info[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus-visible{outline:none}  .mat-stepper-horizontal{min-width:850px}  .mat-horizontal-stepper-header{padding:0 10px!important;background:#f3f3f3!important;height:50px!important}  .mat-step-icon{display:none!important}  .mat-step-label.mat-step-label-active{color:var(--base-color)!important}  .mat-step-text-label{font-size:13px}.stepper-container[_ngcontent-%COMP%]{overflow:auto}.content[_ngcontent-%COMP%]{padding:16px}.ngx-datatable[_ngcontent-%COMP%]{text-align:center}textarea[_ngcontent-%COMP%]{border:1px solid #ccc;padding:15px;width:100%}textarea[_ngcontent-%COMP%]:focus-visible{outline:none}.boxContainer[_ngcontent-%COMP%]{background-color:var(--base-color);color:#fff;border-radius:5px;width:80%;margin:0 auto 30px}.boxContainer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;margin-bottom:15px}.boxContainer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus-visible{outline:none}  .ngb-dp-header{direction:initial}  .organization.dropdown-menu{min-width:274px;width:max-content;direction:initial}  .requiredInput{display:none!important}  .input-group .btn{display:none!important}  ngb-dp-header{direction:initial}  .ngb-dp-week{min-width:280px}  .ngb-dp-day,   .ngb-dp-weekday,   .ngb-dp-week-number{flex:1;color:var(--base-color)!important}  .mat-paginator-container{justify-content:space-between!important;padding:15px 10px 0!important}  .mat-paginator-range-actions{direction:inherit!important}  .mat-paginator-range-label{direction:initial}  .mat-tab-group{padding-bottom:15px}  .ng-select .ng-select-container .ng-value-container .ng-value{overflow:unset!important;height:30px;line-height:30px}.timeInput[_ngcontent-%COMP%]{width:240px;text-align:center}.emailBox[_ngcontent-%COMP%]{margin-inline-end:30px}.emailBox[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{letter-spacing:.5px;padding:5px 0}.tree[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:hidden}.tree-icon[_ngcontent-%COMP%]{font-size:18px;width:24px;height:24px;display:flex;line-height:24px;color:var(--base-color);align-items:center;justify-content:center}  .node-name{color:var(--gray-color);letter-spacing:.5px;font-size:16px;padding:6px 14px!important;cursor:pointer}  .node-name.markSelected{border:none!important;--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity));font-size:1rem;line-height:1.5rem;--tw-text-opacity: 1;color:rgb(10 109 202 / var(--tw-text-opacity))}  .collapsible-wrapper{border-inline-start:1px dashed #ccc;margin-inline-start:25px}  .collapsible-wrapper .node-name{font-size:14px;color:var(--gray-color);letter-spacing:.5px;cursor:pointer}  .collapsible-wrapper .node-name.markSelected{border:none!important;--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity));font-size:1rem;line-height:1.5rem;--tw-text-opacity: 1;color:rgb(10 109 202 / var(--tw-text-opacity))}  .collapsible-wrapper node-icon-wrapper{position:relative}  .collapsible-wrapper node-icon-wrapper:after{content:"";position:absolute;top:50%;inset-inline-start:0;width:90%;height:1px;border:1px dashed #ccc}.persent[_ngcontent-%COMP%]{padding:10px;border-radius:5px;background:var(--base-color);color:#fff;font-size:20px}  .ng-otp-input-wrapper .otp-input{margin-inline-start:5px!important}']}),n})();function Q(n,i,e,o,a,r,s){try{var u=n[r](s),_=u.value}catch(f){return void e(f)}u.done?i(_):Promise.resolve(_).then(o,a)}var q=c(529),Ce=c(9053);let Ae=(()=>{class n{constructor(e,o){this.exportationService=e,this.http=o,this.apiEndPoint="",this.labaikendpoint="",this.apiEndPoint=h.N.apiEndPoint}GetCurrentUser(){return this.http.get(this.apiEndPoint+"Users/GetCurrentUser")}GetAllUsers(){return this.http.get(this.apiEndPoint+"Users/GetAllUsers")}GetUserById(e){return this.http.get(`${h.N.apiEndPoint}Users/GetUserById?UserId=${e}`)}FillBranchSelect(){return this.http.get(this.apiEndPoint+"Branches/FillBranchSelect")}GetBranchesByUserId(e){return this.http.get(`${h.N.apiEndPoint}Users/GetBranchesByUserId?UserId=${e}`)}BranchesByUserId(e){return this.http.get(`${h.N.apiEndPoint}Users/GetBranchesByUserId?UserId=${e}`)}FillUsersSelect(){return this.http.get(this.apiEndPoint+"Users/FillUsersSelect")}getUsersByPrivilegesIds(e,o){return new q.WM({"Content-Type":"application/json"}),this.http.post(this.apiEndPoint+"Privileges/GetUsersByPrivilegesIds",{PrivilegeId:e,UserPrivId:0})}deleteUsers(e){return(new FormData).append("Users",e.toString()),new q.WM,this.http.post(`${h.N.apiEndPoint}Users/DeleteUsers?userId=`+e,{})}FillGroupsSelect(){return this.http.get(`${this.apiEndPoint}Groups/FillGroupsSelect`)}getDepartments(e){return this.http.get(`${this.apiEndPoint}Department/FillDepartmentSelectByTypeUser?param=${e}`)}FillAttendanceTimeSelect(){return this.http.get(`${this.apiEndPoint}AttendaceTime/FillAttendanceTimeSelect`)}saveUser(e){return this.http.post(this.apiEndPoint+"Users/SaveUsers",e)}saveUsers(e){return this.http.post(this.apiEndPoint+"Users/SaveUsers",e)}getPrivilegesByUserId(e){return this.http.get(this.apiEndPoint+"Users/GetPrivilegesIdsByUserId?UserId="+e)}getNotificationPrivilegesByUserId(e){return this.http.get(this.apiEndPoint+"NotificationPrivileges/GetNotifPrivilegesIdsByUserId?UserId="+e)}saveUserPrivileges(e,o){return this.http.post(this.apiEndPoint+"Users/SaveUserPriv",{UserId:e,PrivIds:o})}saveUserPrivil(e,o){return this.http.post(this.apiEndPoint+"Users/SaveUserPriv",{UserId:e,PrivIds:o})}GetFillPriv(){return this.http.get(this.apiEndPoint+"Users/FillPriv")}SaveGroups(e){const a=JSON.stringify(e);return this.http.post(this.apiEndPoint+"Groups/SaveGroups",a,{headers:{"content-type":"application/json"}})}GetAllGroups_S(){return this.http.get(`${this.apiEndPoint}Groups/GetAllGroups_S?SearchText= `)}DeleteGroups(e){return this.http.post(`${this.apiEndPoint}Groups/DeleteGroups?GroupId=`+e,{})}GetAllDepartmentbyType(){return this.http.get(`${this.apiEndPoint}Department/GetAllDepartmentbyType?Type=1`)}SaveDepartment(e){const a=JSON.stringify(e);return this.http.post(this.apiEndPoint+"Department/SaveDepartment",a,{headers:{"content-type":"application/json"}})}DeleteDepartment(e){return this.http.post(`${this.apiEndPoint}Department/DeleteDepartment?DepartmentId=`+e,{})}GetMaxOrderNumber(){return this.http.get(`${this.apiEndPoint}Users/GetMaxOrderNumber`)}getPrivilegesTree(){return this.http.get(this.apiEndPoint+"Users/GetPrivilegesTree")}CloseUser(e){const a=JSON.stringify(e);return this.http.post(this.apiEndPoint+"Users/CloseUser",a,{headers:{"content-type":"application/json"}})}GetBranchOrganization(){return this.http.get(this.apiEndPoint+"Organizations/GetBranchOrganization")}customExportExcel(e,o){let a=JSON.parse(JSON.stringify(e)),r=[],s=[],u=[],_=Object.keys(e[0]);_=_.filter(f=>!r.includes(f)),_.forEach(f=>{u.push(f.toUpperCase())}),a.forEach(f=>{var U,I={},T=[];for(U in f)f.hasOwnProperty(U)&&T.push(U);for(T=T.filter(S=>!r.includes(S)),U=0;U<T.length;U++)I[T[U]]=f[T[U]];f=I,Object.getOwnPropertyNames(f).filter(S=>a.some(Xn=>Xn===S)).forEach(S=>{delete f[S]}),s.push(f)}),this.exportationService.exportExcel(s,o+(new Date).getTime(),u)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(Ce.t),t.LFG(q.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Ze=c(7972);let Te=(()=>{class n{constructor(e){this.http=e,this.apiEndPoint="",this.apiEndPoint=h.N.apiEndPoint}getPrivilegesTree(){return this.http.get(this.apiEndPoint+"Privileges/GetPrivilegesTree")}saveGroupPrivileges(e,o){return this.http.post(this.apiEndPoint+"Groups/SaveGroupPriv",{GroupId:e,PrivIds:o})}saveGroup(e){return this.http.post(this.apiEndPoint+"Groups/SaveGroups",e)}FillGroupsSelect(){return this.http.get(`${this.apiEndPoint}Groups/FillGroupsSelect`)}saveGroupUsersPrivileges(e,o){return this.http.post(this.apiEndPoint+"Users/SaveGroupUsersPriv",{GroupId:e,PrivIds:o})}getPrivilegesIdsByGroupId(e){const o={GroupId:e.toString()},a=new q.WM({Accept:"application/json"});return this.http.get(this.apiEndPoint+"Groups/GetPrivilegesIdsByGroupId",{headers:a,params:o})}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(q.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Ue=c(445),Y=c(3848),Ie=c(455),ye=c(5727);const Fe=["tabGroup"],Me=function(){return{ar:"  \u0645\u0633\u062a\u062e\u062f\u0645 \u062c\u062f\u064a\u062f   ",en:"New User"}};function Ne(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",33),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(),r=t.MAs(40);return t.KtG(a.open(r,"","xl","","adduser"))}),t._UZ(1,"span",34)(2,"i",35),t.qZA()}2&n&&(t.xp6(1),t.Q6J("translate","name")("translateParams",t.DdM(2,Me)))}const Oe=function(){return{ar:"\u0628\u062d\u062b ",en:"Search "}};function we(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",36),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.dataSearch.filter.showFilters=!a.dataSearch.filter.showFilters)}),t._UZ(1,"span",34)(2,"i",37),t.qZA()}2&n&&(t.xp6(1),t.Q6J("translate","name")("translateParams",t.DdM(2,Oe)))}const Pe=function(){return{ar:"\u062a\u0635\u062f\u064a\u0631 \u0645\u0644\u0641 \u0625\u0643\u0633\u0644",en:"Export To Excel"}};function Ee(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",38),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.exportData())}),t._UZ(1,"span",34)(2,"i",39),t.qZA()}2&n&&(t.xp6(1),t.Q6J("translate","name")("translateParams",t.DdM(2,Pe)))}const ke=function(){return{rangeInputFormat:"DD/MM/YYYY"}};function qe(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",50)(1,"input",51,52),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw(2);return t.KtG(r.dataSearch.filter.date=a)})("ngModelChange",function(a){t.CHM(e);const r=t.oxw(2);return t.KtG(r.CheckDate(a))}),t.ALo(3,"translate"),t.qZA()()}if(2&n){const e=t.oxw(2);t.xp6(1),t.s9C("placeholder",t.lcZ(3,3,"Chose Date")),t.Q6J("ngModel",e.dataSearch.filter.date)("bsConfig",t.DdM(5,ke))}}const Se=function(){return{ar:"\u0641\u0644\u062a\u0631\u0629 \u0628\u0627\u0644\u0648\u0642\u062a",en:"Time Filter"}};function De(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",40)(1,"div",41)(2,"label",42),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"ng-select",43,44),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.dataSearch.filter.userId=a)})("change",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.RefreshData())}),t.ALo(7,"translate"),t.qZA()(),t.TgZ(8,"div",41)(9,"label",42),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"ng-select",43,44),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.dataSearch.filter.userId=a)})("change",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.RefreshData())}),t.ALo(14,"translate"),t.qZA()(),t.TgZ(15,"button",45),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return a.dataSearch.filter.enable=!a.dataSearch.filter.enable,t.KtG(a.ClearDate())}),t.qZA(),t.YNc(16,qe,4,6,"div",46),t.TgZ(17,"div",47)(18,"input",48,49),t.NdJ("keyup",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.applyFilter(a))}),t.ALo(20,"translate"),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(3),t.hij(" ",t.lcZ(4,14,"\u0623\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"),""),t.xp6(2),t.s9C("placeholder",t.lcZ(7,16,"Chose")),t.Q6J("items",e.dataSearch.filter.ListName)("clearable",!0)("ngModel",e.dataSearch.filter.userId),t.xp6(5),t.hij(" ",t.lcZ(11,18,"\u0631\u0642\u0645 \u062a\u0644\u064a\u0641\u0648\u0646 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"),""),t.xp6(2),t.s9C("placeholder",t.lcZ(14,20,"Chose")),t.Q6J("items",e.dataSearch.filter.ListPhone)("clearable",!0)("ngModel",e.dataSearch.filter.userId),t.xp6(3),t.Q6J("translate","name")("translateParams",t.DdM(24,Se)),t.xp6(1),t.Q6J("ngIf",e.dataSearch.filter.enable),t.xp6(2),t.s9C("placeholder",t.lcZ(20,22,"search"))}}const Je=function(){return{ar:"\u0645",en:"#"}};function Le(n,i){1&n&&(t.TgZ(0,"th",53),t._UZ(1,"span",54),t.qZA()),2&n&&(t.xp6(1),t.Q6J("translate","name")("translateParams",t.DdM(2,Je)))}function Be(n,i){if(1&n&&(t.TgZ(0,"td",55),t._uU(1),t.qZA()),2&n){const e=i.index;t.xp6(1),t.hij(" ",e+1," ")}}const Ge=function(){return{ar:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645",en:"User FullName"}};function Ye(n,i){1&n&&(t.TgZ(0,"th",53),t._UZ(1,"span",54),t.qZA()),2&n&&(t.xp6(1),t.Q6J("translate","name")("translateParams",t.DdM(2,Ge)))}function ze(n,i){if(1&n&&(t.TgZ(0,"td",56)(1,"div",57),t._UZ(2,"img",58),t.ALo(3,"img"),t.qZA(),t.TgZ(4,"div",59),t._uU(5),t.qZA()()),2&n){const e=i.$implicit;t.xp6(2),t.s9C("src",t.lcZ(3,2,e.imgUrl),t.LSH),t.xp6(3),t.hij(" ",e.fullName," ")}}const je=function(){return{ar:"\u0627\u0644\u0641\u0631\u0639",en:"Branch"}};function Qe(n,i){1&n&&(t.TgZ(0,"th",53),t._UZ(1,"span",54),t.qZA()),2&n&&(t.xp6(1),t.Q6J("translate","name")("translateParams",t.DdM(2,je)))}function He(n,i){if(1&n&&(t.TgZ(0,"td",55),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.branchName," ")}}const Ke=function(){return{ar:"\u0627\u0644\u0648\u0638\u064a\u0641\u0629",en:"Job"}};function Re(n,i){1&n&&(t.TgZ(0,"th",53),t._UZ(1,"span",54),t.qZA()),2&n&&(t.xp6(1),t.Q6J("translate","name")("translateParams",t.DdM(2,Ke)))}function $e(n,i){if(1&n&&(t.TgZ(0,"td",55),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.jobName," ")}}const Ve=function(){return{ar:"\u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0627\u0644\u0643\u062a\u0631\u0648\u0646\u064a",en:"email"}};function We(n,i){1&n&&(t.TgZ(0,"th",53),t._UZ(1,"span",54),t.qZA()),2&n&&(t.xp6(1),t.Q6J("translate","name")("translateParams",t.DdM(2,Ve)))}function Xe(n,i){if(1&n&&(t.TgZ(0,"td",55),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.email," ")}}const tn=function(){return{ar:"\u0627\u0644\u0647\u0627\u062a\u0641",en:"mobile"}};function en(n,i){1&n&&(t.TgZ(0,"th",53),t._UZ(1,"span",54),t.qZA()),2&n&&(t.xp6(1),t.Q6J("translate","name")("translateParams",t.DdM(2,tn)))}function nn(n,i){if(1&n&&(t.TgZ(0,"td",55),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.mobile," ")}}function on(n,i){1&n&&(t.TgZ(0,"th",53)(1,"span"),t._uU(2),t.qZA()()),2&n&&(t.xp6(2),t.Oqu("\u062d\u0627\u0644\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"))}function an(n,i){if(1&n&&(t.TgZ(0,"span",62),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.statusName," ")}}function rn(n,i){if(1&n&&(t.TgZ(0,"span",63),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.statusName," ")}}function sn(n,i){if(1&n&&(t.TgZ(0,"td",55),t.YNc(1,an,2,1,"span",60),t.YNc(2,rn,2,1,"span",61),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",1==e.status),t.xp6(1),t.Q6J("ngIf",0==e.status)}}const L=function(){return{ar:"\u062e\u064a\u0627\u0631\u0627\u062a",en:"Operations"}};function ln(n,i){1&n&&t._UZ(0,"th",64),2&n&&t.Q6J("translate","name")("translateParams",t.DdM(2,L))}function cn(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",68),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,r=t.oxw(),s=t.MAs(40);return t.KtG(r.open(s,a,"xl","","edit"))}),t._UZ(1,"i",69),t.qZA()}}function un(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",70),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,r=t.oxw(),s=t.MAs(42);return t.KtG(r.open(s,a,"xl","","deleteModalUser"))}),t._UZ(1,"i",71),t.qZA()}}function pn(n,i){if(1&n&&(t.TgZ(0,"td",55)(1,"div",65),t.YNc(2,cn,2,0,"button",66),t.YNc(3,un,2,0,"button",67),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",null==e.userG?null:e.userG.userPrivileges.includes(16010102)),t.xp6(1),t.Q6J("ngIf",null==e.userG?null:e.userG.userPrivileges.includes(16010103))}}function mn(n,i){1&n&&t._UZ(0,"tr",72)}function dn(n,i){1&n&&t._UZ(0,"tr",73)}function hn(n,i){1&n&&(t.TgZ(0,"tr",74)(1,"td",75),t._uU(2),t.qZA()()),2&n&&(t.xp6(2),t.hij(" ","No result found "," "))}function gn(n,i){1&n&&(t.TgZ(0,"span",119),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Edit User Details")," "))}function _n(n,i){1&n&&(t.TgZ(0,"span",119),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Add User Details")," "))}function fn(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"Personal data")," "))}function xn(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"label")(1,"input",121),t.NdJ("change",function(){t.CHM(e);const a=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.onCheckboxChange(a))}),t.qZA(),t._uU(2),t.qZA()}if(2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("value",e.id)("checked",e.checked),t.xp6(1),t.hij(" ",e.name," ")}}function bn(n,i){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,xn,3,3,"label",120),t.qZA()),2&n){const e=i.$implicit,o=t.oxw(2);t.xp6(1),t.Q6J("ngIf",o.selectedBranchId!==e.id)}}function vn(n,i){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"User Permissions")," "))}function Cn(n,i){if(1&n&&(t.TgZ(0,"span",124),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=t.oxw(),a=e.node;t.ekj("active",e.context.active),t.xp6(1),t.hij("",t.lcZ(2,3,a.text)," ")}}function An(n,i){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n){const e=t.oxw(),a=e.node;t.ekj("active",e.context.active),t.xp6(1),t.hij("",t.lcZ(2,3,a.text)," ")}}function Zn(n,i){if(1&n&&(t.YNc(0,Cn,3,5,"span",122),t.YNc(1,An,3,5,"span",123)),2&n){const e=i.node;t.Q6J("ngIf",151315==e.id||111316==e.id||151316==e.id||1118==e.id),t.xp6(1),t.Q6J("ngIf",151315!=e.id&&111316!=e.id&&151316!=e.id&&1118!=e.id)}}function Tn(n,i){1&n&&(t.TgZ(0,"span"),t._UZ(1,"i",125),t.qZA())}function Un(n,i){1&n&&(t.TgZ(0,"span"),t._UZ(1,"i",126),t.qZA())}function In(n,i){if(1&n&&(t.YNc(0,Tn,2,0,"span",120),t.YNc(1,Un,2,0,"span",120)),2&n){const e=i.expanded;t.Q6J("ngIf",!e),t.xp6(1),t.Q6J("ngIf",e)}}const yn=function(){return{ar:"\u0627\u0644\u062d\u0633\u0627\u0628 \u0646\u0634\u0637",en:"Active Account"}};function Fn(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",76)(1,"h4",77),t.YNc(2,gn,3,3,"span",78),t.YNc(3,_n,3,3,"span",78),t.qZA(),t.TgZ(4,"button",79),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.KtG(r.dismiss())}),t._UZ(5,"i",80),t.qZA()(),t.TgZ(6,"div",81)(7,"form",82)(8,"mat-tab-group",83,84)(10,"mat-tab",85),t.ALo(11,"translate"),t.YNc(12,fn,3,3,"ng-template",86),t.TgZ(13,"div",87)(14,"div")(15,"label",42),t._uU(16),t.ALo(17,"translate"),t.TgZ(18,"span",88),t._uU(19,"*"),t.qZA()(),t._UZ(20,"input",89),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"div")(23,"label",90),t._uU(24),t.ALo(25,"translate"),t.qZA(),t.TgZ(26,"span",88),t._uU(27,"*"),t.qZA(),t.TgZ(28,"div",91),t._UZ(29,"input",92),t.ALo(30,"translate"),t.TgZ(31,"a",93),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();let r;return t.KtG(a.getCopy(null==(r=a.userForm.get("FullNameAr"))?null:r.value))}),t._UZ(32,"i",94),t.qZA()()(),t.TgZ(33,"div")(34,"label",42),t._uU(35),t.ALo(36,"translate"),t.qZA(),t.TgZ(37,"span",88),t._uU(38,"*"),t.qZA(),t.TgZ(39,"input",95),t.NdJ("keypress",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.keyPress(a))}),t.ALo(40,"translate"),t.qZA()(),t.TgZ(41,"div")(42,"label",96),t._uU(43),t.ALo(44,"translate"),t.qZA(),t.TgZ(45,"span",88),t._uU(46,"*"),t.qZA(),t.TgZ(47,"div",91),t._UZ(48,"input",97),t.ALo(49,"translate"),t.TgZ(50,"i",98),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.text=!a.text)}),t.qZA()()(),t.TgZ(51,"div")(52,"label",42),t._uU(53),t.ALo(54,"translate"),t.qZA(),t.TgZ(55,"span",88),t._uU(56,"*"),t.qZA(),t._UZ(57,"input",99),t.ALo(58,"translate"),t.qZA(),t.TgZ(59,"div")(60,"label",42),t._uU(61),t.ALo(62,"translate"),t.qZA(),t.TgZ(63,"span",88),t._uU(64,"*"),t.qZA(),t._UZ(65,"input",100),t.ALo(66,"translate"),t.qZA(),t.TgZ(67,"div")(68,"label",42),t._uU(69),t.ALo(70,"translate"),t.qZA(),t._UZ(71,"input",101),t.ALo(72,"translate"),t.qZA(),t.TgZ(73,"div")(74,"label",42),t._uU(75),t.ALo(76,"translate"),t.TgZ(77,"span",88),t._uU(78,"*"),t.qZA()(),t.TgZ(79,"ng-select",102),t.NdJ("change",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.onSelectBranch())}),t.ALo(80,"translate"),t.qZA()(),t.TgZ(81,"div",103)(82,"div",104)(83,"label",42),t._uU(84),t.ALo(85,"translate"),t.TgZ(86,"span",88),t._uU(87,"*"),t.qZA()(),t._UZ(88,"ng-select",105),t.ALo(89,"translate"),t.qZA(),t.TgZ(90,"button",106),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(),r=t.MAs(48);return t.KtG(a.open(r,null,"addJob"))}),t._UZ(91,"i",107),t.qZA()(),t.TgZ(92,"div")(93,"label",42),t._uU(94),t.ALo(95,"translate"),t.qZA(),t.YNc(96,bn,2,1,"div",108),t.qZA(),t.TgZ(97,"div")(98,"label",42),t._uU(99),t.ALo(100,"translate"),t.qZA(),t._UZ(101,"textarea",109),t.qZA()(),t.TgZ(102,"div",110)(103,"mat-slide-toggle",111),t.NdJ("change",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.CheckStatus(a))}),t._UZ(104,"span",54),t.qZA()()(),t.TgZ(105,"mat-tab"),t.YNc(106,vn,3,3,"ng-template",86),t.TgZ(107,"div",112)(108,"tree-ngx",113),t.NdJ("selectedItems",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.selectedTask1=a)}),t.ALo(109,"translate"),t.YNc(110,Zn,2,2,"ng-template",null,114,t.W1O),t.YNc(112,In,2,2,"ng-template",null,115,t.W1O),t.qZA()()()()(),t.TgZ(114,"div",116),t._UZ(115,"div",117),t.TgZ(116,"button",118),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw();return t.KtG(s.onSave(r))}),t._uU(117),t.ALo(118,"translate"),t.qZA()()()}if(2&n){const e=t.oxw();let o;t.xp6(2),t.Q6J("ngIf",0==e.adduser),t.xp6(1),t.Q6J("ngIf",1==e.adduser),t.xp6(4),t.Q6J("formGroup",e.userForm),t.xp6(3),t.Q6J("dir",t.lcZ(11,43,"dir")),t.xp6(6),t.hij("",t.lcZ(17,45,"nameAr")," "),t.xp6(4),t.s9C("placeholder",t.lcZ(21,47,"nameAr")),t.xp6(4),t.Oqu(t.lcZ(25,49,"nameEn")),t.xp6(5),t.MGl("placeholder","",t.lcZ(30,51,"nameEn")," "),t.xp6(6),t.Oqu(t.lcZ(36,53,"userName")),t.xp6(4),t.MGl("placeholder","",t.lcZ(40,55,"userName")," "),t.xp6(4),t.Oqu(t.lcZ(44,57,"\u0627\u0644\u0628\u0627\u0633\u0648\u0631\u062f")),t.xp6(5),t.MGl("placeholder","",t.lcZ(49,59,"Password")," "),t.Q6J("type",e.text?"text":"password"),t.xp6(2),t.Gre("fa fa-",e.text?"eye":"eye-slash",""),t.xp6(3),t.Oqu(t.lcZ(54,61,"Email")),t.xp6(4),t.MGl("placeholder","",t.lcZ(58,63,"Email")," "),t.xp6(4),t.Oqu(t.lcZ(62,65,"Confirm Email")),t.xp6(4),t.MGl("placeholder","",t.lcZ(66,67,"Confirm Email")," "),t.xp6(4),t.Oqu(t.lcZ(70,69,"\u062a\u0644\u064a\u0641\u0648\u0646 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645")),t.xp6(2),t.MGl("placeholder","",t.lcZ(72,71,"Mobile")," "),t.xp6(4),t.hij(" ",t.lcZ(76,73,"Branch")," "),t.xp6(4),t.s9C("placeholder",t.lcZ(80,75,"Branch")),t.Q6J("items",e.branchOptions)("clearable",!0),t.xp6(5),t.hij(" ",t.lcZ(85,77,"Job")," "),t.xp6(4),t.s9C("placeholder",t.lcZ(89,79,"Job")),t.Q6J("items",e.Job_Emp)("clearable",!0),t.xp6(6),t.hij(" ",t.lcZ(95,81,"User branches"),""),t.xp6(2),t.Q6J("ngForOf",e.branchOptions),t.xp6(3),t.hij("",t.lcZ(100,83,"Notes")," "),t.xp6(4),t.Q6J("checked",!0),t.xp6(1),t.Q6J("translate","name")("translateParams",t.DdM(89,yn)),t.xp6(4),t.Tol(t.lcZ(109,85,"dir")),t.Q6J("nodeItems",e.AccountngxTree)("options",e.options),t.xp6(8),t.Q6J("disabled",null==e.userForm.controls.FullName.value||null==e.userForm.controls.FullNameAr.value||null==e.userForm.controls.JobId.value||null==e.userForm.controls.BranchId.value||null==e.userForm.controls.UserName.value||(null==(o=e.userForm.get("UserName"))?null:o.hasError("required"))),t.xp6(1),t.hij(" ",t.lcZ(118,87,"Save")," ")}}const H=function(){return{ar:"\u0647\u0644 \u062a\u0631\u064a\u062f \u0628\u0627\u0644\u062a\u0623\u0643\u064a\u062f \u062d\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u0635\u0641",en:"Are you sure to delete this row ?"}};function Mn(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",127),t._UZ(1,"p",54),t.TgZ(2,"div",128)(3,"button",129),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().deleteUser(),t.KtG(r.dismiss())}),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"button",130),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.KtG(r.dismiss())}),t._uU(7),t.ALo(8,"translate"),t.qZA()()()}2&n&&(t.xp6(1),t.Q6J("translate","name")("translateParams",t.DdM(8,H)),t.xp6(3),t.hij(" ",t.lcZ(5,4,"Yes")," "),t.xp6(3),t.hij(" ",t.lcZ(8,6,"No")," "))}function Nn(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td",128)(6,"button",68),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.updateGroups(r))}),t._UZ(7,"i",69),t.qZA(),t.TgZ(8,"button",148),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.DeleteGroups(r.groupId))}),t._UZ(9,"i",71),t.qZA()()()}if(2&n){const e=i.$implicit;t.xp6(2),t.Oqu(e.nameAr),t.xp6(2),t.Oqu(e.nameEn)}}const On=function(){return{ar:"\u0625\u0636\u0627\u0641\u0629 \u0645\u062c\u0645\u0648\u0639\u0629 \u062c\u062f\u064a\u062f\u0629",en:"Add new group"}},B=function(){return{standalone:!0}};function wn(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",76)(1,"h4",131),t._UZ(2,"span",132),t.qZA(),t.TgZ(3,"button",133),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.KtG(r.dismiss("Cross click"))}),t._UZ(4,"i",134),t.qZA()(),t.TgZ(5,"div",135)(6,"form",136,137)(8,"div",138)(9,"div",139)(10,"label",140),t._uU(11),t.ALo(12,"translate"),t.TgZ(13,"span",88),t._uU(14,"*"),t.qZA()(),t.TgZ(15,"input",141),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.GroupsnameAr=a)}),t.ALo(16,"translate"),t.ALo(17,"translate"),t.qZA()(),t.TgZ(18,"div",139)(19,"label",140),t._uU(20),t.ALo(21,"translate"),t.TgZ(22,"span",88),t._uU(23,"*"),t.qZA()(),t.TgZ(24,"input",141),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.GroupsnameEn=a)}),t.ALo(25,"translate"),t.ALo(26,"translate"),t.qZA()()(),t.TgZ(27,"div",142)(28,"table",143)(29,"thead")(30,"tr",144)(31,"th"),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"th"),t._uU(35),t.ALo(36,"translate"),t.qZA(),t._UZ(37,"th",54),t.qZA()(),t.TgZ(38,"tbody"),t.YNc(39,Nn,10,2,"tr",108),t.qZA()()()(),t.TgZ(40,"div",145)(41,"button",146),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.SaveGroups())}),t._uU(42),t.ALo(43,"translate"),t.qZA(),t.TgZ(44,"button",147),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.KtG(r.dismiss())}),t._uU(45),t.ALo(46,"translate"),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(2),t.Q6J("translate","name")("translateParams",t.DdM(37,On)),t.xp6(9),t.hij(" ",t.lcZ(12,17,"nameAr")," "),t.xp6(4),t.Q6J("ngModel",e.GroupsnameAr)("ngModelOptions",t.DdM(38,B))("placeholder",t.lcZ(16,19,"Write")+" "+t.lcZ(17,21,"nameAr")),t.xp6(5),t.hij(" ",t.lcZ(21,23,"nameEn")," "),t.xp6(4),t.Q6J("ngModel",e.GroupsnameEn)("ngModelOptions",t.DdM(39,B))("placeholder",t.lcZ(25,25,"Write")+" "+t.lcZ(26,27,"nameEn")),t.xp6(8),t.Oqu(t.lcZ(33,29,"nameAr")),t.xp6(3),t.Oqu(t.lcZ(36,31,"nameEn")),t.xp6(2),t.Q6J("translate","name")("translateParams",t.DdM(40,L)),t.xp6(2),t.Q6J("ngForOf",e.groupListTable),t.xp6(3),t.hij(" ",t.lcZ(43,33,"Save")," "),t.xp6(3),t.hij(" ",t.lcZ(46,35,"Back")," ")}}function Pn(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td",128)(6,"button",68),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.updatebranch(r))}),t._UZ(7,"i",69),t.qZA(),t.TgZ(8,"button",148),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.Deletebranch(r.departmentId))}),t._UZ(9,"i",71),t.qZA()()()}if(2&n){const e=i.$implicit;t.xp6(2),t.Oqu(e.departmentNameAr),t.xp6(2),t.Oqu(e.departmentNameEn)}}function En(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",76)(1,"h4",77)(2,"span",119),t._uU(3),t.ALo(4,"translate"),t.qZA()(),t.TgZ(5,"button",79),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.KtG(r.dismiss())}),t._UZ(6,"i",80),t.qZA()(),t.TgZ(7,"div",135)(8,"form",136,137)(10,"div",138)(11,"div",139)(12,"label",140),t._uU(13),t.ALo(14,"translate"),t.TgZ(15,"span",88),t._uU(16,"*"),t.qZA()(),t.TgZ(17,"input",141),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.departmentNameAr=a)}),t.ALo(18,"translate"),t.ALo(19,"translate"),t.qZA()(),t.TgZ(20,"div",139)(21,"label",140),t._uU(22),t.ALo(23,"translate"),t.TgZ(24,"span",88),t._uU(25,"*"),t.qZA()(),t.TgZ(26,"input",141),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.departmentNameEn=a)}),t.ALo(27,"translate"),t.ALo(28,"translate"),t.qZA()()(),t.TgZ(29,"div",142)(30,"table",143)(31,"thead")(32,"tr",144)(33,"th"),t._uU(34),t.ALo(35,"translate"),t.qZA(),t.TgZ(36,"th"),t._uU(37),t.ALo(38,"translate"),t.qZA(),t._UZ(39,"th",54),t.qZA()(),t.TgZ(40,"tbody"),t.YNc(41,Pn,10,2,"tr",108),t.qZA()()()(),t.TgZ(42,"div",145)(43,"button",146),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.Savebranch())}),t._uU(44),t.ALo(45,"translate"),t.qZA(),t.TgZ(46,"button",147),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.KtG(r.dismiss())}),t._uU(47),t.ALo(48,"translate"),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(3),t.hij(" ",t.lcZ(4,16,"Departments")," "),t.xp6(10),t.hij(" ",t.lcZ(14,18,"nameAr")," "),t.xp6(4),t.Q6J("ngModel",e.departmentNameAr)("ngModelOptions",t.DdM(38,B))("placeholder",t.lcZ(18,20,"Write")+" "+t.lcZ(19,22,"nameAr")),t.xp6(5),t.hij(" ",t.lcZ(23,24,"nameEn")," "),t.xp6(4),t.Q6J("ngModel",e.departmentNameEn)("ngModelOptions",t.DdM(39,B))("placeholder",t.lcZ(27,26,"Write")+" "+t.lcZ(28,28,"nameEn")),t.xp6(8),t.Oqu(t.lcZ(35,30,"nameAr")),t.xp6(3),t.Oqu(t.lcZ(38,32,"nameEn")),t.xp6(2),t.Q6J("translate","name")("translateParams",t.DdM(40,L)),t.xp6(2),t.Q6J("ngForOf",e.branchlist),t.xp6(3),t.hij(" ",t.lcZ(45,34,"Save")," "),t.xp6(3),t.hij(" ",t.lcZ(48,36,"Back")," ")}}function kn(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"tr",164),t.NdJ("dblclick",function(){const r=t.CHM(e).$implicit,s=t.oxw().$implicit;return t.oxw().setJobInSelect(r,s),t.KtG(s.dismiss("Cross click"))}),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td",128)(6,"button",165),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw(2);return s.AddDataType.Jobdata.id=r.id,s.AddDataType.Jobdata.namear=r.name,t.KtG(s.AddDataType.Jobdata.nameen=r.nameEn)}),t._UZ(7,"i",69),t.qZA(),t.TgZ(8,"button",148),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw(2),u=t.MAs(50);return s.getJobRow(r),t.KtG(s.open(u,s.AddDataType.Jobdata,"deleteJob"))}),t._UZ(9,"i",71),t.qZA()()()}if(2&n){const e=i.$implicit;t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.nameEn)}}function qn(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",76)(1,"h4",77)(2,"span",119),t._uU(3," \u0648\u0638\u064a\u0641\u0629 \u062c\u062f\u064a\u062f\u0629 "),t.qZA()(),t.TgZ(4,"button",79),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.KtG(null==r?null:r.dismiss())}),t._UZ(5,"i",80),t.qZA()(),t.TgZ(6,"div",127)(7,"form",149,150)(9,"div",139)(10,"label",151),t._uU(11),t.ALo(12,"translate"),t.TgZ(13,"span",88),t._uU(14,"*"),t.qZA()(),t.TgZ(15,"input",152,153),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.AddDataType.Jobdata.namear=a)}),t.ALo(17,"translate"),t.ALo(18,"translate"),t.qZA()(),t.TgZ(19,"div",139)(20,"label",154),t._uU(21),t.ALo(22,"translate"),t.TgZ(23,"span",88),t._uU(24,"*"),t.qZA()(),t.TgZ(25,"div",155)(26,"input",156,157),t.NdJ("ngModelChange",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.AddDataType.Jobdata.nameen=a)}),t.ALo(29,"translate"),t.ALo(30,"translate"),t.qZA(),t.TgZ(31,"a",158),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.AddDataType.Jobdata.nameen=a.AddDataType.Jobdata.namear)}),t._UZ(32,"i",94),t.qZA()()()(),t.TgZ(33,"div",159)(34,"table",160)(35,"thead")(36,"tr")(37,"th"),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.TgZ(40,"th"),t._uU(41),t.ALo(42,"translate"),t.qZA(),t._UZ(43,"th",54),t.qZA()(),t.TgZ(44,"tbody"),t.YNc(45,kn,10,2,"tr",161),t.qZA()()(),t.TgZ(46,"div",162)(47,"button",118),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.saveJob())}),t._uU(48),t.ALo(49,"translate"),t.qZA(),t.TgZ(50,"button",147),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.KtG(r.dismiss())}),t._uU(51),t.ALo(52,"translate"),t.qZA(),t.TgZ(53,"button",163),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.resetJob())}),t._uU(54),t.ALo(55,"translate"),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(11),t.hij(" ",t.lcZ(12,15,"nameAr")," "),t.xp6(4),t.Q6J("ngModel",e.AddDataType.Jobdata.namear)("placeholder",t.lcZ(17,17,"Write")+" "+t.lcZ(18,19,"nameAr")),t.xp6(6),t.hij(" ",t.lcZ(22,21,"nameEn")," "),t.xp6(5),t.Q6J("ngModel",e.AddDataType.Jobdata.nameen)("placeholder",t.lcZ(29,23,"Write")+" "+t.lcZ(30,25,"nameEn")),t.xp6(12),t.Oqu(t.lcZ(39,27,"nameAr")),t.xp6(3),t.Oqu(t.lcZ(42,29,"nameEn")),t.xp6(2),t.Q6J("translate","name")("translateParams",t.DdM(37,L)),t.xp6(2),t.Q6J("ngForOf",e.JobTypesPopup_Emp),t.xp6(2),t.Q6J("disabled",!e.AddDataType.Jobdata.namear),t.xp6(1),t.hij(" ",t.lcZ(49,31,"Save")," "),t.xp6(3),t.hij(" ",t.lcZ(52,33,"Back")," "),t.xp6(3),t.hij(" ",t.lcZ(55,35,"\u062c\u062f\u064a\u062f")," ")}}function Sn(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",127),t._UZ(1,"p",54),t.TgZ(2,"div",166)(3,"button",129),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().confirmJobDelete(),t.KtG(r.dismiss())}),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"button",130),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.KtG(r.dismiss())}),t._uU(7),t.ALo(8,"translate"),t.qZA()()()}2&n&&(t.xp6(1),t.Q6J("translate","name")("translateParams",t.DdM(8,H)),t.xp6(3),t.hij(" ",t.lcZ(5,4,"Yes")," "),t.xp6(3),t.hij(" ",t.lcZ(8,6,"No")," "))}const Dn=function(){return[10,25]},Jn=[{path:"",pathMatch:"full",redirectTo:"organization"},{path:"organization",component:be},{path:"users",component:(()=>{class n{ngOnInit(){this.userformintial(),this.GetAllUsers(),this.FillJobSelect_Emp(),this.FillBranchSelect(),this.loadPrivilegesTree(),this.api.GetOrganizationDataLogin().subscribe({next:e=>{this.OrganizationData=e.result}}),this.userG=this.authenticationService.userGlobalObj}constructor(e,o,a,r,s,u,_,f,I,U,T){this.api=e,this.modalService=o,this._sysServicesService=a,this._organization=r,this._sharedService=s,this.toast=u,this.translate=_,this.adminProfileService=f,this.fb=I,this.authenticationService=U,this.groupPrivilegeService=T,this.title={main:{name:{ar:"\u0644\u0648\u062d\u0629 \u0627\u0644\u062a\u062d\u0643\u0645",en:"Control Panel"},link:"/controlpanel"},sub:{ar:"\u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646",en:"Users"}},this.text=!1,this.lang="ar",this.logoUrl=null,this.date=new Date,this.displayedColumns=["UserId","fullName","branchName","jobName","email","mobile","statusName","operations"],this.data={users:new d.by([{}]),filter:{enable:!1,date:null}},this.userG={},this.selectedCategory=0,this.privilegesTree=[],this.transformedArray=[],this.PrivilegesTree=[],this.NotifPrivilegesTree=[],this.selectedIds=[],this.selectedBranchIds=[],this.branchOptions=[],this.departmentOptions=[],this.options={mode:m.Ci.MultiSelect,checkboxes:!0,alwaysEmitSelected:!1},this.nodeItems=[],this.groupOptions=[],this.GroupId="0",this.DepartmentId="0",this.datamod={},this.adduser=!0,this.UserSelectRow=null,this.SettingIdsList=[],this.AddDataType={Jobdata:{id:0,namear:null,nameen:null}},this.dataSearch={filter:{enable:!1,date:null,isChecked:!1,ListName:[],ListPhone:[],userId:null,showFilters:!1}},this.privilegesForm=new l.cw({groupId:new l.NI(7),privilegeIds:new l.NI([[]])}),this.userG=this.authenticationService.userGlobalObj,e.lang.subscribe(K=>{this.lang=K}),this.environmenturl=h.N.PhotoURL}userformintial(){this.userForm=new l.cw({UserId:new l.NI(0),FullName:new l.NI("",[l.kI.required,l.kI.pattern("^[a-zA-Z ]+$")]),FullNameAr:new l.NI("",[l.kI.required,l.kI.pattern("^[\u0621-\u064a\u0660-\u0669 ]+$")]),JobId:new l.NI(null,[l.kI.required]),Email:new l.NI("",[l.kI.email]),confirmEmail:new l.NI("",[l.kI.email]),Mobile:new l.NI("",[l.kI.minLength(11),l.kI.maxLength(11),l.kI.pattern("^05[0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9]")]),GroupId:new l.NI(null,[l.kI.required]),BranchId:new l.NI(null,[l.kI.required]),UserName:new l.NI("",[l.kI.required]),Password:new l.NI(""),Session:new l.NI(5),Notes:new l.NI(""),Status:new l.NI([1]),ExpireDate:new l.NI(null),CheckExpireDate:new l.NI,BranchesList:new l.NI([])},{validators:P.w0}),this.userForm.controls.ExpireDate.disable()}keyPress(e){}loadPrivilegesTree(){this.selectedTask1=[],this.selectedTask2=[],this._sysServicesService.getPrivilegesTree().subscribe(e=>{this.PrivList=JSON.parse(JSON.stringify(e)),this.AccountngxTreelist=e,this.AccountngxTreelist.forEach(a=>{a.children=[],a.name=this.translate.instant(a.text),a.item={phrase:a.text,id:a.id},a.selected=!1,this.AccountngxTreelist.forEach(r=>{a.id==r.parent&&(a.isparent=!0,a.children.push(r))})});const o=[];this.AccountngxTreelist.forEach(a=>{1==a.isparent&&o.push(a)}),this.AccountngxTree=[],this.AccountngxTreelist.forEach(a=>{"#"==a.parent&&this.AccountngxTree.push(a)})})}selectTask(){this.selectedGroup.forEach(e=>{this.selectedIds.push(e.id)}),this.privilegesForm.controls.privilegeIds.setValue(this.selectedIds)}onCheckboxChange(e){if(e.id)if(this.selectedIds.find(a=>a===e.id)){const a=this.selectedIds.findIndex(r=>r===e.id);-1!==a&&this.selectedIds.splice(a,1)}else this.selectedIds.push(e.id);this.userForm.controls.BranchesList.setValue(this.selectedIds),this.selectedIds.forEach(o=>{this.branchOptions.forEach(a=>{a.id==o&&(a.checked=!0)})})}logSelectedBranches(e,o){this.selectedBranchIds=this.branchOptions.filter(a=>a.selected).map(a=>a.id)}navigateToTab(e){this.tabGroup.selectedIndex=e}onSave(e){const o=new FormData;if(Object.keys(this.userForm.controls).forEach(s=>{const u=this.userForm.get(s);u&&u instanceof l.NI&&u.value&&o.append(s,u.value.toString())}),null!=this.userForm.controls.Email.value&&this.userForm.controls.Email.value!=this.userForm.controls.confirmEmail.value)return void this.toast.error(this.translate.instant("\u062a\u0623\u0643\u062f \u0645\u0646 \u0627\u0644\u0628\u0631\u064a\u062f \u0627\u0644\u0627\u0644\u0643\u062a\u0631\u0648\u0646\u064a"),this.translate.instant("Message"));this.userForm.controls.Status.setValue(0==this.userForm.controls.Status.value?0:1),0!=this.userForm.controls.ExpireDate.value&&null!=this.userForm.controls.ExpireDate.value&&"string"!=typeof this.userForm.controls.ExpireDate.value&&this._sharedService.date_TO_String(this.userForm.controls.ExpireDate.value),"number"!=typeof this.userForm.controls.BranchId.value&&this.userForm.controls.BranchId.setValue(this.userForm.controls.BranchId.value?.id),null==this.userForm.controls.ExpireDate.value&&this.userForm.controls.ExpireDate.setValue(0);const r=new FormData;if(r.append("UserId",this.userForm.controls.UserId.value),r.append("FullName",this.userForm.controls.FullName.value),r.append("FullNameAr",this.userForm.controls.FullNameAr.value),r.append("JobId",this.userForm.controls.JobId.value),r.append("Email",this.userForm.controls.Email.value),r.append("confirmEmail",this.userForm.controls.confirmEmail.value),r.append("Mobile",this.userForm.controls.Mobile.value),r.append("BranchId",this.userForm.controls.BranchId.value),r.append("UserName",this.userForm.controls.UserName.value),r.append("Password",this.userForm.controls.Password.value),r.append("Notes",this.userForm.controls.Notes.value),r.append("Status",this.userForm.controls.Status.value),r.append("ExpireDate",1==this.userForm.controls.CheckExpireDate.value&&0!=this.userForm.controls.ExpireDate.value?this._sharedService.date_TO_String(this.userForm.controls.ExpireDate.value)??"0":"0"),r.append("CheckExpireDate",this.userForm.controls.CheckExpireDate.value),this.userForm.controls.BranchesList.value.length>0)for(let s of this.userForm.controls.BranchesList.value)r.append("BranchesList[]",s);this._sysServicesService.saveUser(r).subscribe(s=>{200==s.statusCode?(0==this.userForm.controls.ExpireDate.value&&this.userForm.controls.ExpireDate.setValue(null),this.saveUserPrivileges(s.returnedParm,this.selectedTask1),this.GetAllUsers(),this.toast.success(this.translate.instant(s.reasonPhrase),this.translate.instant("Message")),0==this.userForm.controls.UserId.value&&this._sysServicesService.GetUserById(s.returnedParm).subscribe(u=>{this.edituser(u.result)})):(0==this.userForm.controls.ExpireDate.value&&this.userForm.controls.ExpireDate.setValue(null),this.toast.error(this.translate.instant(s.reasonPhrase),this.translate.instant("Message")))})}getpriv(e){e.forEach(o=>{this.PrivList.forEach(a=>{a.id==o.id&&"#"!=a.parent&&0==e.filter(s=>s.id==a.parent).length&&(e.push({id:a.parent}),this.getpriv(e))})})}saveUserPrivileges(e,o){var a=this;return function ve(n){return function(){var i=this,e=arguments;return new Promise(function(o,a){var r=n.apply(i,e);function s(_){Q(r,o,a,s,u,"next",_)}function u(_){Q(r,o,a,s,u,"throw",_)}s(void 0)})}}(function*(){yield a.getpriv(o);const r=[];o.forEach(s=>{r.push(Number(s.id))}),a._sysServicesService.saveUserPrivil(e,r).subscribe(s=>{},s=>{})})()}getnot(e){e.forEach(o=>{this.NotPrivList.forEach(a=>{a.id==o.id&&"#"!=a.parent&&0==e.filter(s=>s.id==a.parent).length&&(e.push({id:a.parent}),this.getnot(e))})})}clickItem(e){console.log(e)}fetchPrivilegeIdsForUser(e){this._sysServicesService.getPrivilegesByUserId(e).subscribe(o=>{this._sysServicesService.getPrivilegesTree().subscribe(a=>{this.PrivList=JSON.parse(JSON.stringify(a)),this.AccountngxTreelist=[],this.AccountngxTreelist=a,this.AccountngxTreelist.forEach(s=>{this.selectedTask1.forEach((u,_)=>{s.id==u.id&&delete this.selectedTask1[_]})}),this.AccountngxTreelist.forEach(s=>{s.children=[],s.name=this.translate.instant(s.text),s.item={phrase:s.text,id:s.id},s.selected=!1,this.AccountngxTreelist.forEach(u=>{s.id==u.parent&&(s.isparent=!0,s.children.push(u))}),o.forEach(u=>{s.id==u&&(s.expanded=!0,s.selected=!0,this.selectedTask1.push(s.item))})});const r=[];this.AccountngxTreelist.forEach(s=>{1==s.isparent&&r.push(s)}),this.AccountngxTree=[],this.AccountngxTreelist.forEach(s=>{"#"==s.parent&&this.AccountngxTree.push(s)})})},o=>{})}getPrivilegesGroup(){this.groupPrivilegeService.getPrivilegesIdsByGroupId(this.userForm.controls.GroupId.value).subscribe(e=>{this.groupPrivilegeService.getPrivilegesTree().subscribe(o=>{this.AccountngxTreelist=[],this.AccountngxTreelist=o,this.AccountngxTreelist.forEach(r=>{this.selectedTask1.forEach((s,u)=>{r.id==s.id&&delete this.selectedTask1[u]})}),this.AccountngxTreelist.forEach(r=>{r.children=[],null!=r.text&&(r.name=this.translate.instant(r.text)),r.item={phrase:r.text,id:r.id},r.selected=!1,this.AccountngxTreelist.forEach(s=>{r.id==s.parent&&(r.isparent=!0,r.children.push(s))}),e.forEach(s=>{r.id==s&&(r.expanded=!0,r.selected=!0,this.selectedTask1.push(r.item))})});const a=[];this.AccountngxTreelist.forEach(r=>{1==r.isparent&&a.push(r)}),this.AccountngxTree=[],this.AccountngxTreelist.forEach(r=>{"#"==r.parent&&this.AccountngxTree.push(r)})})})}FillBranchSelect(){this._sysServicesService.FillBranchSelect().subscribe(e=>{this.branchOptions=e,this.nodeItems=e})}getDepartments(e){this._sysServicesService.getDepartments(e).subscribe(o=>{this.departmentOptions=o})}onSelectBranch(){this.selectedBranchId=this.userForm.get("BranchId")?.value;const e=this.selectedIds.findIndex(o=>o===this.selectedBranchId);-1!==e&&this.selectedIds.splice(e,1),this.branchOptions.forEach(o=>{this.selectedBranchId==o.id&&(o.checked=!1)})}getBranchAccount(e){this.selectedBranchId=e}GetAllUsers(){this._sysServicesService.GetAllUsers().subscribe(e=>{this.dataSourceTemp=e.result,this.data.users=new d.by(e.result),this.data.users.paginator=this.paginator,this.data.users.sort=this.sort,this.FillSerachLists(e.result)})}applyFilter(e){const o=e.target.value.toLowerCase();var a=this.dataSourceTemp;o&&(a=this.dataSourceTemp.filter(r=>r.fullName&&-1!==r.fullName?.trim().toLowerCase().indexOf(o)||r.jobName&&-1!==r.jobName?.trim().toLowerCase().indexOf(o)||r.statusName&&-1!==r.statusName?.trim().toLowerCase().indexOf(o)||r.mobile&&-1!==r.mobile?.trim().toLowerCase().indexOf(o)||r.email&&-1!==r.email?.trim().toLowerCase().indexOf(o)||r.userName&&-1!==r.userName?.trim().toLowerCase().indexOf(o)||r.fullNameAr&&-1!==r.fullNameAr?.trim().toLowerCase().indexOf(o))),this.data.users=new d.by(a),this.data.users.paginator=this.paginator,this.data.users.sort=this.sort}GetFillPriv(){this._sysServicesService.GetFillPriv().subscribe(e=>{e.forEach(o=>{null!=o.name&&(o.name=this.translate.instant(o.name))}),this.filteredFillPrivList=e})}getgroupListTable(){this._sysServicesService.GetAllGroups_S().subscribe(e=>{this.groupOptions=e,this.groupListTable=e.result})}SaveGroups(){if(null!=this.GroupsnameAr&&null!=this.GroupsnameEn){const e={GroupId:this.GroupId.toString(),NameAr:this.GroupsnameAr,NameEn:this.GroupsnameEn};this._sysServicesService.SaveGroups(e).subscribe(o=>{this.GroupsnameAr=null,this.GroupsnameEn=null,this.GroupId="0",this.getgroupListTable(),this.toast.success(o.reasonPhrase,"\u0631\u0633\u0627\u0644\u0629")},o=>{this.toast.error(o.reasonPhrase,"\u0631\u0633\u0627\u0644\u0629")})}}updateGroups(e){this.GroupId=e.groupId,this.GroupsnameAr=e.nameAr,this.GroupsnameEn=e.nameEn}DeleteGroups(e){this._sysServicesService.DeleteGroups(e).subscribe(o=>{200==o.statusCode&&(this.toast.success(o.reasonPhrase,"\u0631\u0633\u0627\u0644\u0629"),this.getgroupListTable())},o=>{this.toast.error(o.reasonPhrase,"\u0631\u0633\u0627\u0644\u0629")})}GetAllDepartmentbyType(){this._sysServicesService.GetAllDepartmentbyType().subscribe(e=>{this.branchlist=e.result})}Savebranch(){if(null!=this.departmentNameAr&&null!=this.departmentNameEn){const e={DepartmentId:this.DepartmentId.toString(),DepartmentNameAr:this.departmentNameAr,DepartmentNameEn:this.departmentNameEn,Type:1};this._sysServicesService.SaveDepartment(e).subscribe(o=>{this.departmentNameAr=null,this.departmentNameEn=null,this.DepartmentId="0",this.getDepartments(1),this.GetAllDepartmentbyType(),this.toast.success(o.reasonPhrase,"\u0631\u0633\u0627\u0644\u0629")},o=>{this.toast.error(o.reasonPhrase,"\u0631\u0633\u0627\u0644\u0629")})}}updatebranch(e){this.DepartmentId=e.departmentId,this.departmentNameAr=e.nameAr,this.departmentNameEn=e.nameEn}Deletebranch(e){this._sysServicesService.DeleteDepartment(e).subscribe(o=>{200==o.statusCode&&(this.toast.success(o.reasonPhrase,"\u0631\u0633\u0627\u0644\u0629"),this.getDepartments(1),this.GetAllDepartmentbyType())})}CheckStatus(e){}CheckExpireD(e){0==e.checked?(this.userForm.controls.ExpireDate.disable(),this.userForm.controls.ExpireDate.setValue("")):this.userForm.controls.ExpireDate.enable()}getCopy(e){const o=document.createElement("textarea");o.style.position="fixed",o.style.left="0",o.style.top="0",o.style.opacity="0",o.value=e,document.body.appendChild(o),o.focus(),o.select(),document.execCommand("copy"),document.body.removeChild(o),this.userForm.controls.FullName.setValue(this.userForm.controls.FullNameAr.value)}compareBranches(e,o){return e&&o?e.id===o.id:e===o}edituser(e){this.branchOptions.forEach(o=>{o.checked=!1}),this.selectedBranchId=null,this.selectedIds=[],this.adduser=!1,this.GetBranchesByUserId(e.userId),null!=e.userId&&null!=e.addUsers&&this.adminProfileService.getUserById(e.addUsers).subscribe(o=>{this.logoUrl=o.result.imgUrl,this.fullNameuser=o.result.fullName}),this.datamod=e,this.userformintial(),this.selectedBranchId=e.branchId,this.userForm.controls.UserId.setValue(e.userId),this.userForm.controls.FullNameAr.setValue(e.fullNameAr),this.userForm.controls.FullName.setValue(e.fullNameEn),this.userForm.controls.JobId.setValue(e.jobId),this.userForm.controls.Email.setValue(e.email),this.userForm.controls.confirmEmail.setValue(e.email),this.userForm.controls.BranchId.setValue(e.branchId),this.userForm.controls.Mobile.setValue(e.mobile),this.userForm.controls.UserName.setValue(e.userName),this.api.DecryptPassword(e.password.toString()).subscribe(o=>{this.userForm.controls.Password.setValue(o.reasonPhrase)}),this.userForm.controls.Notes.setValue(e.notes),this.userForm.controls.Status.setValue(e.status),this.userForm.controls.UserName.disable(),0==e.expireDate?this.userForm.controls.ExpireDate.setValue(null):(this.userForm.controls.ExpireDate.setValue(new Date(e.expireDate)),""==this.userForm.controls.ExpireDate.value||null==this.userForm.controls.ExpireDate.value||(this.userForm.controls.CheckExpireDate.setValue(!0),this.userForm.controls.ExpireDate.enable())),this.fetchPrivilegeIdsForUser(e.userId),this.CheckStatus(1==this.userForm.controls.Status.value?{checked:!0}:{checked:!1})}open(e,o,a,r,s){this.UserSelectRow=null,"adduser"==s&&(this.selectedTask1=[],this.selectedTask2=[],this.loadPrivilegesTree(),this.userformintial(),this.adduser=!0,this.userForm.controls.UserName.enable(),this.selectedIds=[],this.branchOptions.forEach(u=>{u.checked=!1}),this.selectedBranchId=null),"edit"==s&&this.edituser(o),"deleteModalUser"==s&&(this.deleteUserId=o.userId),o&&(this.modalDetails=o),s&&(this.modalDetails=s),this.modalService.open(e,{ariaLabelledBy:"modal-basic-title",size:a,centered:!r}).result.then(u=>{},u=>{})}opened(e,o,a,r){this.modalService.open(e,{ariaLabelledBy:"modal-basic-title",size:a,centered:!r}).result.then(s=>{},s=>{})}GetBranchesByUserId(e){this._sysServicesService.BranchesByUserId(e).subscribe(o=>{o.forEach(a=>{this.onCheckboxChange({id:a})})})}resetModal(){this.modalDetails={type:null}}deleteUser(){this._sysServicesService.deleteUsers(this.deleteUserId).subscribe(e=>{200==e.statusCode?(this.GetAllUsers(),this.toast.success(this.translate.instant(e.reasonPhrase),this.translate.instant("Message"))):this.toast.error(this.translate.instant(e.reasonPhrase),this.translate.instant("Message"))})}FillJobSelect_Emp(){this._organization.FillJobSelect().subscribe(e=>{console.log(e),this.Job_Emp=e,this.JobTypesPopup_Emp=e})}getJobRow(e){this.JobRowSelected=e}setJobInSelect(e,o){this.modalDetails.jobId=e.id}confirmJobDelete(){this._organization.DeleteJob(this.JobRowSelected.id).subscribe(e=>{200==e.statusCode?(this.toast.success(this.translate.instant(e.reasonPhrase),this.translate.instant("Message")),this.FillJobSelect_Emp()):this.toast.error(this.translate.instant(e.reasonPhrase),this.translate.instant("Message"))})}saveJob(){if(null!=this.AddDataType.Jobdata.namear&&null!=this.AddDataType.Jobdata.nameen){var e={};e.JobId=this.AddDataType.Jobdata.id,e.NameAr=this.AddDataType.Jobdata.namear,e.NameEn=this.AddDataType.Jobdata.nameen,this._organization.SaveJob(e).subscribe(a=>{200==a.statusCode?(this.toast.success(this.translate.instant(a.reasonPhrase),this.translate.instant("Message")),this.resetJob(),this.FillJobSelect_Emp()):this.toast.error(this.translate.instant(a.reasonPhrase),this.translate.instant("Message"))})}else this.toast.error("\u0645\u0646 \u0641\u0636\u0644\u0643 \u0623\u0643\u0645\u0644 \u0627\u0644\u0628\u064a\u0627\u0646\u0627\u062a","\u0631\u0633\u0627\u0644\u0629")}resetJob(){this.AddDataType.Jobdata.id=0,this.AddDataType.Jobdata.namear=null,this.AddDataType.Jobdata.nameen=null}FillSerachLists(e){this.FillUserListName(e),this.FillUserListPhone(e)}FillUserListName(e){const o=e.map(s=>{const u={};return u.id=s.userId,u.name=s.fullName,u}),r=[...new Map(o.map(s=>[s.id,s])).values()];this.dataSearch.filter.ListName=r}FillUserListPhone(e){const o=e.map(s=>{const u={};return u.id=s.userId,u.name=s.mobile,u}),r=[...new Map(o.map(s=>[s.id,s])).values()];this.dataSearch.filter.ListPhone=r,this.dataSearch.filter.ListPhone=this.dataSearch.filter.ListPhone.filter(s=>null!=s.name&&""!=s.name)}RefreshDataCheck(e,o){this.data.users.data=this.dataSourceTemp,null!=e&&""!=e&&null!=o&&""!=o&&(this.data.users.data=this.data.users.data.filter(a=>{var r=new Date(a.addDate),s=new Date(e),u=new Date(o);return r.getTime()>=s.getTime()&&r.getTime()<=u.getTime()})),null!=this.dataSearch.filter.userId&&""!=this.dataSearch.filter.userId&&(this.data.users.data=this.data.users.data.filter(a=>a.userId==this.dataSearch.filter.userId))}ClearDate(){0==this.dataSearch.filter.enable&&(this.dataSearch.filter.date=null,this.RefreshDataCheck(null,null))}CheckDate(e){if(null!=e){var o=this._sharedService.date_TO_String(e[0]),a=this._sharedService.date_TO_String(e[1]);this.RefreshDataCheck(o,a)}else this.RefreshDataCheck(null,null)}RefreshData(){null==this.dataSearch.filter.date?this.RefreshDataCheck(null,null):this.RefreshDataCheck(this.dataSearch.filter.date[0],this.dataSearch.filter.date[1])}exportData(){let e=[];var o=this.data.users.data;for(let a=0;a<o.length;a++)e.push({fullName:o[a].fullName,branchName:o[a].branchName,jobName:o[a].jobName,email:o[a].email,mobile:o[a].mobile,statusName:o[a].statusName});this._sysServicesService.customExportExcel(e,"Users")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(v.e),t.Y36(b.FF),t.Y36(Ae),t.Y36(w.M),t.Y36(P.F1),t.Y36(N._W),t.Y36(F.sK),t.Y36(Ze.a),t.Y36(l.qu),t.Y36(E.$),t.Y36(Te))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-users"]],viewQuery:function(e,o){if(1&e&&(t.Gf(A.NW,5),t.Gf(C.YE,5),t.Gf(Fe,5)),2&e){let a;t.iGM(a=t.CRH())&&(o.paginator=a.first),t.iGM(a=t.CRH())&&(o.sort=a.first),t.iGM(a=t.CRH())&&(o.tabGroup=a.first)}},decls:51,vars:10,consts:[[1,"add-search","pb-4"],[3,"title"],[1,"tables-data","mt-3","overflow-hidden"],[1,"flex","justify-between","gap-2","items-center","my-3","flex-wrap"],[1,"flex","gap-2","controler"],["class","flex gap-1 btn btn-primary",3,"click",4,"ngIf"],["class","flex gap-1 btn btn-danger",3,"click",4,"ngIf"],["class","flex gap-1 btn btn-warning",3,"click",4,"ngIf"],["class","flex gap-6 flex-wrap items-end mb-4",4,"ngIf"],[1,"overflow-auto","mt-3"],["mat-table","","matSort","",1,"mat-elevation-z8","rounded-t-lg","overflow-hidden","w-max",3,"dataSource"],["matColumnDef","UserId"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","fullName"],["style","display: inline-flex;","mat-cell","",4,"matCellDef"],["matColumnDef","branchName"],["matColumnDef","jobName"],["matColumnDef","email"],["matColumnDef","mobile"],["matColumnDef","statusName"],["matColumnDef","operations"],["mat-header-cell","",3,"translate","translateParams",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","duration-300 hover:bg-slate-100",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],[3,"pageSizeOptions"],["dataModal",""],["deleteModal",""],["addNewGroup",""],["departments",""],["AddJobPopup",""],["deleteJob",""],[1,"flex","gap-1","btn","btn-primary",3,"click"],[1,"hidden","md:block",3,"translate","translateParams"],[1,"fa-solid","fa-user-plus"],[1,"flex","gap-1","btn","btn-danger",3,"click"],[1,"fa-solid","fa-search"],[1,"flex","gap-1","btn","btn-warning",3,"click"],[1,"fa-solid","fa-file-export"],[1,"flex","gap-6","flex-wrap","items-end","mb-4"],[1,"max-w-xs"],[1,"col-form-label"],["bindLabel","name","bindValue","id",1,"w-full","p-0",3,"items","clearable","ngModel","placeholder","ngModelChange","change"],["CustomerName",""],[1,"btn","btn-primary",3,"translate","translateParams","click"],["class","form-group col-md-2 timeInput",4,"ngIf"],[1,"w-fit"],[1,"form-control",3,"placeholder","keyup"],["input",""],[1,"form-group","col-md-2","timeInput"],["type","text","bsDaterangepicker","",1,"form-control",3,"placeholder","ngModel","bsConfig","ngModelChange"],["dpr","bsDaterangepicker"],["mat-header-cell","","mat-sort-header",""],[3,"translate","translateParams"],["mat-cell",""],["mat-cell","",2,"display","inline-flex"],[1,"w-20","p-3"],["alt","",1,"aspect-square","rounded-full","object-cover",3,"src"],[2,"place-self","center"],["style","color: #0ea516;font-size: 17px;font-weight: bold;",4,"ngIf"],["style","color: #b20b0b;font-size: 17px;font-weight: bold;",4,"ngIf"],[2,"color","#0ea516","font-size","17px","font-weight","bold"],[2,"color","#b20b0b","font-size","17px","font-weight","bold"],["mat-header-cell","",3,"translate","translateParams"],[1,"flex","gap-1","justify-center","py-2"],["class","min-w-max p-2 bg-orange-100 hover:bg-orange-500 rounded-lg duration-300 hover:text-white aspect-square w-10",3,"click",4,"ngIf"],["class","min-w-max p-2 bg-red-100 hover:bg-red-500 rounded-lg duration-300 hover:text-white aspect-square w-10",3,"click",4,"ngIf"],[1,"min-w-max","p-2","bg-orange-100","hover:bg-orange-500","rounded-lg","duration-300","hover:text-white","aspect-square","w-10",3,"click"],[1,"fa-regular","fa-pen-to-square"],[1,"min-w-max","p-2","bg-red-100","hover:bg-red-500","rounded-lg","duration-300","hover:text-white","aspect-square","w-10",3,"click"],[1,"fa-solid","fa-trash-can"],["mat-header-row",""],["mat-row","",1,"duration-300","hover:bg-slate-100"],[1,"mat-row"],["colspan","7",1,"mat-cell"],[1,"modal-header","text-white","flex","justify-between","items-center",2,"background-color","var(--base-color)"],[1,"m-0"],["class","text-2xl",4,"ngIf"],["type","button",1,"text-2xl","text-white","m-0",3,"click"],[1,"fa-solid","fa-xmark"],[1,"modal-body","cpanel-users","users"],[1,"modal-form",3,"formGroup"],["linear",""],["stepper",""],[3,"dir"],["mat-tab-label",""],[1,"grid","md:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","gap-3"],[1,"text-danger"],["type","text","id","FullNameAr","name","FullNameAr","autocomplete","off","formControlName","FullNameAr",1,"form-control",3,"placeholder"],["for","empNameEntxt",1,"col-form-label"],[1,"flex"],["type","text","id","FullName","autocomplete","off","name","FullName","formControlName","FullName",1,"form-control",3,"placeholder"],["id","CopyCustomerName2",1,"btn",3,"click"],[1,"fa","fa-copy"],["type","text","autocomplete","off","formControlName","UserName",1,"form-control",3,"placeholder","keypress"],["for","password",1,"col-form-label"],["id","password","autocomplete","off","formControlName","Password",1,"form-control",3,"type","placeholder"],[2,"padding-top","4%",3,"click"],["type","Email","autocomplete","off","onCopy","return false","onDrag","return false","onDrop","return false","onPaste","return false","formControlName","Email",1,"form-control",3,"placeholder"],["type","email","autocomplete","off","onCopy","return false","onDrag","return false","onDrop","return false","onPaste","return false","formControlName","confirmEmail",1,"form-control",3,"placeholder"],["type","tel","autocomplete","off","formControlName","Mobile",1,"form-control",3,"placeholder"],["bindLabel","name","bindValue","id","autocomplete","off","formControlName","BranchId",1,"w-full","p-0",3,"items","clearable","placeholder","change"],[1,"flex","gap-2","items-end"],[1,"flex-grow"],["bindLabel","name","bindValue","id","autocomplete","off","formControlName","JobId",1,"w-full","p-0",3,"items","clearable","placeholder"],["type","type",1,"btn","bg-base","text-white","mt-3",3,"click"],[1,"fa","fa-plus"],[4,"ngFor","ngForOf"],["rows","1","formControlName","Notes",1,"form-control"],[1,"flex","gap-2","items-end","mt-3"],["color","primary","formControlName","Status",3,"checked","change"],[1,"overflow-auto","px-10"],[3,"nodeItems","options","selectedItems"],["nodeNameTemplate",""],["nodeCollapsibleTemplate",""],[1,"flex","gap-2","justify-between","items-end","flex-wrap","pt-3","border-t","border-neutral-300","col-span-1","md:col-span-2","mt-2"],[1,"flex","gap-2","items-center"],["type","submit",1,"btn","bg-base","text-white",3,"disabled","click"],[1,"text-2xl"],[4,"ngIf"],["type","checkbox","autocomplete","off",3,"value","checked","change"],["style","\n                    background-color: #ea5252;\n                    font-weight: 700;\n                    color: black;\n                  ",3,"active",4,"ngIf"],[3,"active",4,"ngIf"],[2,"background-color","#ea5252","font-weight","700","color","black"],[1,"fa-solid","fa-folder-plus","tree-icon"],[1,"fa-solid","fa-folder-minus","tree-icon"],[1,"modal-body","text-center"],[1,"flex","gap-2","justify-center"],["type","button","mat-raised-button","","color","warn",3,"click"],["type","button","mat-raised-button","","color","basic",3,"click"],["id","modal-basic-title",1,"modal-title","mb-0"],[1,"text-2xl",3,"translate","translateParams"],["type","button","aria-label","Close",1,"text-white","m-0",3,"click"],[1,"fa","fa-close"],[1,"modal-body"],[1,"modal-form"],["form","ngForm"],[1,"grid","md:grid-cols-2","gap-3"],[1,"form-group"],[1,"text-right","col-form-label","block"],["type","text",1,"form-control",3,"ngModel","ngModelOptions","placeholder","ngModelChange"],[1,"max-h-80","overflow-auto","mt-2","col-span-1","md:col-span-2"],[1,"custome-table"],[1,"text-center"],[1,"flex","gap-2","justify-end","pt-3","border-t","border-neutral-300","col-span-1","md:col-span-2","mt-2"],["type","submit",1,"btn","bg-base","text-white",3,"click"],[1,"btn","btn-secondary",3,"click"],[1,"p-2","bg-red-100","hover:bg-red-500","rounded-lg","duration-300","hover:text-white","aspect-square","w-10",3,"click"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-2"],["addJob","ngForm"],["for","JobNameArtxt3",1,"text-right","col-form-label","block"],["required","","type","text","id","JobNameArtxt3","name","JobNameArtxt3","autocomplete","off",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["JobNameAr","ngModel"],["for","JobNameEntxt3",1,"text-right","col-form-label","block"],[2,"display","inline-flex","width","100%"],["required","","type","text","id","JobNameEntxt3","name","JobNameEntxt3","autocomplete","off",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["JobNameEnValue","","JobNameEn","ngModel"],["id","CopyJobName2",1,"btn",3,"click"],[1,"max-h-80","overflow-auto","px-2"],[1,"table","table-hover"],[3,"dblclick",4,"ngFor","ngForOf"],[1,"flex","gap-2","mt-3","pt-3","border-t","border-neutral-300"],[1,"btn","bg-base","text-white",3,"click"],[3,"dblclick"],[1,"p-2","bg-orange-100","hover:bg-orange-500","rounded-lg","duration-300","hover:text-white","aspect-square","w-10",3,"click"],[1,"flex","gap-2","justify-center","mt-3"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"app-navigator",1),t.TgZ(2,"div",2)(3,"div",3)(4,"div",4),t.YNc(5,Ne,3,3,"button",5),t.YNc(6,we,3,3,"button",6),t.YNc(7,Ee,3,3,"button",7),t.qZA()(),t.YNc(8,De,21,25,"div",8),t.TgZ(9,"div",9)(10,"table",10),t.ynx(11,11),t.YNc(12,Le,2,3,"th",12),t.YNc(13,Be,2,1,"td",13),t.BQk(),t.ynx(14,14),t.YNc(15,Ye,2,3,"th",12),t.YNc(16,ze,6,4,"td",15),t.BQk(),t.ynx(17,16),t.YNc(18,Qe,2,3,"th",12),t.YNc(19,He,2,1,"td",13),t.BQk(),t.ynx(20,17),t.YNc(21,Re,2,3,"th",12),t.YNc(22,$e,2,1,"td",13),t.BQk(),t.ynx(23,18),t.YNc(24,We,2,3,"th",12),t.YNc(25,Xe,2,1,"td",13),t.BQk(),t.ynx(26,19),t.YNc(27,en,2,3,"th",12),t.YNc(28,nn,2,1,"td",13),t.BQk(),t.ynx(29,20),t.YNc(30,on,3,1,"th",12),t.YNc(31,sn,3,2,"td",13),t.BQk(),t.ynx(32,21),t.YNc(33,ln,1,3,"th",22),t.YNc(34,pn,4,2,"td",13),t.BQk(),t.YNc(35,mn,1,0,"tr",23),t.YNc(36,dn,1,0,"tr",24),t.YNc(37,hn,3,1,"tr",25),t.qZA()(),t._UZ(38,"mat-paginator",26),t.qZA()(),t.YNc(39,Fn,119,90,"ng-template",null,27,t.W1O),t.YNc(41,Mn,9,9,"ng-template",null,28,t.W1O),t.YNc(43,wn,47,41,"ng-template",null,29,t.W1O),t.YNc(45,En,49,41,"ng-template",null,30,t.W1O),t.YNc(47,qn,56,38,"ng-template",null,31,t.W1O),t.YNc(49,Sn,9,9,"ng-template",null,32,t.W1O)),2&e&&(t.xp6(1),t.Q6J("title",o.title),t.xp6(4),t.Q6J("ngIf",null==o.userG?null:o.userG.userPrivileges.includes(16010101)),t.xp6(1),t.Q6J("ngIf",null==o.userG?null:o.userG.userPrivileges.includes(16010104)),t.xp6(1),t.Q6J("ngIf",null==o.userG?null:o.userG.userPrivileges.includes(16010105)),t.xp6(1),t.Q6J("ngIf",o.dataSearch.filter.showFilters),t.xp6(2),t.Q6J("dataSource",o.data.users),t.xp6(25),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(2),t.Q6J("pageSizeOptions",t.DdM(9,Dn)))},dependencies:[g.sg,g.O5,Ue.Lv,O.S,Y.SP,Y.uD,Y.uX,F.Pi,z.lW,D.w9,J.FR,J.TB,d.BZ,d.fO,d.as,d.w1,d.Dz,d.nj,d.ge,d.ev,d.XQ,d.Gk,d.Ee,A.NW,C.YE,C.nU,Ie.Rr,l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.On,l.F,m.yQ,l.sg,l.u,F.X$,ye.Y],styles:['.error-text[_ngcontent-%COMP%]{color:red}.modal-form[_ngcontent-%COMP%]{max-height:65vh;overflow:auto;padding:.5rem}.modal-form[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{margin-top:.75rem;margin-bottom:.75rem}.modal-form[_ngcontent-%COMP%]   .separator-title[_ngcontent-%COMP%]{margin-top:.75rem;margin-bottom:.75rem;border-radius:.5rem;background-color:rgb(10 109 202 / var(--tw-bg-opacity));--tw-bg-opacity: .1;padding:.5rem .75rem;font-size:1.25rem;line-height:1.75rem;font-weight:700;color:#0a6dca}.mat-tab-body-content[_ngcontent-%COMP%]{overflow:hidden}  .cpanel-users .mat-tab-body-content{overflow:hidden}.stats[_ngcontent-%COMP%]{padding-inline:15px}.stats[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]{width:110px;height:124px;justify-content:center;align-items:center;display:flex;flex-direction:column;padding:10px;font-weight:600;border-radius:5px}.stats[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;margin:0 0 10px!important}.stats[_ngcontent-%COMP%]   .box[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13px;text-align:center;font-weight:700}.data-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:10px;font-size:15px;font-weight:500;letter-spacing:.25px}.users[_ngcontent-%COMP%]   .tree[_ngcontent-%COMP%]{max-height:60vh;overflow-y:auto;overflow-x:hidden;display:block!important}.tree-icon[_ngcontent-%COMP%]{font-size:18px;width:24px;height:24px;display:flex;line-height:24px;color:var(--base-color);align-items:center;justify-content:center}  .node-name{color:var(--gray-color);letter-spacing:.5px;font-size:16px;padding:6px 14px!important;cursor:pointer}  .node-name.markSelected{border:none!important;--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity));font-size:1rem;line-height:1.5rem;--tw-text-opacity: 1;color:rgb(10 109 202 / var(--tw-text-opacity))}  .collapsible-wrapper{border-inline-start:1px dashed #ccc;margin-inline-start:25px}  .collapsible-wrapper .node-name{font-size:14px;color:var(--gray-color);letter-spacing:.5px;cursor:pointer}  .collapsible-wrapper .node-name.markSelected{border:none!important;--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity));font-size:1rem;line-height:1.5rem;--tw-text-opacity: 1;color:rgb(10 109 202 / var(--tw-text-opacity))}  .collapsible-wrapper node-icon-wrapper{position:relative}  .collapsible-wrapper node-icon-wrapper:after{content:"";position:absolute;top:50%;inset-inline-start:0;width:90%;height:1px;border:1px dashed #ccc}']}),n})()}];let Ln=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[y.Bz.forChild(Jn),y.Bz]}),n})();var Bn=c(8231),Gn=c(7392),Yn=c(3162),zn=c(1948),jn=c(6257),Qn=c(6205),Hn=c(9245),Kn=c(388),Rn=c(6776),$n=c(8723),Vn=c(2440);let Wn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[g.ez,Ln,Bn.m,l.u5,m.QJ,l.UX,F.aw,D.A0,Gn.Ps,zn.Fk,b.IJ,Yn.Cv,Kn.zk,G.P4,Rn.Db,Qn.X,Hn.mr,jn.T5,$n.Y3,Vn.Xz]}),n})()},3683:(k,M,c)=>{"use strict";c.d(M,{S:()=>Z});var g=c(4650),y=c(6895),l=c(9116),A=c(9383);const C=function(p,m){return{ar:p,en:m}};function d(p,m){if(1&p&&(g.TgZ(0,"button",5),g._UZ(1,"span",2)(2,"img",6),g.qZA()),2&p){const h=g.oxw();g.s9C("routerLink",h.title.main.link),g.xp6(1),g.Q6J("translate","name")("translateParams",g.WLB(3,C,null==h.title?null:h.title.main.name.ar,null==h.title?null:h.title.main.name.en))}}function x(p,m){1&p&&g._UZ(0,"img",6)}function b(p,m){if(1&p&&g._UZ(0,"span",2),2&p){const h=g.oxw();g.Q6J("translate","name")("translateParams",g.WLB(2,C,null==h.title||null==h.title.child?null:h.title.child.ar,null==h.title||null==h.title.child?null:h.title.child.en))}}let Z=(()=>{class p{}return p.\u0275fac=function(h){return new(h||p)},p.\u0275cmp=g.Xpm({type:p,selectors:[["app-navigator"]],inputs:{title:"title"},decls:5,vars:8,consts:[[1,"flex","gap-2","text-neutral-500","text-lg"],["class","flex items-center gap-2 mb-2",3,"routerLink",4,"ngIf"],[3,"translate","translateParams"],["class","w-5","src","assets/icons/r-arrow.svg","alt","right arrow",4,"ngIf"],[3,"translate","translateParams",4,"ngIf"],[1,"flex","items-center","gap-2","mb-2",3,"routerLink"],["src","assets/icons/r-arrow.svg","alt","right arrow",1,"w-5"]],template:function(h,t){1&h&&(g.TgZ(0,"div",0),g.YNc(1,d,3,6,"button",1),g._UZ(2,"span",2),g.YNc(3,x,1,0,"img",3),g.YNc(4,b,1,5,"span",4),g.qZA()),2&h&&(g.xp6(1),g.Q6J("ngIf",null==t.title||null==t.title.main?null:t.title.main.link),g.xp6(1),g.Q6J("translate","name")("translateParams",g.WLB(5,C,null==t.title?null:t.title.sub.ar,null==t.title?null:t.title.sub.en)),g.xp6(1),g.Q6J("ngIf",null==t.title?null:t.title.child),g.xp6(1),g.Q6J("ngIf",null==t.title?null:t.title.child))},dependencies:[y.O5,l.rH,A.Pi],styles:["img[_ngcontent-%COMP%]:lang(en){transform:rotateX(180deg)}"]}),p})()},4327:function(k,M){var c,y;void 0!==(y="function"==typeof(c=function(){"use strict";function A(p,m,h){var t=new XMLHttpRequest;t.open("GET",p),t.responseType="blob",t.onload=function(){Z(t.response,m,h)},t.onerror=function(){console.error("could not download file")},t.send()}function C(p){var m=new XMLHttpRequest;m.open("HEAD",p,!1);try{m.send()}catch{}return 200<=m.status&&299>=m.status}function d(p){try{p.dispatchEvent(new MouseEvent("click"))}catch{var m=document.createEvent("MouseEvents");m.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),p.dispatchEvent(m)}}var x="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,b=x.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),Z=x.saveAs||("object"!=typeof window||window!==x?function(){}:"download"in HTMLAnchorElement.prototype&&!b?function(p,m,h){var t=x.URL||x.webkitURL,v=document.createElement("a");v.download=m=m||p.name||"download",v.rel="noopener","string"==typeof p?(v.href=p,v.origin===location.origin?d(v):C(v.href)?A(p,m,h):d(v,v.target="_blank")):(v.href=t.createObjectURL(p),setTimeout(function(){t.revokeObjectURL(v.href)},4e4),setTimeout(function(){d(v)},0))}:"msSaveOrOpenBlob"in navigator?function(p,m,h){if(m=m||p.name||"download","string"!=typeof p)navigator.msSaveOrOpenBlob(function l(p,m){return typeof m>"u"?m={autoBom:!1}:"object"!=typeof m&&(console.warn("Deprecated: Expected third argument to be a object"),m={autoBom:!m}),m.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(p.type)?new Blob(["\ufeff",p],{type:p.type}):p}(p,h),m);else if(C(p))A(p,m,h);else{var t=document.createElement("a");t.href=p,t.target="_blank",setTimeout(function(){d(t)})}}:function(p,m,h,t){if((t=t||open("","_blank"))&&(t.document.title=t.document.body.innerText="downloading..."),"string"==typeof p)return A(p,m,h);var v="application/octet-stream"===p.type,N=/constructor/i.test(x.HTMLElement)||x.safari,F=/CriOS\/[\d]+/.test(navigator.userAgent);if((F||v&&N||b)&&typeof FileReader<"u"){var w=new FileReader;w.onloadend=function(){var O=w.result;O=F?O:O.replace(/^data:[^;]*;/,"data:attachment/file;"),t?t.location.href=O:location=O,t=null},w.readAsDataURL(p)}else{var P=x.URL||x.webkitURL,E=P.createObjectURL(p);t?t.location=E:location.href=E,t=null,setTimeout(function(){P.revokeObjectURL(E)},4e4)}});x.saveAs=Z.saveAs=Z,k.exports=Z})?c.apply(M,[]):c)&&(k.exports=y)}}]);